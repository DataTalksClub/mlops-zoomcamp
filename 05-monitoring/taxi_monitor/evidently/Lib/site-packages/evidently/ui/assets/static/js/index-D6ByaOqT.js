const __vite__fileDeps=["static/js/index-C31Sqnps.js","static/js/vendor-CmCdJidw.js","static/js/createSvgIcon-C96PFZfH.js","static/js/index-v1sDJlOH.js","static/js/DashboardViewParams-B9orGR5W.js","static/js/index-BY6V2Y10.js","static/js/DashboardWidgets-Ba2wfP2u.js","static/js/DashboardContent-ClNKCdbH.js","static/js/Edit-BcjZfdDu.js","static/js/index-BWrpN-V1.js","static/js/index-aMPYZdgb.js","static/js/ContentCopy-BwagEdvM.js","static/css/index-C5isHALn.css","static/js/index-CcxL9Qb3.js","static/js/index-4yzo42d5.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var U=Object.defineProperty;var z=(t,e,r)=>e in t?U(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var S=(t,e,r)=>(z(t,typeof e!="symbol"?e+"":e,r),r);import{c as A,g as y,u as H,j as s,A as M,a as B,i as W,T as D,b as g,L as G,d as J,G as $,B as T,F as q,S as Q,e as Y,I as K,f as X,M as p,D as C,C as Z,h as ee,k as E,z as _,l as te,m as re,R as se,n as oe,o as ne}from"./vendor-CmCdJidw.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const{transitions:k}=A(),j="#ed0500",ie="#ded5d5",ae=A({shape:{borderRadius:5},palette:{primary:{main:y[900],light:y[200]},secondary:{main:j,dark:"#c10400",light:y[200]},background:{default:"white",paper:"white"}},components:{MuiLink:{styleOverrides:{root:{transition:k.create("color",{duration:k.duration.enteringScreen}),"&:hover":{color:j}}}},MuiTabs:{styleOverrides:{flexContainer:{gap:"10px"},indicator:{backgroundColor:j}}},MuiButton:{styleOverrides:{contained:{"&:hover":{background:y[800]}},outlined:{"&:hover":{color:j,borderColor:j,background:"white"}},text:{"&:hover":{color:j,borderColor:j}}}},MuiTab:{defaultProps:{color:"secondary"},styleOverrides:{root:{fontSize:"1rem",borderRadius:"5px","&:hover":{background:y[200]}}}},MuiIconButton:{styleOverrides:{root:{transition:k.create("color",{duration:k.duration.enteringScreen}),color:y[900],"&:hover":{color:j}}}},MuiSwitch:{defaultProps:{color:"secondary"}},MuiToggleButton:{defaultProps:{color:"secondary"},styleOverrides:{root:{transition:k.create("color",{duration:k.duration.enteringScreen}),color:y[900],"&:hover":{color:j},"&.Mui-disabled":{border:"unset",background:y[100]}}}},MuiToggleButtonGroup:{defaultProps:{color:"secondary"}},MuiLinearProgress:{defaultProps:{color:"secondary"}},MuiPaper:{styleOverrides:{root:{boxShadow:"unset",border:"1px solid",borderColor:ie}}}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),button:{fontWeight:"bold",textTransform:"none"}}}),v=()=>{var e;const t=H();return s.jsxs(M,{severity:"error",children:[s.jsx(B,{children:"Something went wrong"}),W(t)&&s.jsxs(s.Fragment,{children:[s.jsx(D,{fontWeight:"bold",children:[`Status: ${t.status}`,typeof((e=t.data)==null?void 0:e.detail)=="string"&&t.data.detail].filter(Boolean).join(", ")}),typeof t.data=="string"&&s.jsx(D,{children:t.data})]}),typeof t=="string"&&s.jsx(D,{fontWeight:"bold",children:t})]})},ce="modulepreload",he=function(t){return"/"+t},L={},w=function(e,r,i){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),a=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));o=Promise.all(r.map(c=>{if(c=he(c),c in L)return;L[c]=!0;const f=c.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":ce,f||(h.as="script",h.crossOrigin=""),h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),f)return new Promise((b,I)=>{h.addEventListener("load",b),h.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${c}`)))})}))}return o.then(()=>e()).catch(n=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=n,window.dispatchEvent(a),!a.defaultPrevented)throw n})},de=({api:t})=>({loader:()=>t.getVersion()});class x{constructor(){S(this,"at",0);S(this,"ch","");S(this,"text","");S(this,"escapee",{'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"})}error(e){throw{name:"SyntaxError",message:e,at:this.at,text:this.text}}next(){return this.ch=this.text.charAt(this.at++)}check(e){e!==this.ch&&this.error(`Expected '${e}' instead of '${this.ch}'`),this.ch=this.text.charAt(this.at++)}number(){var e="";if(this.ch==="-"&&(e="-",this.check("-")),this.ch==="I")return this.check("I"),this.check("n"),this.check("f"),this.check("i"),this.check("n"),this.check("i"),this.check("t"),this.check("y"),-1/0;for(;this.ch>="0"&&this.ch<="9";)e+=this.ch,this.next();if(this.ch===".")for(e+=".";this.next()&&this.ch>="0"&&this.ch<="9";)e+=this.ch;if(this.ch==="e"||this.ch==="E")for(e+=this.ch,this.next(),(this.ch==="-"||this.ch==="+")&&(e+=this.ch,this.next());this.ch>="0"&&this.ch<="9";)e+=this.ch,this.next();return+e}string(){var e,r,i="",o;if(this.ch==='"')for(;this.next();){if(this.ch==='"')return this.next(),i;if(this.ch==="\\")if(this.next(),this.ch==="u"){for(o=0,r=0;r<4&&(e=parseInt(this.next(),16),!!isFinite(e));r++)o=o*16+e;i+=String.fromCharCode(o)}else if(this.escapee[this.ch])i+=this.escapee[this.ch];else break;else i+=this.ch}this.error("Bad string")}white(){for(;this.ch&&this.ch<=" ";)this.next()}word(){switch(this.ch){case"t":return this.check("t"),this.check("r"),this.check("u"),this.check("e"),!0;case"f":return this.check("f"),this.check("a"),this.check("l"),this.check("s"),this.check("e"),!1;case"n":return this.check("n"),this.check("u"),this.check("l"),this.check("l"),null;case"N":return this.check("N"),this.check("a"),this.check("N"),NaN;case"I":return this.check("I"),this.check("n"),this.check("f"),this.check("i"),this.check("n"),this.check("i"),this.check("t"),this.check("y"),1/0}this.error("Unexpected '"+this.ch+"'")}array(){var e=[];if(this.ch==="["){if(this.check("["),this.white(),this.ch==="]")return this.check("]"),e;for(;this.ch;){if(e.push(this.value()),this.white(),this.ch==="]")return this.check("]"),e;this.check(","),this.white()}}this.error("Bad array")}object(){var e,r={};if(this.ch==="{"){if(this.check("{"),this.white(),this.ch==="}")return this.check("}"),r;for(;this.ch;){if(e=this.string(),this.white(),this.check(":"),Object.hasOwnProperty.call(r,e)&&this.error('Duplicate key "'+e+'"'),r[e]=this.value(),this.white(),this.ch==="}")return this.check("}"),r;this.check(","),this.white()}}this.error("Bad object")}value(){switch(this.white(),this.ch){case"{":return this.object();case"[":return this.array();case'"':return this.string();case"-":return this.number();default:return this.ch>="0"&&this.ch<="9"?this.number():this.word()}}parse(e,r){let i;return this.text=e,this.at=0,this.ch=" ",i=this.value(),this.white(),this.ch&&this.error("Syntax error"),r!==void 0?function o(n,a){var c,f,d=n[a];if(d&&typeof d=="object")for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&(f=o(d,c),f!==void 0?d[c]=f:delete d[c]);return r.call(n,a,d)}({"":i},""):i}}async function l(...t){const e=await fetch(...t);if(!e.ok&&e.status>=400)throw e;return e}class le{constructor(e){S(this,"endpoint");this.endpoint=e}async getAdditionalGraphData(e,r,i){const o=await l(`${this.endpoint}/projects/${e}/${r}/graphs_data/${i}`);return new x().parse(await o.text())}async getAdditionalWidgetData(e,r,i){const o=await l(`${this.endpoint}/projects/${e}/${r}/graphs_data/${i}`);return new x().parse(await o.text())}async getDashboard(e,r){const i=await l(`${this.endpoint}/projects/${e}/${r}/data`);return new x().parse(await i.text())}async getProjects(){const e=await l(`${this.endpoint}/projects`);return new x().parse(await e.text())}async getProjectDashboard(e,r,i){const o=new URLSearchParams;r&&o.append("timestamp_start",r),i&&o.append("timestamp_end",i);const n=await l(`${this.endpoint}/projects/${e}/dashboard?${o.toString()}`);return new x().parse(await n.text())}async getReports(e){const r=await l(`${this.endpoint}/projects/${e}/reports`);return new x().parse(await r.text())}async getTestSuites(e){const r=await l(`${this.endpoint}/projects/${e}/test_suites`);return new x().parse(await r.text())}async getProjectInfo(e){const r=await l(`${this.endpoint}/projects/${e}/info`);return new x().parse(await r.text())}async getVersion(){return(await l(`${this.endpoint}/version`)).json()}async editProjectInfo(e){return l(`${this.endpoint}/projects/${e.id}/info`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}async reloadProject(e){return l(`${this.endpoint}/projects/${e}/reload`)}async createProject(e){const r=new URLSearchParams;return e.team_id&&r.append("team_id",e.team_id),(await l(`${this.endpoint}/projects?${r.toString()}`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}async deleteProject(e){return l(`${this.endpoint}/projects/${e}`,{method:"delete"})}}const P=new le("/api"),ue="/static/img/logo.png",{loader:pe}=de({api:P}),fe={path:"/",lazy:async()=>{const{HomeComponentTemplate:t,...e}=await w(()=>import("./index-C31Sqnps.js"),__vite__mapDeps([0,1,2]));return{Component:()=>s.jsx(t,{logoSrc:ue}),...e}},loader:pe,ErrorBoundary:v},me=({api:t})=>({loader:({params:e})=>{const{projectId:r}=e;return g(r),t.getProjectInfo(r)}}),je=t=>{if(t.headers.get("Content-type")!=="application/json")throw new Response("Unsupported Media Type",{status:415})};function R(t){return typeof t!=typeof new Date?(console.log(`not a date ${typeof t}: ${t}`),t):`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}T${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`}const u={FROM:"date_from",TO:"date_to"},ye=t=>{let e=t.get(u.FROM),r=t.get(u.TO);return{date_from:e,date_to:r}},xe=({dataRanges:t})=>{const[e,r]=ee(),{date_from:i,date_to:o}=ye(e),n=E(i||t.minDate),a=E(o||t.maxDate);return{isCorrectTimeInterval:n.isValid()&&a.isValid()&&(n.isSame(a)||n.isBefore(a)),date_from:n,date_to:a,setSearchParams:r}},Ge=({dataRanges:t,isDashboardHideDates:e,setIsDashboardHideDates:r,isShowDateFilter:i})=>{const{isCorrectTimeInterval:o,date_from:n,date_to:a,setSearchParams:c}=xe({dataRanges:t}),f=o?"":"incorrect time interval",d=h=>b=>{c(I=>(I.delete(h),b&&I.append(h,R(b.toDate())),I),{preventScrollReset:!0,replace:!0})};return s.jsx(G,{dateAdapter:J,adapterLocale:"en-gb",children:s.jsxs($,{container:!0,padding:1,zIndex:1,gap:2,justifyContent:"flex-end",alignItems:"flex-end",children:[s.jsx($,{item:!0,children:s.jsx(T,{minWidth:180,display:"flex",justifyContent:"center",children:s.jsx(q,{control:s.jsx(Q,{checked:e,onChange:h=>r(h.target.checked)}),label:"Show in order"})})}),i&&s.jsxs(s.Fragment,{children:[s.jsx($,{item:!0,xs:12,md:2,children:s.jsxs(Y,{fullWidth:!0,children:[s.jsx(K,{children:"Period"}),s.jsxs(X,{variant:"standard",defaultValue:"",onChange:h=>{const[b,I]=h.target.value.split(",");if(b===""){c(m=>(m.delete(u.FROM),m.delete(u.TO),m),{preventScrollReset:!0,replace:!0});return}const[N,V]=[Number(b),I],O=t.maxDate.subtract(N,V);c(m=>(m.delete(u.FROM),m.delete(u.TO),m.append(u.FROM,R(O.isBefore(t.minDate)?t.minDate.toDate():O.toDate())),m.append(u.TO,R(t.maxDate.toDate())),m),{preventScrollReset:!0,replace:!0})},children:[s.jsx(p,{value:"",children:s.jsx("em",{children:"None"})}),s.jsx(p,{value:"10,minutes",children:"Last 10 Minutes"}),s.jsx(p,{value:"30,minutes",children:"Last 30 Minutes"}),s.jsx(p,{value:"1,hours",children:"Last 1 Hours"}),s.jsx(p,{value:"2,hours",children:"Last 2 Hours"}),s.jsx(p,{value:"8,hours",children:"Last 8 Hours"}),s.jsx(p,{value:"24,hours",children:"Last 24 Hours"}),s.jsx(p,{value:"7,days",children:"Last 7 Days"}),s.jsx(p,{value:"14,days",children:"Last 14 Days"}),s.jsx(p,{value:"28,days",children:"Last 28 Days"}),s.jsx(p,{value:"60,days",children:"Last 60 Days"})]})]})}),s.jsx($,{item:!0,children:s.jsxs(T,{display:"flex",alignItems:"center",gap:2,children:[s.jsx(C,{minDate:t.minDate,maxDate:t.maxDate&&a,slotProps:{textField:{variant:"standard"}},label:"From",value:n,onChange:d(u.FROM)}),s.jsx(T,{height:1,display:"flex",alignItems:"center",children:s.jsx(D,{children:" - "})}),s.jsx(C,{minDate:t.minDate&&n,maxDate:t.maxDate,slotProps:{textField:{variant:"standard"}},label:"To",value:a,onChange:d(u.TO)})]})}),s.jsx($,{item:!0,xs:12,children:s.jsx(Z,{unmountOnExit:!0,in:!o,children:s.jsxs(M,{severity:"error",children:[s.jsx(B,{children:"Error"}),f]})})})]})]})})},ge=({api:t})=>({loader:({params:e,request:r})=>{g(e.projectId);const{searchParams:i}=new URL(r.url);let o=i.get(u.FROM),n=i.get(u.TO);return o&&!E(o).isValid()&&(o=null),n&&!E(n).isValid()&&(n=null),t.getProjectDashboard(e.projectId,o,n)}}),{loader:we}=ge({api:P}),ve={index:!0,id:"dashboard",lazy:async()=>{const[{DashboardComponentTemplate:t},{DashboardWidgets:e}]=await Promise.all([w(()=>import("./index-v1sDJlOH.js"),__vite__mapDeps([3,1,4,5])),w(()=>import("./DashboardWidgets-Ba2wfP2u.js"),__vite__mapDeps([6,1,7,4,2,8]))]);return{Component:()=>s.jsx(t,{Dashboard:({data:{widgets:r}})=>s.jsx(e,{widgets:r})})}},loader:we,ErrorBoundary:v},Pe=({api:t})=>({loader:({params:e})=>(g(e.projectId),e.snapshotId?Promise.resolve([]):t.getReports(e.projectId)),action:async({params:e})=>(g(e.projectId),t.reloadProject(e.projectId))}),be=({api:t})=>({loader:({params:e})=>(g(e.projectId),e.snapshotId?Promise.resolve([]):t.getTestSuites(e.projectId)),action:async({params:e})=>(g(e.projectId),t.reloadProject(e.projectId))}),Ie=({api:t})=>({loader:({params:e})=>{const{projectId:r,snapshotId:i}=e;return g(r),g(i),t.getDashboard(r,i)}}),{loader:_e}=Ie({api:P}),F={path:":snapshotId",lazy:async()=>{const{SnapshotTemplate:t,...e}=await w(()=>import("./index-BWrpN-V1.js"),__vite__mapDeps([9,1,7,4,2,8]));return{Component:()=>s.jsx(t,{api:P}),...e}},loader:_e,ErrorBoundary:v},{loader:Se,action:ke}=Pe({api:P}),$e={id:"reports",path:"reports",lazy:async()=>{const{SnapshotsListTemplate:t,...e}=await w(()=>import("./index-aMPYZdgb.js"),__vite__mapDeps([10,1,5,11,2,12]));return{...e,Component:()=>s.jsx(t,{type:"reports"})}},loader:Se,action:ke,ErrorBoundary:v,children:[F]},{loader:De,action:Te}=be({api:P}),Ee={id:"test_suites",path:"test-suites",lazy:async()=>{const{SnapshotsListTemplate:t,...e}=await w(()=>import("./index-aMPYZdgb.js"),__vite__mapDeps([10,1,5,11,2,12]));return{...e,Component:()=>s.jsx(t,{type:"test suites"})}},loader:De,action:Te,ErrorBoundary:v,children:[F]},{loader:Re}=me({api:P}),Oe={path:"projects/:projectId",lazy:()=>w(()=>import("./index-CcxL9Qb3.js"),__vite__mapDeps([13,1,11,2])),loader:Re,ErrorBoundary:v,children:[ve,$e,Ee]},Ce=_.object({action:_.literal("edit-project")}),Le=_.object({action:_.literal("create-new-project")}),Ae=_.object({action:_.literal("delete-project"),projectId:_.string().uuid()}),Me=({api:t})=>({loader:()=>t.getProjects(),action:async({request:e})=>{je(e);const r=await e.json();if(Le.safeParse(r).success)return t.createProject(r);const i=Ae.safeParse(r);if(i.success)return t.deleteProject(i.data.projectId);if(Ce.safeParse(r).success)return t.editProjectInfo(r);throw"Undefined action"}}),{loader:Be,action:Fe}=Me({api:P}),Ne={index:!0,lazy:()=>w(()=>import("./index-4yzo42d5.js"),__vite__mapDeps([14,1,8,2,5])),loader:Be,action:Fe,ErrorBoundary:v},Ve={path:"*",Component:()=>s.jsx(T,{display:"flex",justifyContent:"center",children:s.jsx(D,{variant:"h4",children:"Page Not Found"})})},Ue={...fe,children:[Ne,Oe,Ve],ErrorBoundary:v},ze=te([Ue]);re.createRoot(document.getElementById("root")).render(s.jsx(se.StrictMode,{children:s.jsx(oe,{theme:ae,children:s.jsx(ne,{router:ze})})}));export{Ge as D};
