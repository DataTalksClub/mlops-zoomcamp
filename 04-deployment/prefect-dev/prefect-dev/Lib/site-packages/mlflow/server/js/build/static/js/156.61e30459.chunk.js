(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[156],{77198:function(e,t,n){"use strict";n.d(t,{h:function(){return u}});var r,i,o,s,a,l=n(31014);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(e,t){let{title:n,titleId:d,...u}=e;return l.createElement("svg",c({width:18,height:16,viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":d},u),n?l.createElement("title",{id:d},n):null,r||(r=l.createElement("path",{d:"M1 0.813599V15.1865H17",stroke:"#A3AEB8",strokeLinecap:"round"})),i||(i=l.createElement("rect",{x:3.16943,y:10.5763,width:2.16949,height:3.25424,fill:"#338ECC"})),o||(o=l.createElement("rect",{x:6.42371,y:5.15259,width:2.16949,height:8.67797,fill:"#338ECC"})),s||(s=l.createElement("rect",{x:9.67798,y:8.40686,width:2.16949,height:5.42373,fill:"#338ECC"})),a||(a=l.createElement("rect",{x:12.9323,y:1.89832,width:2.16949,height:11.9322,fill:"#338ECC"})))}const u=l.forwardRef(d);n.p},6211:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var r,i,o,s=n(31014);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){let{title:n,titleId:l,...c}=e;return s.createElement("svg",a({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},c),n?s.createElement("title",{id:l},n):null,r||(r=s.createElement("path",{d:"M1 1V17H17",stroke:"#A3AEB8",strokeLinecap:"round"})),i||(i=s.createElement("path",{d:"M12.9749 4.94148C12.9188 4.71702 12.221 4.73284 12.0618 4.71515C11.1779 4.61693 10.2817 4.66052 9.39271 4.66052C8.11919 4.66052 7.15648 4.97961 6.24753 5.90922C5.86197 6.30355 5.5235 6.77684 5.23295 7.24378C4.99434 7.62726 4.65544 7.93479 4.40569 8.31299C3.93777 9.02154 3.56281 9.80723 3.56281 10.6699C3.56281 11.1806 3.37479 11.598 3.76962 12.0669C4.19449 12.5714 4.6863 12.9507 5.27978 13.2649C5.88594 13.5858 6.42202 13.8619 7.13723 13.8619C7.74338 13.8619 8.34952 13.8619 8.95567 13.8619C9.45735 13.8619 9.96042 13.8731 10.4619 13.8619C11.1412 13.8468 11.9484 13.1895 12.413 12.7381C13.581 11.6035 14.2393 9.88016 14.2393 8.24665C14.2393 7.69923 14.3797 7.17063 14.3797 6.62723C14.3797 6.40084 14.4779 5.87696 14.2744 5.71411C13.9268 5.43606 13.5785 5.13789 13.1857 4.94148",stroke:"#338ECC",strokeLinecap:"round"})),o||(o=s.createElement("path",{d:"M11.9213 6.83789C11.2761 6.83789 10.6309 6.83789 9.98577 6.83789C9.19776 6.83789 8.80182 7.44144 8.2844 7.97734C7.58163 8.70521 7.28544 9.67306 7.28544 10.666C7.28544 10.9641 7.22004 11.177 7.46104 11.3645C7.6831 11.5372 8.10719 11.6142 8.37806 11.6142C9.07316 11.6142 9.91042 11.5583 10.4462 11.0523C10.9277 10.5975 11.473 10.3701 11.8159 9.75284C12.045 9.34042 12.2022 8.86324 12.2022 8.38317C12.2022 8.14903 12.2022 7.9149 12.2022 7.68077C12.2022 7.4241 12.0208 7.38817 11.9213 7.18909",stroke:"#338ECC",strokeLinecap:"round"})))}const c=s.forwardRef(l);n.p},32582:function(e,t,n){"use strict";n.d(t,{h:function(){return A}});var r,i,o,s,a,l,c,d,u,p,h,m,g,f,v,y,x,C,b=n(31014);function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(this,arguments)}function w(e,t){let{title:n,titleId:w,...A}=e;return b.createElement("svg",M({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":w},A),n?b.createElement("title",{id:w},n):null,r||(r=b.createElement("rect",{y:2,width:4,height:1,fill:"#338ECC"})),i||(i=b.createElement("rect",{x:5,y:2,width:4,height:1,fill:"#338ECC"})),o||(o=b.createElement("rect",{x:10,y:2,width:4,height:1,fill:"#338ECC"})),s||(s=b.createElement("rect",{y:4,width:4,height:1,fill:"#338ECC"})),a||(a=b.createElement("rect",{x:5,y:4,width:4,height:1,fill:"#338ECC"})),l||(l=b.createElement("rect",{x:10,y:4,width:4,height:1,fill:"#338ECC"})),c||(c=b.createElement("rect",{y:6,width:4,height:1,fill:"#D9D9D9"})),d||(d=b.createElement("rect",{x:5,y:6,width:4,height:1,fill:"#D9D9D9"})),u||(u=b.createElement("rect",{x:10,y:6,width:4,height:1,fill:"#D9D9D9"})),p||(p=b.createElement("rect",{y:8,width:4,height:1,fill:"#D9D9D9"})),h||(h=b.createElement("rect",{x:5,y:8,width:4,height:1,fill:"#D9D9D9"})),m||(m=b.createElement("rect",{x:10,y:8,width:4,height:1,fill:"#D9D9D9"})),g||(g=b.createElement("rect",{y:10,width:4,height:1,fill:"#D9D9D9"})),f||(f=b.createElement("rect",{x:5,y:10,width:4,height:1,fill:"#D9D9D9"})),v||(v=b.createElement("rect",{x:10,y:10,width:4,height:1,fill:"#D9D9D9"})),y||(y=b.createElement("rect",{y:12,width:4,height:1,fill:"#D9D9D9"})),x||(x=b.createElement("rect",{x:5,y:12,width:4,height:1,fill:"#D9D9D9"})),C||(C=b.createElement("rect",{x:10,y:12,width:4,height:1,fill:"#D9D9D9"})))}const A=b.forwardRef(w);n.p},99790:function(e,t,n){"use strict";n.d(t,{h:function(){return d}});var r,i,o,s,a=n(31014);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){let{title:n,titleId:c,...d}=e;return a.createElement("svg",l({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},d),n?a.createElement("title",{id:c},n):null,r||(r=a.createElement("rect",{x:.5,y:.5,width:15,height:15,stroke:"#C4C4C4"})),i||(i=a.createElement("line",{x1:8.5,y1:.800049,x2:8.5,y2:16,stroke:"#C4C4C4"})),o||(o=a.createElement("line",{x1:16,y1:5.69995,x2:-2.63656e-8,y2:5.69995,stroke:"#C4C4C4"})),s||(s=a.createElement("line",{x1:16,y1:10.9,x2:-2.63656e-8,y2:10.9,stroke:"#C4C4C4"})))}const d=a.forwardRef(c);n.p},73549:function(e,t,n){"use strict";n.d(t,{h:function(){return l}});var r,i,o=n(31014);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function a(e,t){let{title:n,titleId:a,...l}=e;return o.createElement("svg",s({width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},l),n?o.createElement("title",{id:a},n):null,r||(r=o.createElement("path",{d:"M4.38977 15.717L8.79655 10.8113L12.5254 14.9622L19.644 7.03772",stroke:"#338ECC",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),i||(i=o.createElement("path",{d:"M1 1V21H21",stroke:"#A3AEB8",strokeLinecap:"round"})))}const l=o.forwardRef(a);n.p},43270:function(e,t,n){"use strict";n.d(t,{h:function(){return u}});var r,i,o,s,a,l=n(31014);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(e,t){let{title:n,titleId:d,...u}=e;return l.createElement("svg",c({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":d},u),n?l.createElement("title",{id:d},n):null,r||(r=l.createElement("path",{d:"M1 1V17H17",stroke:"#A3AEB8",strokeLinecap:"round"})),i||(i=l.createElement("path",{d:"M4.21875 3.58289C4.55663 3.58289 4.88067 3.68935 5.21469 3.73008C5.6474 3.78285 6.02137 3.96513 6.37191 4.21552C6.76902 4.49917 7.0271 4.74589 7.24101 5.18954C7.44337 5.60925 7.59378 6.06989 7.72958 6.51432C7.86002 6.94121 8.09708 7.33726 8.19153 7.77803C8.25347 8.0671 8.34514 8.32427 8.44678 8.60015C8.58028 8.96252 8.80086 9.27915 8.96667 9.62583C9.15145 10.0122 9.216 10.4461 9.34876 10.8551C9.57831 11.5623 9.91132 12.4763 10.7205 12.6731C11.4284 12.8453 12.1459 12.8845 12.8705 12.8845C13.0981 12.8845 13.3979 12.898 13.5831 12.7499C13.6402 12.7042 13.7451 12.6907 13.8164 12.6591C13.8752 12.6329 14.0919 12.5871 14.1123 12.5463",stroke:"#CCE3F2",strokeLinecap:"round"})),o||(o=l.createElement("path",{d:"M4.16162 12.9805C4.32512 12.9805 4.4895 12.9859 4.65284 12.9805C4.84076 12.9742 5.0468 12.7952 5.2099 12.707C5.62236 12.4841 5.99426 12.0648 6.24299 11.6739C6.49491 11.2781 6.8776 10.9871 7.0887 10.5649C7.27767 10.187 7.50992 9.80749 7.73691 9.45078C7.93911 9.13304 8.10211 8.77722 8.28637 8.44554C8.43088 8.18544 8.45 7.88672 8.60542 7.62768C8.94898 7.05509 9.16215 6.418 9.45873 5.82484C9.72614 5.29001 9.96898 4.82426 10.4159 4.42207C10.5753 4.27853 10.8984 4.21824 11.0995 4.14861C11.3303 4.06873 11.579 4.02714 11.8136 3.93592C12.0394 3.84807 12.2521 3.84383 12.4795 3.77386C12.6993 3.70623 12.9319 3.63713 13.1632 3.63713C13.5192 3.63713 13.9089 3.59155 14.2798 3.59155",stroke:"#CCE3F2",strokeLinecap:"round"})),s||(s=l.createElement("path",{d:"M3.79248 2.74207V13.8225",stroke:"#338ECC",strokeLinecap:"round"})),a||(a=l.createElement("path",{d:"M14.873 3.04419V13.7217",stroke:"#338ECC",strokeLinecap:"round"})))}const u=l.forwardRef(d);n.p},74035:function(e,t,n){"use strict";n.d(t,{h:function(){return h}});var r,i,o,s,a,l,c,d=n(31014);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function p(e,t){let{title:n,titleId:p,...h}=e;return d.createElement("svg",u({width:18,height:16,viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":p},h),n?d.createElement("title",{id:p},n):null,r||(r=d.createElement("path",{d:"M1 0.813599V15.1865H17",stroke:"#A3AEB8",strokeLinecap:"round"})),i||(i=d.createElement("circle",{cx:3.98301,cy:12.4746,r:1.35593,fill:"#338ECC"})),o||(o=d.createElement("ellipse",{cx:9.40684,cy:10.8475,rx:1.35593,ry:1.35593,fill:"#338ECC"})),s||(s=d.createElement("circle",{cx:5.6102,cy:8.1356,r:1.35593,fill:"#338ECC",fillOpacity:.25})),a||(a=d.createElement("circle",{cx:9.40684,cy:6.50852,r:1.35593,fill:"#338ECC"})),l||(l=d.createElement("ellipse",{cx:13.7457,cy:5.96616,rx:1.35593,ry:1.35593,fill:"#338ECC",fillOpacity:.25})),c||(c=d.createElement("ellipse",{cx:16.4576,cy:2.46128,rx:1.35593,ry:1.35593,fill:"#338ECC"})))}const h=d.forwardRef(p);n.p},21317:function(e,t,n){"use strict";n.d(t,{h:function(){return u}});var r,i,o,s,a,l=n(31014);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(e,t){let{title:n,titleId:d,...u}=e;return l.createElement("svg",c({width:19,height:16,viewBox:"0 0 19 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":d},u),n?l.createElement("title",{id:d},n):null,l.createElement("g",{clipPath:"url(#clip0_0_3)"},l.createElement("mask",{id:"mask0_0_3",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:0,y:0,width:16,height:16},r||(r=l.createElement("path",{d:"M16 0H0V16H16V0Z",fill:"white"}))),i||(i=l.createElement("g",{mask:"url(#mask0_0_3)"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.75 3.49999C2.05964 3.49999 1.5 4.05963 1.5 4.74999C1.5 5.44034 2.05964 5.99999 2.75 5.99999C3.44036 5.99999 4 5.44034 4 4.74999C4 4.05963 3.44036 3.49999 2.75 3.49999ZM0 4.74999C0 3.2312 1.23122 1.99999 2.75 1.99999C3.77682 1.99999 4.6722 2.56276 5.14452 3.39669L9.51655 2.44626C9.66772 1.0704 10.8338 0 12.25 0C13.7688 0 15 1.23122 15 2.75C15 3.87686 14.3222 4.84541 13.3521 5.27025L13.6341 7.52661C14.9711 7.71349 16 8.86158 16 10.25C16 11.7688 14.7687 13 13.25 13C12.3895 13 11.6214 12.6048 11.1172 11.9861L8.49749 13.1322C8.49913 13.1713 8.49997 13.2105 8.49997 13.25C8.49996 14.7688 7.26875 16 5.74997 16C4.23118 16 2.99997 14.7688 2.99996 13.25C2.99997 12.3569 3.42568 11.5633 4.08524 11.0609L3.01322 7.48755C2.92659 7.49578 2.83878 7.49999 2.75 7.49999C1.23122 7.49999 0 6.26877 0 4.74999ZM5.46534 5.18782C5.48277 5.07884 5.4938 4.96773 5.49804 4.85488L9.76409 3.92748C10.1528 4.74671 10.9346 5.34321 11.8658 5.47338L12.1478 7.72974C11.7709 7.89483 11.438 8.14204 11.1719 8.44873L5.46534 5.18782ZM4.82802 6.55126C4.70399 6.69422 4.56546 6.82424 4.41471 6.93906L5.48674 10.5124C5.57337 10.5042 5.66118 10.5 5.74997 10.5C6.69483 10.5 7.52839 10.9765 8.02345 11.7023L10.5231 10.6087C10.5079 10.4913 10.5 10.3716 10.5 10.25C10.5 10.101 10.5118 9.95475 10.5346 9.81218L4.82802 6.55126ZM12 10.25C12 9.55963 12.5596 8.99999 13.25 8.99999C13.9403 8.99999 14.5 9.55963 14.5 10.25C14.5 10.9403 13.9403 11.5 13.25 11.5C12.5596 11.5 12 10.9403 12 10.25ZM5.74997 12C5.05961 12 4.49997 12.5596 4.49997 13.25C4.49997 13.9403 5.05961 14.5 5.74997 14.5C6.44032 14.5 6.99997 13.9403 6.99997 13.25C6.99997 12.5596 6.44032 12 5.74997 12ZM11 2.75C11 2.05964 11.5596 1.5 12.25 1.5C12.9403 1.5 13.5 2.05964 13.5 2.75C13.5 3.44036 12.9403 4 12.25 4C11.5596 4 11 3.44036 11 2.75Z",fill:"currentColor"}))),o||(o=l.createElement("path",{d:"M13.5 14C15.433 14 17 12.433 17 10.5C17 8.567 15.433 7 13.5 7C11.567 7 10 8.567 10 10.5C10 12.433 11.567 14 13.5 14Z",fill:"white"})),s||(s=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.125 11C11.125 9.41218 12.4122 8.125 14 8.125C15.5878 8.125 16.875 9.41218 16.875 11C16.875 12.5878 15.5878 13.875 14 13.875C12.4122 13.875 11.125 12.5878 11.125 11ZM14 6.625C11.5838 6.625 9.625 8.58375 9.625 11C9.625 13.4162 11.5838 15.375 14 15.375C16.4162 15.375 18.375 13.4162 18.375 11C18.375 8.58375 16.4162 6.625 14 6.625ZM14.0303 12.5303L16.0303 10.5303L14.9697 9.46967L13.5 10.9393L13.0303 10.4697L11.9697 11.5303L12.9697 12.5303L13.5 13.0607L14.0303 12.5303Z",fill:"#3CAA60"}))),a||(a=l.createElement("defs",null,l.createElement("clipPath",{id:"clip0_0_3"},l.createElement("rect",{width:19,height:16,fill:"white"})))))}const u=l.forwardRef(d);n.p},40555:function(e,t,n){"use strict";n.d(t,{fX:function(){return u},fh:function(){return l}});var r=n(89555),i=n(31014),o=n(37616),s=n(9133),a=n(50111);const l=e=>{let{json:t,wrapperStyle:n,overlayStyle:i,codeSnippetStyle:s}=e;const{formattedJson:l,isJsonContent:d}=c(t);return(0,a.Y)("div",{style:{position:"relative",maxHeight:"calc(1.5em * 9)",overflow:"hidden",...n},children:d?(0,a.FD)(a.FK,{children:[(0,a.Y)(o.z7,{language:"json",style:{padding:"5px",overflowX:"hidden",...s},children:l}),(0,a.Y)("div",{css:(0,r.AH)({position:"absolute",bottom:0,right:0,left:6,height:"2em",background:"linear-gradient(transparent, white)",...i},"")})]}):(0,a.Y)(a.FK,{children:t})})};function c(e){return i.useMemo((()=>{try{const t=JSON.parse(e),n=(0,s.isObject)(t)&&"function"!==typeof t&&!(t instanceof Date);return{formattedJson:n?JSON.stringify(t,null,2):e,isJsonContent:n}}catch(t){return{formattedJson:e,isJsonContent:!1}}}),[e])}var d={name:"1089mxj",styles:"white-space:pre-wrap"};const u=e=>{let{json:t}=e;const{formattedJson:n,isJsonContent:r}=c(t);return(0,a.Y)("div",{css:d,children:r?(0,a.Y)(o.z7,{language:"json",wrapLongLines:!0,children:n}):(0,a.Y)("span",{children:t})})}},98597:function(e,t,n){"use strict";n.d(t,{tj:function(){return v}});var r=n(89555),i=n(49409),o=n(67727),s=n(31014),a=n(88464),l=n(91167),c=n(56412),d=n(50111);const{Paragraph:u}=o.T;var p={name:"zjik7",styles:"display:flex"},h={name:"1ff36h2",styles:"flex-grow:1"};const m=s.memo((e=>{const{theme:t}=(0,o.u)();return(0,d.Y)(l.M,{title:"Tag: "+e.tagKey,visible:e.isKeyValueTagFullViewModalVisible,onCancel:()=>e.setIsKeyValueTagFullViewModalVisible(!1),children:(0,d.FD)("div",{css:p,children:[(0,d.Y)(u,{css:h,children:(0,d.Y)("pre",{css:(0,r.AH)({backgroundColor:t.colors.backgroundPrimary,marginTop:t.spacing.sm,whiteSpace:"pre-wrap",wordBreak:"break-all"},""),children:e.tagValue})}),(0,d.Y)("div",{css:(0,r.AH)({marginTop:t.spacing.sm},""),children:(0,d.Y)(c.i,{copyText:e.tagValue,showLabel:!1,icon:(0,d.Y)(i.TdU,{}),"aria-label":"Copy"})})]})})})),g=30;function f(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?{overflow:"hidden",textOverflow:"ellipsis",textWrap:"nowrap",whiteSpace:"nowrap"}:{whiteSpace:"nowrap"}}const v=e=>{let{isClosable:t=!1,onClose:n,tag:l,enableFullViewModal:c=!1,charLimit:u=g,maxWidth:p=300,className:h}=e;const v=(0,a.A)(),[y,x]=(0,s.useState)(!1),{shouldTruncateKey:C,shouldTruncateValue:b}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;const{key:n,value:r}=e,i=n.length+r.length,o=n.length>r.length,s=o?r.length:n.length;return i<=t?{shouldTruncateKey:!1,shouldTruncateValue:!1}:s>t/2?{shouldTruncateKey:!0,shouldTruncateValue:!0}:{shouldTruncateKey:o,shouldTruncateValue:!o}}(l,u),M=c&&(C||b),w=v.formatMessage({id:"ZXUtU8",defaultMessage:"Click to see more"});return(0,d.FD)("div",{children:[(0,d.Y)(i.vwO,{closable:t,onClose:n,title:l.key,className:h,children:(0,d.Y)(i.m_M,{title:M?w:"",children:(0,d.FD)("span",{css:(0,r.AH)({maxWidth:p,display:"inline-flex"},""),onClick:()=>M?x(!0):void 0,children:[(0,d.Y)(o.T.Text,{bold:!0,title:l.key,css:f(C),children:l.key}),l.value&&(0,d.FD)(o.T.Text,{title:l.value,css:f(b),children:[": ",l.value]})]})})}),(0,d.Y)("div",{children:y&&(0,d.Y)(m,{tagKey:l.key,tagValue:l.value,isKeyValueTagFullViewModalVisible:y,setIsKeyValueTagFullViewModalVisible:x})})]})}},14343:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var r=n(89555),i=n(31014),o=n(67727),s=n(50111);const a=i.forwardRef(((e,t)=>{const{pressed:n,onClick:i,icon:a,onBlur:l,onFocus:c,onMouseEnter:d,onMouseLeave:u,componentId:p,analyticsEvents:h,type:m,...g}=e,{theme:f}=(0,o.u)(),v=(0,o.b)({componentType:o.c.Button,componentId:p,analyticsEvents:null!==h&&void 0!==h?h:[o.d.OnClick]});return(0,s.Y)("button",{onClick:e=>{v.onClick(),null===i||void 0===i||i(e)},css:(0,r.AH)({cursor:"pointer",width:f.general.heightSm,height:f.general.heightSm,borderRadius:f.borders.borderRadiusMd,lineHeight:f.typography.lineHeightBase,padding:0,border:0,display:"flex",alignItems:"center",justifyContent:"center",background:n?f.colors.actionDefaultBackgroundPress:"transparent",color:n?f.colors.actionDefaultTextPress:f.colors.textSecondary,"&:hover":{background:f.colors.actionDefaultBackgroundHover,color:f.colors.actionDefaultTextHover}},""),ref:t,onBlur:l,onFocus:c,onMouseEnter:d,onMouseLeave:u,...g,children:a})}))},90765:function(e,t,n){"use strict";n.d(t,{G:function(){return p},S:function(){return d}});var r=n(42380),i=n(31014),o=n(7781),s=n(95177),a=n(6993),l=n(4591),c=n(50111);const d=e=>{let{dragGroupKey:t,dragKey:n,onDrop:r,disabled:a=!1}=e;const l=(0,i.useRef)(r);(0,i.useEffect)((()=>{l.current=r}),[r]);const[{isOver:c,draggedItem:d},u]=(0,o.H)((()=>({canDrop:()=>!a,accept:`dnd-${t}`,drop:(e,t)=>{let{key:r}=e;r===n||t.didDrop()||l.current(r,n)},collect:e=>({isOver:e.isOver({shallow:!0}),draggedItem:e.getItem()})})),[]),[{isDragging:p},h,m]=(0,s.i)((()=>({canDrag:()=>!a,type:`dnd-${t}`,item:{key:n,groupKey:t},collect:e=>({isDragging:e.isDragging()})})),[]);return{dropTargetRef:u,dragHandleRef:h,dragPreviewRef:m,isDragging:p,isOver:c,isDraggingOtherGroup:Boolean(d&&d.groupKey!==t)}};var u={name:"49aokf",styles:"display:contents"};const p=e=>{let{children:t}=e;const n=(0,i.useRef)(null),[o,s]=(0,i.useState)(null);return(0,i.useLayoutEffect)((()=>{const e=n.current,t=(0,r.b)(l.t2,void 0,{rootElement:e});return s(t),()=>{t.getBackend().teardown()}}),[]),(0,c.Y)("div",{css:u,ref:n,children:o&&(0,c.Y)(a.Q,{manager:o,children:t})})}},43683:function(e,t,n){"use strict";n.d(t,{Q:function(){return w}});var r=n(89555),i=n(9133),o=n(31014),s=n(67727),a=n(91167),l=n(49409),c=n(59525),d=n(88464),u=n(88443),p=n(13369),h=n(50111);var m={name:"4zleql",styles:"display:block"};function g(e){return t=>function(e,t){const n=(0,d.A)(),{theme:a}=(0,s.u)(),u=e.props.searchValue.toLowerCase();return(0,o.useMemo)((()=>{if(!u)return e;if((0,i.sortedIndexOf)(t,u)>=0)return e;const s=/^[^,.:/=\-\s]+$/.test(u);return o.cloneElement(e,{flattenOptions:[{data:{value:u,disabled:!s,style:{color:s?a.colors.actionTertiaryTextDefault:a.colors.actionDisabledText},children:(0,h.Y)(l.m_M,{title:s?void 0:n.formatMessage({id:"fWEvZL",defaultMessage:", . : / - = and blank spaces are not allowed"}),placement:"right",children:(0,h.FD)("span",{css:m,children:[(0,h.Y)(c.P,{css:(0,r.AH)({marginRight:a.spacing.sm},"")}),n.formatMessage({id:"IJbauF",defaultMessage:'Add tag "{tagKey}"'},{tagKey:u})]})})},key:u,groupOption:!1},...e.props.flattenOptions]})}),[t,e,u,n,a])}(t,e)}var f={name:"1d3w5wq",styles:"width:100%"};function v(e){let{allAvailableTags:t,control:n,onKeyChangeCallback:r}=e;const i=(0,d.A)(),[s,a]=(0,o.useState)(!1),c=(0,o.useRef)(null),{field:u,fieldState:m}=(0,p.as)({control:n,name:"key",rules:{required:{message:i.formatMessage({id:"RlBbjb",defaultMessage:"A tag key is required"}),value:!0}}});return(0,h.Y)(l._vn,{allowClear:!0,ref:c,dangerouslySetAntdProps:{showSearch:!0,dropdownRender:g(t)},css:f,placeholder:i.formatMessage({id:"8ALhnh",defaultMessage:"Type a key"}),value:u.value,defaultValue:u.value,open:s,onDropdownVisibleChange:e=>{a(e)},filterOption:(e,t)=>null===t||void 0===t?void 0:t.value.toLowerCase().includes(e.toLowerCase()),onSelect:e=>{u.onChange(e),null===r||void 0===r||r(e)},onClear:()=>{u.onChange(void 0),null===r||void 0===r||r(void 0)},validationState:m.error?"error":void 0,children:t.map((e=>(0,h.Y)(l._vn.Option,{value:e,children:e},e)))})}var y=n(98597),x=n(52350);function C(e){return new Map(e.map((e=>[e.key,e])))}var b={name:"82a6rk",styles:"flex:1"},M={name:"82a6rk",styles:"flex:1"};const w=e=>{let{onSuccess:t,saveTagsHandler:n,allAvailableTags:m,valueRequired:g=!1}=e;const f=(0,o.useRef)(),[w,A]=(0,o.useState)(""),{theme:Y}=(0,s.u)(),[E,R]=(0,o.useState)(new Map),[D,k]=(0,o.useState)(new Map),[T,I]=(0,o.useState)(!1),L=(0,p.mN)({defaultValues:{key:void 0,value:""}}),F=()=>I(!1),K=(0,o.useCallback)((e=>{f.current=e,R(C(e.tags||[])),k(C(e.tags||[])),L.reset(),I(!0)}),[L]),H=async()=>{f.current&&(A(""),z(!0),n(f.current,Array.from(E.values()),Array.from(D.values())).then((()=>{F(),null===t||void 0===t||t(),z(!1)})).catch((e=>{var t;z(!1),A(e instanceof x.s?null===(t=e.getUserVisibleError())||void 0===t?void 0:t.message:e.message)})))},_=(0,d.A)(),N=L.watch(),[O,z]=(0,o.useState)(!1),P=(0,o.useMemo)((()=>!(0,i.isEqual)((0,i.sortBy)(Array.from(E.values()),"key"),(0,i.sortBy)(Array.from(D.values()),"key"))),[E,D]),B=N.key||N.value,U=P&&B;return{EditTagsModal:(0,h.FD)(a.M,{destroyOnClose:!0,visible:T,title:(0,h.Y)(u.A,{id:"TBX+Gs",defaultMessage:"Add/Edit tags"}),onCancel:F,footer:(0,h.FD)(s.R,{children:[(0,h.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_147",dangerouslyUseFocusPseudoClass:!0,onClick:F,css:(0,r.AH)({marginRight:P?0:Y.spacing.sm},""),children:_.formatMessage({id:"2a/rR8",defaultMessage:"Cancel"})}),U?(0,h.Y)(S,{formValues:N,isLoading:O,onSaveTask:H}):(0,h.Y)(l.m_M,{title:P?void 0:_.formatMessage({id:"16onEc",defaultMessage:"Please add or remove one or more tags before saving"}),children:(0,h.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_174",dangerouslyUseFocusPseudoClass:!0,disabled:!P,loading:O,type:"primary",onClick:H,children:_.formatMessage({id:"801Xh4",defaultMessage:"Save tags"})})})]}),children:[(0,h.FD)("form",{onSubmit:L.handleSubmit((()=>{if(g&&!N.value.trim())return;const e=new Map(D);e.set(N.key,N),k(e),L.reset()})),css:(0,r.AH)({display:"flex",alignItems:"flex-end",gap:Y.spacing.md},""),children:[(0,h.FD)("div",{css:(0,r.AH)({minWidth:0,display:"flex",gap:Y.spacing.md,flex:1},""),children:[(0,h.FD)("div",{css:b,children:[(0,h.Y)(l.D$Q.Label,{htmlFor:"key",children:_.formatMessage({id:"crTWax",defaultMessage:"Key"})}),(0,h.Y)(v,{allAvailableTags:m||[],control:L.control,onKeyChangeCallback:e=>{var t;const n=e?D.get(e):void 0;L.setValue("value",null!==(t=null===n||void 0===n?void 0:n.value)&&void 0!==t?t:"")}})]}),(0,h.FD)("div",{css:M,children:[(0,h.Y)(l.D$Q.Label,{htmlFor:"value",children:g?_.formatMessage({id:"tHrp+A",defaultMessage:"Value"}):_.formatMessage({id:"4B8k46",defaultMessage:"Value (optional)"})}),(0,h.Y)(l.tc_.Input,{name:"value",control:L.control,"aria-label":g?_.formatMessage({id:"tHrp+A",defaultMessage:"Value"}):_.formatMessage({id:"4B8k46",defaultMessage:"Value (optional)"}),placeholder:_.formatMessage({id:"FFe+Ug",defaultMessage:"Type a value"})})]})]}),(0,h.Y)(l.m_M,{title:_.formatMessage({id:"tx3aAM",defaultMessage:"Add tag"}),children:(0,h.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_248",htmlType:"submit","aria-label":_.formatMessage({id:"tx3aAM",defaultMessage:"Add tag"}),children:(0,h.Y)(c.P,{})})})]}),w&&(0,h.Y)(l.D$Q.Message,{type:"error",message:w}),(0,h.Y)("div",{css:(0,r.AH)({display:"flex",rowGap:Y.spacing.xs,flexWrap:"wrap",marginTop:Y.spacing.sm},""),children:Array.from(D.values()).map((e=>(0,h.Y)(y.tj,{isClosable:!0,tag:e,onClose:()=>(e=>{let{key:t}=e;k((e=>(e.delete(t),new Map(e))))})(e)},e.key)))})]}),showEditTagsModal:K,isLoading:O}};var A={name:"1y0ex1",styles:"max-width:400px"};function S(e){let{isLoading:t,formValues:n,onSaveTask:o}=e;const l=(0,d.A)(),{theme:c}=(0,s.u)(),u=`${`${(0,i.truncate)(n.key,{length:20})||"_"}`}${n.value?`:${(0,i.truncate)(n.value,{length:20})}`:""}`,p=l.formatMessage({id:"wcSVYI",defaultMessage:'Are you sure you want to save and close without adding "{tag}"'},{tag:u});return(0,h.FD)(a.P.Root,{children:[(0,h.Y)(a.P.Trigger,{asChild:!0,children:(0,h.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_306",dangerouslyUseFocusPseudoClass:!0,loading:t,type:"primary",children:l.formatMessage({id:"801Xh4",defaultMessage:"Save tags"})})}),(0,h.FD)(a.P.Content,{align:"end","aria-label":p,children:[(0,h.Y)(s.T.Paragraph,{css:A,children:p}),(0,h.Y)(a.P.Close,{asChild:!0,children:(0,h.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_316",onClick:o,children:l.formatMessage({id:"mv6CY3",defaultMessage:"Yes, save and close"})})}),(0,h.Y)(a.P.Close,{asChild:!0,children:(0,h.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_324",type:"primary",css:(0,r.AH)({marginLeft:c.spacing.sm},""),children:l.formatMessage({id:"geizp1",defaultMessage:"Cancel"})})}),(0,h.Y)(a.P.Arrow,{})]})]})}},4972:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r=n(31014);const i=()=>{const[e,t]=(0,r.useState)("visible"===document.visibilityState);return(0,r.useEffect)((()=>{document.addEventListener("visibilitychange",(e=>{t("visible"===document.visibilityState)}))}),[]),e}},915:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});const r=1,i=3,o=330,s=16,a=e=>{let{minColumns:t=r,maxColumns:n=i,minColumnWidth:a=o,gap:l=s,additionalBreakpoints:c=[]}=e;return{display:"grid",gridTemplateColumns:`repeat(\n      auto-fit,\n      minmax(\n        min(\n          calc(\n            100%/${t} - ${l}px\n          ),\n          max(\n            ${a}px,\n            calc(100%/${n} - ${l}px)\n          )\n        ),\n        1fr\n      )\n    )`,gap:l,...c.reduce(((e,t)=>{let{breakpointWidth:n,minColumnWidthForBreakpoint:r}=t;return{...e,[`@media (min-width: ${n}px)`]:{gridTemplateColumns:`repeat(\n        auto-fit,\n        minmax(\n          ${r}px,\n          1fr\n        )\n      )`}}}),{})}}},32614:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});class r{static getStoreForComponent(e,t){return new i([e,t].join("-"),"localStorage")}static getSessionScopedStoreForComponent(e,t){return new i([e,t].join("-"),"sessionStorage")}}r.version="1.1";class i{constructor(e,t){this.scope=void 0,this.storageObj=void 0,this.scope=e,this.storageObj="localStorage"===t?window.localStorage:window.sessionStorage}loadComponentState(){const e=this.getItem(i.reactComponentStateKey);return e?JSON.parse(e):{}}saveComponentState(e){const t="function"===typeof e.toJSON?e.toJSON():e;this.setItem(i.reactComponentStateKey,JSON.stringify(t))}withScopePrefix(e){return["MLflowLocalStorage",r.version,this.scope,e].join("-")}setItem(e,t){this.storageObj.setItem(this.withScopePrefix(e),t)}getItem(e){return this.storageObj.getItem(this.withScopePrefix(e))}}i.reactComponentStateKey="ReactComponentState"},1323:function(e,t,n){"use strict";n.d(t,{m:function(){return s}});var r=n(49409),i=n(50361),o=n(50111);const s=e=>{let{sourceType:t,className:n}=e;return t===i.Y1.NOTEBOOK?(0,o.Y)(r.Trs,{className:n}):t===i.Y1.LOCAL?(0,o.Y)(r.fAJ,{className:n}):t===i.Y1.PROJECT?(0,o.Y)(r.wd0,{className:n}):t===i.Y1.JOB?(0,o.Y)(r.mCV,{className:n}):null}},76758:function(e,t,n){"use strict";n.d(t,{F:function(){return c}});var r=n(89555),i=n(67727),o=n(49409),s=n(50111);const a=()=>{const{theme:e}=(0,i.u)();return(0,s.Y)(o.qhh,{css:(0,r.AH)({color:e.colors.textValidationDanger},"")})},l=()=>{const{theme:e}=(0,i.u)();return(0,s.Y)(o.C1y,{css:(0,r.AH)({color:e.colors.textValidationSuccess},"")})},c=e=>{let{status:t}=e;switch(t){case"FAILED":case"KILLED":return(0,s.Y)(a,{});case"FINISHED":return(0,s.Y)(l,{});case"SCHEDULED":case"RUNNING":return(0,s.Y)(o.O4,{});default:return null}}},79432:function(e,t,n){"use strict";n.d(t,{E:function(){return u}});var r=n(89555),i=n(9133),o=n(31014),s=n(98655),a=n(67727),l=n(50111);const c="@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)";var d={name:"13bnb9v",styles:"appearance:none;width:0;height:0;border:0;padding:0;position:absolute;bottom:0;visibility:hidden"};const u=e=>{var t;let{color:n,hidden:u,onChangeColor:p,...h}=e;const[m,g]=(0,o.useState)(void 0),f=(0,o.useMemo)((()=>p?(0,i.debounce)(p,300):()=>{}),[p]);return(0,l.FD)("label",{css:(0,r.AH)({width:12,height:12,borderRadius:6,flexShrink:0,border:"1px solid "+(u?"transparent":"rgba(0,0,0,0.1)"),[c]:{marginBottom:1},background:u?"repeating-linear-gradient(\n  135deg,\n  #959595 0,\n  #e7e7e7 1px,\n  #e7e7e7 2px,\n  #959595 3px,\n  #e7e7e7 4px,\n  #e7e7e7 5px,\n  #959595 6px,\n  #e7e7e7 7px,\n  #e7e7e7 8px,\n  #959595 9px,\n  #e7e7e7 10px,\n  #e7e7e7 11px,\n  #959595 12px,\n  #e7e7e7 13px,\n  #e7e7e7 14px\n)":void 0,cursor:p?"pointer":"default",position:"relative","&:hover":{opacity:p?.8:1}},""),style:{backgroundColor:null!==(t=null!==m&&void 0!==m?m:n)&&void 0!==t?t:"transparent"},...h,children:[(0,l.Y)("span",{css:[a.v,"user-select:none;"],children:n}),p&&(0,l.Y)("input",{disabled:u,type:"color",value:null!==m&&void 0!==m?m:n,onChange:e=>{let{target:t}=e;g(t.value),f(t.value)},list:s.U,css:d})]})}},85343:function(e,t,n){"use strict";n.d(t,{O:function(){return V}});var r=n(89555),i=n(31014),o=n(67727),s=n(49409),a=n(91167),l=n(25866),c=n(57207),d=n(88443),u=n(50111);var p={name:"1d3w5wq",styles:"width:100%"};const h=e=>{let{schema:t,filter:n}=e;const r=t.filter(((e,t)=>{return r=e.name,i=e.type,""===n||(null===r||void 0===r?void 0:r.toLowerCase().includes(n.toLowerCase()))||(null===i||void 0===i?void 0:i.toLowerCase().includes(n.toLowerCase()));var r,i}));return(0,u.FD)(s.XIK,{scrollable:!0,css:p,children:[(0,u.FD)(s.Hjg,{isHeader:!0,children:[(0,u.Y)(s.A0N,{children:(0,u.Y)(d.A,{id:"rCMgRJ",defaultMessage:"Name"})}),(0,u.Y)(s.A0N,{children:(0,u.Y)(d.A,{id:"a0NgR8",defaultMessage:"Type"})})]}),(0,u.Y)("div",{onWheel:e=>e.stopPropagation(),children:0===r.length?(0,u.Y)(s.Hjg,{children:(0,u.Y)(s.nA6,{children:(0,u.Y)(d.A,{id:"dl3Yfr",defaultMessage:"No results match this search."})})}):r.map(((e,t)=>(0,u.FD)(s.Hjg,{children:[(0,u.Y)(s.nA6,{children:e.name}),(0,u.Y)(s.nA6,{children:e.type})]},`table-body-row-${t}`)))})]})};var m={name:"zyllbl",styles:"display:flex;flex-direction:column;height:100vh"},g={name:"1bnvdh6",styles:"height:100%;display:flex;flex-direction:column;justify-content:flex-start;align-content:center"},f={name:"84euy4",styles:"display:flex;flex-direction:column;overflow:hidden;height:100vh"},v={name:"1d3w5wq",styles:"width:100%"},y={name:"s1n8ed",styles:"height:100vh"},x={name:"p03wc2",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"},C={name:"1azakc",styles:"text-align:center"},b={name:"1r9xdqo",styles:"display:flex;flex-direction:column;justify-content:flex-start"},M={name:"1r9xdqo",styles:"display:flex;flex-direction:column;justify-content:flex-start"};const w=e=>{let{datasetWithTags:t}=e;const{theme:n}=(0,o.u)(),{dataset:a}=t,[l,c]=(0,i.useState)("");if(null===a.schema||""===a.schema)return(0,u.Y)("div",{css:m,children:(0,u.Y)("div",{css:g,children:(0,u.Y)(s.Y9Y,{title:(0,u.Y)("div",{css:(0,r.AH)({color:n.colors.grey600},""),children:"No schema available"})})})});try{const e=JSON.parse(a.schema);return"mlflow_colspec"in e?(0,u.FD)("div",{css:f,children:[(0,u.Y)("div",{css:(0,r.AH)({marginTop:n.spacing.sm,form:{width:"100%"}},""),children:(0,u.Y)(s.z2z,{value:l,placeholder:"Search fields",onChange:e=>c(e.target.value),onClear:()=>{c("")},css:v,containerProps:{style:{width:"auto"}}})}),(0,u.Y)("div",{css:(0,r.AH)({marginTop:n.spacing.sm,overflow:"hidden"},""),children:(0,u.Y)(h,{schema:e.mlflow_colspec,filter:l})})]}):"mlflow_tensorspec"in e?(0,u.Y)("div",{css:y,children:(0,u.FD)("div",{css:x,children:[(0,u.Y)(s.KbA,{css:(0,r.AH)({fontSize:"56px",color:n.colors.grey600},"")}),(0,u.Y)(s.Y9Y,{title:(0,u.Y)("div",{css:(0,r.AH)({color:n.colors.grey600},""),children:"Array Datasource"})}),(0,u.Y)(o.T.Text,{color:n.colors.grey600,css:C,children:(0,u.Y)(d.A,{id:"sDqD2S",defaultMessage:"The dataset is an array. To see a preview of the dataset, view the dataset in the training notebook."})})]})}):(0,u.Y)("div",{css:(0,r.AH)({marginLeft:n.spacing.lg,marginTop:n.spacing.md,width:"100%"},""),children:(0,u.FD)("div",{css:b,children:[(0,u.Y)(s.Y9Y,{title:(0,u.Y)("div",{css:(0,r.AH)({color:n.colors.grey600},""),children:"Unrecognized Schema Format"})}),(0,u.FD)(o.T.Text,{color:n.colors.grey600,children:[(0,u.Y)(d.A,{id:"T/UYwm",defaultMessage:"Raw Schema JSON: "}),JSON.stringify(e)]})]})})}catch{return(0,u.Y)("div",{css:(0,r.AH)({marginLeft:n.spacing.lg,marginTop:n.spacing.md,width:"100%"},""),children:(0,u.Y)("div",{css:M,children:(0,u.Y)(s.Y9Y,{title:(0,u.Y)("div",{css:(0,r.AH)({color:n.colors.grey600},""),children:"No schema available"})})})})}};var A=n(32378),S=n(18476),Y=n(56412);const E=e=>{let{datasetWithTags:t,runTags:n}=e;const{dataset:r}=t;if(r.sourceType===A.Fv.HTTP||r.sourceType===A.Fv.HUGGING_FACE){const e=(0,S.V)(t);if(e)return(0,u.Y)(o.B,{type:"primary",componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewdatasetlink.tsx_19_1",icon:(0,u.Y)(o.X,{}),href:e,target:"_blank",children:(0,u.Y)(d.A,{id:"Vvn8Cb",defaultMessage:"Open dataset"})})}if(r.sourceType===A.Fv.S3){const e=(0,S.V)(t);if(e)return(0,u.Y)(Y.i,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewdatasetlink.tsx_19_2",icon:(0,u.Y)(s.TdU,{}),copyText:e,children:(0,u.Y)(d.A,{id:"SZj964",defaultMessage:"Copy S3 URI to clipboard"})})}return r.sourceType===A.Fv.EXTERNAL?(0,u.Y)(o.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewdatasetlink.tsx_19_3",icon:(0,u.Y)(o.X,{}),children:(0,u.Y)(d.A,{id:"tbAlJg",defaultMessage:"Go to external location"})}):null};var R=n(93215),D=n(58481),k=n(38243),T=n(79432);const I=e=>{let{datasetWithTags:t}=e;const{dataset:n}=t,r=n.sourceType,i=r===A.Fv.HTTP||r===A.Fv.EXTERNAL?(0,u.Y)(d.A,{id:"Aqq08o",defaultMessage:"HTTP"}):r===A.Fv.S3?(0,u.Y)(d.A,{id:"K5rmCE",defaultMessage:"S3"}):r===A.Fv.HUGGING_FACE?(0,u.Y)(d.A,{id:"JuHp/q",defaultMessage:"Hugging Face"}):null;return i?(0,u.Y)(o.T.Hint,{children:(0,u.Y)(d.A,{id:"g2tInh",defaultMessage:"Source type: {typeLabel}",values:{typeLabel:i}})}):null};var L={name:"andpxo",styles:"display:flex;overflow:hidden"},F={name:"1gz2b5f",styles:"overflow:hidden;text-overflow:ellipsis"},K={name:"l8l8b8",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis"};const H=e=>{let{datasetWithTags:t}=e;const{dataset:n}=t,{theme:i}=(0,o.u)(),s=n.sourceType;if(s===A.Fv.HTTP||s===A.Fv.EXTERNAL||s===A.Fv.HUGGING_FACE){const e=(0,S.V)(t);if(e)return(0,u.FD)("div",{css:(0,r.AH)({whiteSpace:"nowrap",display:"flex",fontSize:i.typography.fontSizeSm,color:i.colors.textSecondary,columnGap:i.spacing.xs},""),title:e,children:["URL:"," ",(0,u.Y)(o.T.Link,{openInNewTab:!0,href:e,css:L,children:(0,u.Y)("span",{css:F,children:e})})]})}if(s===A.Fv.S3)try{const{uri:e}=JSON.parse(n.source);if(e)return(0,u.FD)(o.T.Hint,{title:e,css:K,children:["S3 URI: ",e]})}catch{return null}return null},_=e=>{let{datasetWithTags:t}=e;const{dataset:n}=t;return(0,u.Y)(o.T.Hint,{children:(0,u.Y)(d.A,{id:"WeAgwI",defaultMessage:"Digest: {digest}",values:{digest:(0,u.Y)("code",{children:n.digest})}})})};var N=n(70403);var O={name:"197dxto",styles:"display:flex;align-items:center;height:100%"},z={name:"sidtwu",styles:"display:flex;flex-direction:column;height:100%;overflow:auto"},P={name:"1v83iqf",styles:"text-align:left;overflow-x:auto;overflow-y:hidden"},B={name:"82a6rk",styles:"flex:1"},U={name:"fhxb3m",styles:"display:flex;flex-direction:row;align-items:center"},W={name:"1fu4rcv",styles:"margin-bottom:0;max-width:200px"};const j=e=>{var t;let{isOpen:n,setIsOpen:i,selectedDatasetWithRun:p,setSelectedDatasetWithRun:h}=e;const{theme:m}=(0,o.u)(),{datasetWithTags:g,runData:f}=p,v=p?null===g||void 0===g||null===(t=g.tags)||void 0===t?void 0:t.find((e=>e.key===l.AS)):void 0,y=g.dataset.profile&&"null"!==g.dataset.profile?g.dataset.profile:void 0,x=(0,N.LE)(),{experimentId:C="",tags:b={}}=f;return(0,u.Y)(s._s.Root,{open:n,onOpenChange:e=>{e||i(!1)},children:(0,u.Y)(s._s.Content,{title:(0,u.FD)("div",{css:O,children:[(0,u.Y)(o.T.Title,{level:4,css:(0,r.AH)({marginRight:m.spacing.sm,marginBottom:0},""),children:(0,u.Y)(d.A,{id:"obI80o",defaultMessage:"Data details for "})}),(0,u.FD)(R.N_,{to:D.h.getRunPageRoute(C,f.runUuid),css:G.runLink,children:[(0,u.Y)(T.E,{color:x(f.runUuid)}),(0,u.Y)("span",{css:G.runName,children:f.runName})]})]}),width:"800px",footer:(0,u.Y)(a.S,{size:"xs"}),children:(0,u.FD)("div",{css:(0,r.AH)({display:"flex",borderTop:`1px solid ${m.colors.border}`,height:"100%",marginLeft:-m.spacing.sm},""),children:[(0,u.FD)("div",{css:(0,r.AH)({display:"flex",flexDirection:"column",width:"300px",borderRight:`1px solid ${m.colors.border}`,height:"100%"},""),children:[(0,u.FD)(o.T.Text,{color:"secondary",css:(0,r.AH)({marginBottom:m.spacing.sm,marginTop:m.spacing.sm,paddingLeft:m.spacing.sm},""),children:[f.datasets.length," ",(0,u.Y)(d.A,{id:"vK1v9d",defaultMessage:"datasets used"})]}),(0,u.Y)("div",{css:z,onWheel:e=>e.stopPropagation(),children:f.datasets.map((e=>(0,u.Y)("div",{css:(0,r.AH)({display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:e.dataset.name===g.dataset.name&&e.dataset.digest===g.dataset.digest?m.colors.backgroundSecondary:"transparent",borderTop:`1px solid ${m.colors.border}`,paddingBottom:m.spacing.sm,paddingTop:m.spacing.sm,paddingLeft:m.spacing.sm},""),children:(0,u.Y)(o.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewdatasetdrawer.tsx_151",type:"link",css:P,onClick:()=>{h({datasetWithTags:e,runData:f}),i(!0)},children:(0,u.Y)(k.E,{datasetWithTags:e,displayTextAsLink:!1})})},`${e.dataset.name}-${e.dataset.digest}`)))})]}),(0,u.FD)("div",{css:(0,r.AH)({overflow:"hidden",paddingLeft:m.spacing.md,paddingTop:m.spacing.md,display:"flex",flexDirection:"column",width:"100%"},""),children:[(0,u.FD)("div",{css:(0,r.AH)({display:"flex",gap:m.spacing.sm},""),children:[(0,u.FD)("div",{css:B,children:[(0,u.Y)(s.Y9Y,{title:(0,u.FD)("div",{css:U,children:[(0,u.Y)(s.KbA,{css:(0,r.AH)({marginRight:m.spacing.xs},"")}),(0,u.Y)(s.m_M,{title:g.dataset.name,children:(0,u.Y)(o.T.Title,{ellipsis:!0,level:3,css:W,children:g.dataset.name})}),v&&(0,u.Y)(s.vwO,{css:(0,r.AH)({textTransform:"capitalize",marginLeft:m.spacing.xs,marginRight:m.spacing.xs},""),children:v.value})]})}),(0,u.Y)(o.T.Title,{level:4,color:"secondary",css:(0,r.AH)({marginBottom:m.spacing.xs,marginTop:m.spacing.xs},""),title:y,children:g.dataset.profile&&"null"!==g.dataset.profile?g.dataset.profile.length>80?`${g.dataset.profile.substring(0,80)} ...`:g.dataset.profile:(0,u.Y)(d.A,{id:"uq6CTI",defaultMessage:"No profile available"})})]}),(0,u.Y)(E,{datasetWithTags:g,runTags:b})]}),(0,u.FD)("div",{css:(0,r.AH)({flexShrink:0,display:"flex",flexDirection:"column",gap:m.spacing.xs},""),children:[(0,u.Y)(_,{datasetWithTags:g}),(0,u.Y)(I,{datasetWithTags:g}),(0,u.Y)(H,{datasetWithTags:g})]}),(0,u.Y)(c.A,{css:(0,r.AH)({marginTop:m.spacing.sm,marginBottom:m.spacing.xs},"")}),(0,u.Y)(w,{datasetWithTags:g})]})]})})})},V=i.memo(j),G={runLink:{overflow:"hidden",display:"flex",gap:8,alignItems:"center"},runName:{overflow:"hidden",textOverflow:"ellipsis",fontSize:"13px"}}},38243:function(e,t,n){"use strict";n.d(t,{E:function(){return c}});var r=n(89555),i=n(67727),o=n(49409),s=(n(31014),n(25866)),a=n(50111);var l={name:"1ykowef",styles:"margin-bottom:0"};const c=e=>{var t;let{datasetWithTags:n,displayTextAsLink:c,className:d}=e;const{dataset:u,tags:p}=n,{theme:h}=(0,i.u)();return(0,a.FD)("div",{css:(0,r.AH)({display:"flex",flexDirection:"row",alignItems:"center",marginTop:h.spacing.xs,marginBottom:h.spacing.xs},""),className:d,children:[(0,a.Y)(o.KbA,{css:(0,r.AH)({marginRight:h.spacing.xs,color:h.colors.textSecondary},"")}),c?(0,a.FD)("div",{children:[u.name," (",u.digest,")"]}):(0,a.FD)(i.T.Text,{size:"md",css:l,children:[u.name," (",u.digest,")"]}),(0,a.Y)(o.vwO,{css:(0,r.AH)({textTransform:"capitalize",marginLeft:h.spacing.xs,marginRight:h.spacing.xs},""),children:p&&(null===(t=p.find((e=>{let{key:t}=e;return t===s.AS})))||void 0===t?void 0:t.value)})]})}},21879:function(e,t,n){"use strict";n.d(t,{e:function(){return a},i:function(){return s}});var r=n(31014),i=n(50111);const o=r.createContext((e=>e)),s=e=>{let{children:t,setUIState:n}=e;return(0,i.Y)(o.Provider,{value:n,children:t})},a=()=>r.useContext(o)},24947:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(51079),i=n.n(r),o=n(31014),s=n(93215),a=n(76010);const l=()=>{const e=(0,s.g)(),t=(0,s.zy)(),n=(0,o.useMemo)((()=>decodeURIComponent(t.search)),[t.search]),r=(0,o.useMemo)((()=>{const e=i().parse(n.substring(1));if(e.experiments){const t=e.experiments;return(null===t||void 0===t?void 0:t.toString())||""}return""}),[n]);return(0,o.useMemo)((()=>{if(null!==e&&void 0!==e&&e.experimentId)return[null===e||void 0===e?void 0:e.experimentId];if(r)try{return JSON.parse(r)}catch{return a.A.logErrorAndNotifyUser(`Could not parse experiment query parameter ${r}`),""}return[]}),[r,null===e||void 0===e?void 0:e.experimentId])}},55999:function(e,t,n){"use strict";n.d(t,{L:function(){return l}});var r=n(76010),i=n(26809),o=n(25866),s=n(31014),a=n(10811);const l=e=>{let{runUuids:t,runUuidsIsActive:n,autoRefreshEnabled:l,enabled:c}=e;const d=(0,a.wA)(),u=t.slice(0,o.Lf).join(",");(0,s.useEffect)((()=>{c&&!l&&u.split(",").forEach((e=>{e&&d((0,i.LN)(e))}))}),[u,d,l,c]);const p=(0,s.useRef)(void 0),h=(0,s.useRef)(l&&c);h.current=l;const m=n.slice(0,o.Lf).join(",");(0,s.useEffect)((()=>{let e=!1;if(!c||!l)return;const t=async e=>{const t=u.split(","),n=m.split(",");(e?t.filter(((e,t)=>"true"===n[t])):t).forEach((t=>{t&&d((0,i.LN)(t,e))}))},n=async()=>{if(h.current&&!e){try{await t(!0)}catch(i){r.A.logErrorAndNotifyUser(i)}clearTimeout(p.current),h.current&&!e&&(p.current=window.setTimeout(n,o.zD))}};return t(!1).then(n),()=>{t(!0),e=!0,clearTimeout(p.current)}}),[d,u,m,l,c])}},97026:function(e,t,n){"use strict";n.d(t,{u:function(){return s}});var r=n(31014),i=n(91167),o=n(50111);class s extends r.Component{constructor(e){super(e),this.state={isSubmitting:!1},this.onRequestCloseHandler=this.onRequestCloseHandler.bind(this),this.handleSubmitWrapper=this.handleSubmitWrapper.bind(this)}onRequestCloseHandler(){this.state.isSubmitting||this.props.onClose()}handleSubmitWrapper(){return this.setState({isSubmitting:!0}),this.props.handleSubmit().finally((()=>{this.props.onClose(),this.setState({isSubmitting:!1})}))}render(){return(0,o.Y)(i.M,{"data-testid":"confirm-modal",title:this.props.title,visible:this.props.isOpen,onOk:this.handleSubmitWrapper,okText:this.props.confirmButtonText,confirmLoading:this.state.isSubmitting,onCancel:this.onRequestCloseHandler,centered:!0,children:(0,o.Y)("div",{className:"modal-explanatory-text",children:this.props.helpText})})}}},33946:function(e,t,n){"use strict";var r=n(31014),i=n(97026),o=n(26809),s=n(10811),a=n(76010),l=n(64912),c=n(50111);class d extends r.Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(){const e=[];return this.props.selectedRunIds.forEach((t=>{e.push(this.props.deleteRunApi(t))})),Promise.all(e).catch((()=>{const e=`${this.props.intl.formatMessage({id:"tdmVWN",defaultMessage:"While deleting an experiment run, an error occurred."})}`;this.props.openErrorModal(e)})).then((()=>{var e,t;null===(e=(t=this.props).onSuccess)||void 0===e||e.call(t)}))}render(){const e=this.props.selectedRunIds.length;return(0,c.Y)(i.u,{isOpen:this.props.isOpen,onClose:this.props.onClose,handleSubmit:this.handleSubmit,title:`Delete Experiment ${a.A.pluralize("Run",e)}`,helpText:(0,c.FD)("div",{children:[(0,c.Y)("p",{children:(0,c.FD)("b",{children:[e," experiment ",a.A.pluralize("run",e)," will be deleted."]})}),""]}),confirmButtonText:"Delete"})}}const u={deleteRunApi:o.pA,openErrorModal:o.Yi};t.A=(0,s.Ng)(null,u)((0,l.Ay)(d))},67245:function(e,t,n){"use strict";n.d(t,{B:function(){return a}});var r=n(31014),i=n(91167),o=n(76010),s=n(50111);class a extends r.Component{constructor(){super(...arguments),this.state={isSubmitting:!1},this.formRef=r.createRef(),this.onSubmit=async()=>{this.setState({isSubmitting:!0});try{const e=await this.formRef.current.validateFields();return await this.props.handleSubmit(e).then(this.resetAndClearModalForm).catch(this.handleSubmitFailure).finally(this.onRequestCloseHandler)}catch(e){return this.setState({isSubmitting:!1}),Promise.reject(e)}},this.resetAndClearModalForm=()=>{this.setState({isSubmitting:!1}),this.formRef.current.resetFields()},this.handleSubmitFailure=e=>{this.setState({isSubmitting:!1}),o.A.logErrorAndNotifyUser(e)},this.onRequestCloseHandler=()=>{this.state.isSubmitting||(this.resetAndClearModalForm(),this.props.onClose())},this.handleCancel=()=>{this.onRequestCloseHandler(),void 0!==this.props.onCancel&&this.props.onCancel()}}render(){const{isSubmitting:e}=this.state,{okText:t,cancelText:n,isOpen:o,footer:a,children:l}=this.props,c=r.Children.map(l,(e=>r.isValidElement(e)?r.cloneElement(e,{innerRef:this.formRef}):e));return(0,s.Y)(i.M,{"data-testid":"mlflow-input-modal",className:this.props.className,title:this.props.title,width:540,visible:o,onOk:this.onSubmit,okText:t,cancelText:n,confirmLoading:e,onCancel:this.handleCancel,footer:a,centered:!0,children:c})}}},58645:function(e,t,n){"use strict";n.d(t,{P:function(){return l},m:function(){return s}});var r=n(31014),i=n(49409),o=n(50111);const s="newName";class a extends r.Component{constructor(){super(...arguments),this.inputToAutoFocus=void 0,this.autoFocusInputRef=e=>{this.inputToAutoFocus=e,e&&e.focus(),e&&e.select()},this.autoFocus=e=>{!1===e.visible&&!0===this.props.visible&&(this.inputToAutoFocus&&this.inputToAutoFocus.focus(),this.inputToAutoFocus&&this.inputToAutoFocus.select())},this.resetFields=e=>{const t=this.props.innerRef;e.name!==this.props.name&&t.current.resetFields([s])}}componentDidUpdate(e){this.autoFocus(e),this.resetFields(e)}render(){return(0,o.Y)(i.lVW,{ref:this.props.innerRef,layout:"vertical",children:(0,o.Y)(i.lVW.Item,{name:s,initialValue:this.props.name,rules:[{required:!0,message:`Please input a new name for the ${this.props.type}.`},{validator:this.props.validator}],label:`New ${this.props.type} name`,children:(0,o.Y)(i.pde,{placeholder:`Input a ${this.props.type} name`,ref:this.autoFocusInputRef,"data-testid":"rename-modal-input"})})})}}const l=a},53677:function(e,t,n){"use strict";n.d(t,{jP:function(){return m}});var r=n(31014),i=n(10811),o=n(64912),s=n(67245),a=n(58645),l=n(26809),c=n(7204),d=n(50111);class u extends r.Component{constructor(){super(...arguments),this.handleRenameRun=e=>{const t=e[a.m],n=(0,c.yk)();return this.props.updateRunApi(this.props.runUuid,t,n).then((()=>{var e,t;return null===(e=(t=this.props).onSuccess)||void 0===e?void 0:e.call(t)}))}}render(){const{isOpen:e,runName:t}=this.props;return(0,d.Y)(s.B,{title:this.props.intl.formatMessage({id:"+Dnww0",defaultMessage:"Rename Run"}),okText:this.props.intl.formatMessage({id:"7NKkk1",defaultMessage:"Save"}),isOpen:e,handleSubmit:this.handleRenameRun,onClose:this.props.onClose,children:(0,d.Y)(a.P,{type:"run",name:t,visible:e,validator:async(e,t)=>{if("string"===typeof t&&t.length&&!t.trim())throw new Error(this.props.intl.formatMessage({id:"ze1m7Z",defaultMessage:"Run name cannot consist only of whitespace!"}));return!0}})})}}const p={updateRunApi:l.FZ},h=(0,o.Ay)(u),m=(0,i.Ng)(void 0,p)(h)},19485:function(e,t,n){"use strict";n.d(t,{z:function(){return de}});var r=n(67727),i=n(91167),o=n(49409),s=n(31014),a=n(88464),l=n(88443),c=n(30152),d=n(77198),u=n(6211),p=n(73549),h=n(43270),m=n(74035),g=n(32582),f=n(99790),v=n(89555),y=n(21616),x=n(91144),C=n(50111);const b=e=>{let{title:t,children:n}=e;const{theme:i}=(0,r.u)();return(0,C.FD)("div",{css:(0,v.AH)({marginBottom:2*i.spacing.md},""),"data-testid":"experiment-view-compare-runs-config-field",children:[(0,C.FD)(r.T.Title,{level:4,children:[t,":"]}),n]})},M=e=>{let{value:t,onChange:n,metricKeyList:r,paramKeyList:i}=e;const{formatMessage:s}=(0,a.A)(),l=!(null!==i&&void 0!==i&&i.length)&&!(null!==r&&void 0!==r&&r.length);return(0,C.FD)(o._vn,{css:S.selectFull,value:l?s({id:"3VURvw",defaultMessage:"No metrics or parameters available"}):t,disabled:l,onChange:n,dangerouslySetAntdProps:{showSearch:!0},children:[null!==r&&void 0!==r&&r.length?(0,C.Y)(o._vn.OptGroup,{label:s({id:"jH0+gA",defaultMessage:"Metrics"}),children:r.map((e=>(0,C.Y)(o._vn.Option,{value:(0,y.GF)("METRIC",e),children:e},(0,y.GF)("METRIC",e))))}):null,null!==i&&void 0!==i&&i.length?(0,C.Y)(o._vn.OptGroup,{label:s({id:"kWUhea",defaultMessage:"Params"}),children:i.map((e=>(0,C.Y)(o._vn.Option,{value:(0,y.GF)("PARAM",e),children:e},(0,y.GF)("PARAM",e))))}):null]})},w=e=>{let{onChange:t,value:n,options:r}=e;const{formatMessage:i}=(0,a.A)();return(0,x.M1)()?null:(0,C.Y)(b,{title:i({id:"AW2rVK",defaultMessage:"Max. no of runs shown"}),children:(0,C.Y)(o._vn,{css:S.selectFull,value:n,onChange:t,children:r.map((e=>{const t="number"===typeof e?e:e.value,n="number"===typeof e?e:e.label;return(0,C.Y)(o._vn.Option,{value:t,children:n},t)}))})})},A=[{value:5,label:(0,C.Y)(l.A,{id:"Mc6Dhy",defaultMessage:"5"})},{value:10,label:(0,C.Y)(l.A,{id:"2K8tsp",defaultMessage:"10"})},{value:20,label:(0,C.Y)(l.A,{id:"zwO8+l",defaultMessage:"20"})}],S={selectFull:{width:"100%"}},Y=e=>{let{state:t,onStateChange:n,metricKeyList:r}=e;const i=(0,s.useCallback)((e=>{n((t=>({...t,metricKey:e})))}),[n]),a=(0,s.useCallback)((e=>{n((t=>({...t,runsCountToCompare:e})))}),[n]);(0,s.useEffect)((()=>{!t.metricKey&&null!==r&&void 0!==r&&r[0]&&i(r[0])}),[t.metricKey,i,r]);const l=0===r.length;return(0,C.FD)(C.FK,{children:[(0,C.Y)(b,{title:"Metric",children:(0,C.Y)(o._vn,{css:E.selectFull,value:l?"No metrics available":t.metricKey,onChange:i,disabled:l,dangerouslySetAntdProps:{showSearch:!0},children:r.map((e=>(0,C.Y)(o._vn.Option,{value:e,"data-testid":`metric-${e}`,children:e},e)))})}),(0,C.Y)(w,{value:t.runsCountToCompare,onChange:a,options:A})]})},E={selectFull:{width:"100%"}},R=e=>{let{state:t,onStateChange:n,metricKeyList:r,paramKeyList:i}=e;const a=(0,s.useCallback)((e=>{n((t=>({...t,selectedParams:e})))}),[n]),l=(0,s.useCallback)((e=>{n((t=>({...t,selectedMetrics:e})))}),[n]),c=0===r.length,d=0===i.length;return(0,C.FD)(C.FK,{children:[(0,C.Y)(b,{title:"Params",children:(0,C.Y)(o._vn,{mode:d?void 0:"multiple",onChange:a,style:{width:300},value:d?"No parameters available":t.selectedParams,disabled:d,children:i.map((e=>(0,C.Y)(o._vn.Option,{value:e,children:e},e)))})}),(0,C.Y)(b,{title:"Metrics",children:(0,C.Y)(o._vn,{mode:c?void 0:"multiple",onChange:l,style:{width:300},value:c?"No metrics available":t.selectedMetrics,disabled:c,children:r.map((e=>(0,C.Y)(o._vn.Option,{value:e,children:e},e)))})})]})};var D=n(7842),k=n(20193);const T=e=>{let{metricKeyList:t,selectedMetricKeys:n,updateSelectedMetrics:r}=e;const i=0===t.length;return(0,C.Y)(o._vn,{mode:"multiple",placeholder:i?(0,C.Y)(l.A,{id:"M5bYHa",defaultMessage:"No metrics available"}):(0,C.Y)(l.A,{id:"eQqRYQ",defaultMessage:"Select metrics"}),css:F.selectFull,value:i?[]:n,onChange:r,disabled:i,dangerouslySetAntdProps:{showSearch:!0},children:t.map((e=>(0,C.Y)(o._vn.Option,{value:e,"data-testid":`metric-${e}`,children:e},e)))})},I=e=>{let{theme:t,metricKeyList:n,selectedXAxisMetricKey:r,updateSelectedXAxisMetricKey:i}=e;const s=0===n.length;return(0,C.FD)(o.sxL,{value:D.fj.METRIC,children:[(0,C.Y)(l.A,{id:"M/c4l0",defaultMessage:"Metric"}),(0,C.Y)(o._vn,{css:(0,v.AH)({marginTop:t.spacing.xs,width:"100%"},""),value:r||void 0,placeholder:s?(0,C.Y)(l.A,{id:"ER3oVW",defaultMessage:"No metrics available"}):(0,C.Y)(l.A,{id:"BOz0T2",defaultMessage:"Select metric"}),onClick:e=>{e.preventDefault(),e.stopPropagation()},onChange:i,disabled:s,dangerouslySetAntdProps:{showSearch:!0},children:n.map((e=>(0,C.Y)(o._vn.Option,{value:e,"data-testid":`metric-${e}`,children:e},e)))})]})},L=e=>{let{state:t,onStateChange:n,metricKeyList:i}=e;const c=(0,x.dD)(),{theme:d}=(0,r.u)(),u=(0,a.A)(),p=(0,s.useCallback)((e=>{n((t=>({...t,metricKey:e})))}),[n]),h=(0,s.useCallback)((e=>{n((t=>({...t,metricKey:e[0],selectedMetricKeys:e})))}),[n]),m=(0,s.useCallback)((e=>{n((t=>({...t,xAxisKey:e,selectedXAxisMetricKey:""})))}),[n]),g=(0,s.useCallback)((e=>{n((t=>({...t,xAxisScaleType:e?"log":"linear"})))}),[n]),f=(0,s.useCallback)((e=>{n((t=>({...t,selectedXAxisMetricKey:e,xAxisKey:D.fj.METRIC})))}),[n]),v=(0,s.useCallback)((e=>n((t=>({...t,scaleType:e?"log":"linear"})))),[n]),y=(0,s.useCallback)((e=>{n((t=>({...t,lineSmoothness:e})))}),[n]),M=(0,s.useCallback)((e=>{n((t=>({...t,runsCountToCompare:e})))}),[n]);return(0,s.useEffect)((()=>{!t.metricKey&&null!==i&&void 0!==i&&i[0]&&p(i[0])}),[t.metricKey,p,i]),(0,s.useEffect)((()=>{void 0===t.selectedMetricKeys&&void 0!==t.metricKey&&""!==t.metricKey&&h([t.metricKey])}),[t.selectedMetricKeys,t.metricKey,h]),(0,C.FD)(C.FK,{children:[(0,C.Y)(b,{title:"Metric (Y-axis)",children:T({metricKeyList:i,selectedMetricKeys:t.selectedMetricKeys,updateSelectedMetrics:h})}),(0,C.Y)(b,{title:"X-axis",children:(0,C.FD)(o.sxL.Group,{name:"runs-charts-field-group-x-axis",value:t.xAxisKey,onChange:e=>{let{target:{value:t}}=e;return m(t)},children:[(0,C.Y)(o.sxL,{value:D.fj.STEP,children:(0,C.Y)(l.A,{id:"IfcpiM",defaultMessage:"Step"})}),(0,C.FD)(o.sxL,{value:D.fj.TIME,children:[(0,C.Y)(l.A,{id:"2Hf+yU",defaultMessage:"Time (wall)"}),(0,C.FD)(o.m_M,{title:(0,C.Y)(l.A,{id:"nlXn2G",defaultMessage:"Absolute date and time"}),placement:"right",children:[" ",(0,C.Y)(o.JGH,{css:F.timeStepQuestionMarkIcon})]})]}),(0,C.FD)(o.sxL,{value:D.fj.TIME_RELATIVE,children:[(0,C.Y)(l.A,{id:"Y47tVZ",defaultMessage:"Time (relative)"}),(0,C.FD)(o.m_M,{title:(0,C.Y)(l.A,{id:"NwNrl4",defaultMessage:"Amount of time that has passed since the first metric value was logged"}),placement:"right",children:[" ",(0,C.Y)(o.JGH,{css:F.timeStepQuestionMarkIcon})]})]}),c&&I({theme:d,metricKeyList:i,selectedXAxisMetricKey:t.selectedXAxisMetricKey,updateSelectedXAxisMetricKey:f})]})}),t.xAxisKey===D.fj.STEP&&(0,C.Y)(b,{title:"X-axis log scale",children:(0,C.Y)(o.dOG,{checked:"log"===t.xAxisScaleType,onChange:g,label:"Enabled"})}),(0,C.Y)(b,{title:"Y-axis log scale",children:(0,C.Y)(o.dOG,{checked:"log"===t.scaleType,onChange:v,label:"Enabled"})}),(0,C.Y)(b,{title:u.formatMessage({id:"g7xNvF",defaultMessage:"Display points"}),children:(0,C.FD)(o.d98,{name:u.formatMessage({id:"g7xNvF",defaultMessage:"Display points"}),value:t.displayPoints,onChange:e=>{let{target:t}=e;n((e=>({...e,displayPoints:t.value})))},children:[(0,C.FD)(o.EPn,{value:void 0,"aria-label":[u.formatMessage({id:"g7xNvF",defaultMessage:"Display points"}),u.formatMessage({id:"7nPjTL",defaultMessage:"Auto"})].join(": "),children:[(0,C.Y)(l.A,{id:"7nPjTL",defaultMessage:"Auto"})," ",(0,C.Y)(o.m_M,{title:(0,C.Y)(l.A,{id:"ax3YJx",defaultMessage:"Show points on line charts if there are fewer than 60 data points per trace"}),children:(0,C.Y)(o.mo0,{})})]}),(0,C.Y)(o.EPn,{value:!0,"aria-label":[u.formatMessage({id:"g7xNvF",defaultMessage:"Display points"}),u.formatMessage({id:"QUMV9L",defaultMessage:"On"})].join(": "),children:(0,C.Y)(l.A,{id:"QUMV9L",defaultMessage:"On"})}),(0,C.Y)(o.EPn,{value:!1,"aria-label":[u.formatMessage({id:"g7xNvF",defaultMessage:"Display points"}),u.formatMessage({id:"NtaCJN",defaultMessage:"Off"})].join(": "),children:(0,C.Y)(l.A,{id:"NtaCJN",defaultMessage:"Off"})})]})}),(0,C.Y)(b,{title:"Line smoothness",children:(0,C.Y)(k.o,{"data-testid":"smoothness-toggle",min:0,max:100,onChange:y,defaultValue:t.lineSmoothness?t.lineSmoothness:0})}),(0,C.Y)(w,{value:t.runsCountToCompare,onChange:M,options:[5,10,20,50,100]})]})},F={selectFull:{width:"100%"},timeStepQuestionMarkIcon:()=>({svg:{width:12,height:12}})};var K=n(10811),H=n(65412),_=n(75627),N=n(13135),O=n(9133),z=n(81850);const P=(0,K.Ng)((e=>{let{entities:{metricsByRunUuid:t}}=e;return{metricsByRunUuid:t}}),void 0,void 0,{areStatesEqual:(e,t)=>e.entities.metricsByRunUuid===t.entities.metricsByRunUuid})((e=>{let{previewData:t,cardConfig:n,metricsByRunUuid:r,groupBy:i}=e;const a=(0,x.dD)(),l=(0,s.useMemo)((()=>t.some((e=>e.groupParentInfo))),[t]),{aggregateFunction:c}=i||{},d=(0,s.useMemo)((()=>{if(l){return[...(0,O.compact)(t.map((e=>e.groupParentInfo))).flatMap((e=>e.runUuids)),...(0,O.compact)(t.filter((e=>!e.groupParentInfo&&!e.belongsToGroup)).map((e=>{var t;return null===(t=e.runInfo)||void 0===t?void 0:t.runUuid})))]}return(0,O.compact)(t.map((e=>e.runInfo))).map((e=>e.runUuid))}),[t,l]),u=(0,s.useMemo)((()=>{var e;const t=[n.metricKey],r=null!==(e=n.selectedMetricKeys)&&void 0!==e?e:t,i=n.selectedXAxisMetricKey?[n.selectedXAxisMetricKey]:[];return r.concat(i)}),[n.metricKey,n.selectedMetricKeys,n.selectedXAxisMetricKey]),{resultsByRunUuid:p,isLoading:h}=(0,N.S)({runUuids:d,metricKeys:u,enabled:!0,maxResults:320,autoRefreshEnabled:!1}),m=(0,s.useMemo)((()=>t.map((e=>{const t=u.reduce(((t,n)=>{var r,i;const o=null===(r=p[e.uuid])||void 0===r||null===(i=r[n])||void 0===i?void 0:i.metricsHistory;return o&&(t[n]=o),t}),{});return{...e,metricsHistory:t}}))),[u,p,t]),g=(0,z.B)({enabled:l,ungroupedRunsData:m,metricKeys:u,sampledDataResultsByRunUuid:p,aggregateFunction:c,selectedXAxisMetricKey:n.xAxisKey===D.fj.METRIC?n.selectedXAxisMetricKey:void 0}),f=l?g:m,{setTooltip:v,resetTooltip:y}=(0,_.uN)(n,a?_.QS.MultipleTracesWithScanline:_.QS.Simple);return h?(0,C.Y)(o.PLz,{}):(0,C.Y)(H.h,{runsData:f,metricKey:n.metricKey,selectedMetricKeys:n.selectedMetricKeys,scaleType:n.scaleType,xAxisScaleType:n.xAxisScaleType,lineSmoothness:n.lineSmoothness,xAxisKey:n.xAxisKey,selectedXAxisMetricKey:n.selectedXAxisMetricKey,displayPoints:n.displayPoints,useDefaultHoverBox:!1,onHover:v,onUnhover:y})}));var B=n(59264),U=n(65243);var W=n(66117);var j=n(10661);var V=n(21809);var G={name:"i1civq",styles:"display:flex;justify-content:center;align-items:center;text-align:center"},$={name:"1vcob1d",styles:"display:flex;justify-content:center;align-items:center"};const X=e=>{let{state:t,onStateChange:n,metricKeyList:r,paramKeyList:i}=e;const{formatMessage:o}=(0,a.A)(),l=(0,s.useCallback)(((e,t)=>{const r=(0,y.tG)(e,"METRIC")?"METRIC":"PARAM",i=(0,y.dz)(e,r);n((e=>({...e,[t]:{key:i,type:r}})))}),[n]),c=(0,s.useCallback)((e=>{n((t=>({...t,runsCountToCompare:e})))}),[n]);return(0,s.useEffect)((()=>{var e,n,o;const s=null===r||void 0===r?void 0:r[0],a=null===i||void 0===i?void 0:i[0];null!==(e=t.xaxis)&&void 0!==e&&e.key||(s?l((0,y.GF)("METRIC",s),"xaxis"):a&&l((0,y.GF)("PARAM",a),"xaxis")),null!==(n=t.yaxis)&&void 0!==n&&n.key||(s?l((0,y.GF)("METRIC",s),"yaxis"):a&&l((0,y.GF)("PARAM",a),"yaxis")),null!==(o=t.zaxis)&&void 0!==o&&o.key||(s?l((0,y.GF)("METRIC",s),"zaxis"):a&&l((0,y.GF)("PARAM",a),"zaxis"))}),[t.xaxis,t.yaxis,t.zaxis,l,r,i]),(0,C.FD)(C.FK,{children:[(0,C.Y)(b,{title:o({id:"2Us2jl",defaultMessage:"X axis"}),children:(0,C.Y)(M,{value:t.xaxis.key?(0,y.GF)(t.xaxis.type,t.xaxis.key):"",onChange:e=>{l(e,"xaxis")},paramKeyList:i,metricKeyList:r})}),(0,C.Y)(b,{title:o({id:"8YmId5",defaultMessage:"Y axis"}),children:(0,C.Y)(M,{value:t.yaxis.key?(0,y.GF)(t.yaxis.type,t.yaxis.key):"",onChange:e=>{l(e,"yaxis")},paramKeyList:i,metricKeyList:r})}),(0,C.Y)(b,{title:o({id:"cB0/61",defaultMessage:"Z axis"}),children:(0,C.Y)(M,{value:t.zaxis.key?(0,y.GF)(t.zaxis.type,t.zaxis.key):"",onChange:e=>{l(e,"zaxis")},paramKeyList:i,metricKeyList:r})}),(0,C.Y)(w,{value:t.runsCountToCompare,onChange:c,options:[5,10,20,50,100]})]})},q=A;q.push({value:100,label:(0,C.Y)(l.A,{id:"Bbm59f",defaultMessage:"100"})},{value:250,label:(0,C.Y)(l.A,{id:"W8bOkn",defaultMessage:"250"})},{value:500,label:(0,C.Y)(l.A,{id:"Bnruyp",defaultMessage:"500"})});const J=e=>{let{state:t,onStateChange:n,metricKeyList:r,paramKeyList:i}=e;const{formatMessage:o}=(0,a.A)(),l=(0,s.useCallback)(((e,t)=>{const r=(0,y.tG)(e,"METRIC")?"METRIC":"PARAM",i=(0,y.dz)(e,r);n((e=>({...e,[t]:{key:i,type:r}})))}),[n]),c=(0,s.useCallback)((e=>{n((t=>({...t,runsCountToCompare:e})))}),[n]);return(0,s.useEffect)((()=>{var e,n;const o=null===r||void 0===r?void 0:r[0],s=null===i||void 0===i?void 0:i[0];null!==(e=t.xaxis)&&void 0!==e&&e.key||(o?l((0,y.GF)("METRIC",o),"xaxis"):s&&l((0,y.GF)("PARAM",s),"xaxis")),null!==(n=t.yaxis)&&void 0!==n&&n.key||(o?l((0,y.GF)("METRIC",o),"yaxis"):s&&l((0,y.GF)("PARAM",s),"yaxis"))}),[t.xaxis,t.yaxis,l,r,i]),(0,C.FD)(C.FK,{children:[(0,C.Y)(b,{title:o({id:"vBKFgp",defaultMessage:"X axis"}),children:(0,C.Y)(M,{value:t.xaxis.key?(0,y.GF)(t.xaxis.type,t.xaxis.key):"",onChange:e=>{l(e,"xaxis")},paramKeyList:i,metricKeyList:r})}),(0,C.Y)(b,{title:o({id:"DaF+KK",defaultMessage:"Y axis"}),children:(0,C.Y)(M,{value:t.yaxis.key?(0,y.GF)(t.yaxis.type,t.yaxis.key):"",onChange:e=>{l(e,"yaxis")},paramKeyList:i,metricKeyList:r})}),(0,C.Y)(w,{value:t.runsCountToCompare,onChange:c,options:q})]})};var Z=n(73150),Q=n(2837);var ee={name:"1oeqf2d",styles:"width:100%;overflow:auto hidden;height:100%"};var te={name:"8irbms",styles:"display:inline-flex;align-items:center"};const ne=e=>{let{state:t,onStateChange:n,metricKeyList:i,paramKeyList:d,groupBy:u}=e;const p=(0,s.useCallback)((e=>{n((t=>{const n=t.compareGroups;return n.includes(e)?{...t,compareGroups:n.filter((t=>t!==e))}:{...t,compareGroups:[...n,e]}}))}),[n]),h=(0,s.useCallback)((e=>n((t=>({...t,chartName:e.target.value})))),[n]),m=(0,s.useCallback)((e=>n((t=>({...t,showChangeFromBaseline:e})))),[n]),g=(0,s.useCallback)((e=>n((t=>({...t,showDifferencesOnly:e})))),[n]),{theme:f}=(0,r.u)(),{formatMessage:y}=(0,a.A)();return(0,C.FD)(C.FK,{children:[(0,C.FD)(b,{title:y({id:"46xd2Z",defaultMessage:"Compare"}),children:[(0,C.Y)(o.Sc0.Group,{id:"checkbox-group",defaultValue:t.compareGroups,children:Object.values(c.K8).map((e=>{var n;const r=!!u&&c.Nf.includes(e);return(0,C.FD)("div",{css:te,children:[(0,C.Y)(o.Sc0,{value:e,isChecked:null===(n=t.compareGroups)||void 0===n?void 0:n.includes(e),onChange:()=>p(e),disabled:r,children:e},e),r&&(0,C.Y)(o.ID_,{title:(0,C.Y)(l.A,{id:"LKAZ2n",defaultMessage:"Disable grouped runs to compare"})})]})}))}),(0,C.FD)("div",{css:(0,v.AH)({display:"flex",flexDirection:"column",padding:`${f.spacing.md}px 0px`,gap:f.spacing.sm},""),children:[(0,C.Y)(o.dOG,{checked:t.showChangeFromBaseline,onChange:m,label:y({id:"9g0sMx",defaultMessage:"Show change from baseline"})}),(0,C.Y)(o.dOG,{checked:t.showDifferencesOnly,onChange:g,label:y({id:"nWeQCU",defaultMessage:"Show differences only"})})]})]}),(0,C.Y)(b,{title:y({id:"ZgAOhX",defaultMessage:"Chart name"}),children:(0,C.Y)(o.pde,{value:t.chartName,onChange:h})})]})};var re=n(99061);const ie=e=>{let{previewData:t,state:n,onStateChange:r,imageKeyList:i}=e;const{stepMarks:l,maxMark:c,minMark:d}=(0,re._)({data:t,selectedImageKeys:n.imageKeys||[]}),u=((0,s.useCallback)((e=>{r((t=>({...t,imageKeys:e})))}),[r]),(0,s.useCallback)((e=>{r((t=>({...t,step:e})))}),[r])),{formatMessage:p}=(0,a.A)(),h=e=>{r((t=>{var n;const r=t;var i;return null!==(n=r.imageKeys)&&void 0!==n&&n.includes(e)?{...r,imageKeys:null===(i=r.imageKeys)||void 0===i?void 0:i.filter((t=>t!==e))}:{...r,imageKeys:[...r.imageKeys||[],e]}}))};return(0,C.FD)(C.FK,{children:[(0,C.Y)(b,{title:p({id:"6Jan3t",defaultMessage:"Images"}),children:(0,C.FD)(o.AYc,{value:n.imageKeys,label:"Images",multiSelect:!0,children:[(0,C.Y)(o.gGe,{onClear:()=>{r((e=>({...e,imageKeys:[]})))},minWidth:300}),(0,C.Y)(o.dn6,{matchTriggerWidth:!0,children:(0,C.Y)(o.HI_,{children:i.map((e=>{var t;return(0,C.Y)(o.jTC,{value:e,onChange:h,checked:null===(t=n.imageKeys)||void 0===t?void 0:t.includes(e)},e)}))})})]})}),(0,C.Y)(b,{title:"Step",children:(0,C.Y)(k.o,{max:c,min:d,marks:l,defaultValue:n.step,disabled:Object.keys(l).length<=1,onChange:u,step:null})})]})};var oe=n(34389);var se={name:"1bivvgq",styles:"width:100%;overflow:auto hidden"};const ae={[c.zL.BAR]:e=>{let{previewData:t,cardConfig:n}=e;const{resetTooltip:r,setTooltip:i}=(0,_.uN)(n);return(0,C.Y)(U.u,{useDefaultHoverBox:!1,displayRunNames:!1,displayMetricKey:!1,metricKey:n.metricKey,runsData:t,margin:B.J,onHover:i,onUnhover:r})},[c.zL.CONTOUR]:e=>{let{previewData:t,cardConfig:n}=e;const{resetTooltip:r,setTooltip:i}=(0,_.uN)(n);return(0,C.Y)(W.a,{xAxis:n.xaxis,yAxis:n.yaxis,zAxis:n.zaxis,runsData:t,onHover:i,onUnhover:r,useDefaultHoverBox:!1})},[c.zL.LINE]:P,[c.zL.PARALLEL]:e=>{var t,n;let{previewData:r,cardConfig:i,groupBy:o}=e;const a=((null===(t=i.selectedParams)||void 0===t?void 0:t.length)||0)+((null===(n=i.selectedMetrics)||void 0===n?void 0:n.length)||0)>=2,{setTooltip:c,resetTooltip:d}=(0,_.uN)(i);if((0,s.useMemo)((()=>{var e;return null===(e=i.selectedParams)||void 0===e?void 0:e.some((e=>null===r||void 0===r?void 0:r.some((t=>{var n;return isNaN(Number(null===(n=t.params[e])||void 0===n?void 0:n.value))}))),[i.selectedParams,r])}),[i.selectedParams,r])&&o)return(0,C.Y)("div",{css:G,children:(0,C.Y)(l.A,{id:"kTkJkb",defaultMessage:"Parallel coordinates chart does not support aggregated string values. Use other parameters or disable run grouping to continue."})});const u=a?(0,V.fM)(r,i.selectedParams,i.selectedMetrics):[];return a?u.length?(0,C.Y)(V.Ay,{selectedMetrics:i.selectedMetrics,selectedParams:i.selectedParams,data:u,axesRotateThreshold:6,onHover:c,onUnhover:d}):null:(0,C.Y)("div",{css:$,children:"Select at least two metrics and params first"})},[c.zL.SCATTER]:e=>{let{previewData:t,cardConfig:n}=e;const{resetTooltip:r,setTooltip:i}=(0,_.uN)(n);return(0,C.Y)(j.i,{xAxis:n.xaxis,yAxis:n.yaxis,runsData:t,onHover:i,onUnhover:r,useDefaultHoverBox:!1})},[c.zL.DIFFERENCE]:e=>{let{previewData:t,groupBy:n,cardConfig:r,setCardConfig:i}=e;return(0,C.Y)("div",{css:ee,children:(0,C.Y)(Q.I,{previewData:t,groupBy:n,cardConfig:r,setCardConfig:i})})},[c.zL.IMAGE]:e=>{let{previewData:t,cardConfig:n,setCardConfig:r,groupBy:i}=e;return(0,C.Y)("div",{css:se,children:(0,C.Y)(oe.f,{previewData:t,cardConfig:n,setCardConfig:r,containerWidth:500,groupBy:i})})}};var le={name:"1uahl7",styles:"width:1280px"},ce={name:"1d3w5wq",styles:"width:100%"};const de=e=>{let{onCancel:t,onSubmit:n,config:v,chartRunData:y,metricKeyList:M,paramKeyList:w,groupBy:A,supportedChartTypes:S}=e;const E=e=>!S||S.includes(e),{theme:D}=(0,r.u)(),[k,T]=(0,s.useState)(v),I=Boolean(k.uuid),F=(0,s.useCallback)((e=>{if(!e)return;const t=c.i$.getEmptyChartCardByType(e,!0);t&&T(t)}),[]),K=(0,s.useMemo)((()=>(0,x.M1)()?y.filter((e=>{let{hidden:t}=e;return!t})).reverse():y.slice(0,k.runsCountToCompare).reverse()),[y,k.runsCountToCompare]),H=(0,s.useMemo)((()=>{const e=new Set;return K.forEach((t=>{Object.keys(t.images).forEach((t=>{e.add(t)}))})),Array.from(e).sort()}),[K]),{formatMessage:N}=(0,a.A)();let O=!1;if(k.type===c.zL.LINE){var z;O=0===(null!==(z=k.selectedMetricKeys)&&void 0!==z?z:[]).length}return(0,C.Y)(i.M,{visible:!0,onCancel:t,onOk:()=>n(k),title:N(I?{id:"kBXHTA",defaultMessage:"Edit chart"}:{id:"6y36Fr",defaultMessage:"Add new chart"}),okButtonProps:{"data-testid":"experiment-view-compare-runs-chart-modal-confirm",disabled:O},cancelText:N({id:"TlVXcS",defaultMessage:"Cancel"}),okText:N(I?{id:"vPnoNk",defaultMessage:"Save changes"}:{id:"UzZf+2",defaultMessage:"Add chart"}),size:"wide",css:le,children:(0,C.FD)("div",{css:ue.wrapper,children:[(0,C.FD)("div",{children:[!I&&(0,C.Y)(b,{title:"Type",children:(0,C.FD)(o._vn,{css:ce,value:k.type,onChange:F,children:[E(c.zL.BAR)&&(0,C.Y)(o._vn.Option,{value:c.zL.BAR,children:(0,C.FD)("div",{css:ue.chartTypeOption(D),children:[(0,C.Y)(d.h,{}),(0,C.Y)(l.A,{id:"gdK07H",defaultMessage:"Bar chart"})]})}),E(c.zL.SCATTER)&&(0,C.Y)(o._vn.Option,{value:c.zL.SCATTER,children:(0,C.FD)("div",{css:ue.chartTypeOption(D),children:[(0,C.Y)(m.h,{}),(0,C.Y)(l.A,{id:"Q0i5xG",defaultMessage:"Scatter chart"})]})}),E(c.zL.LINE)&&(0,C.Y)(o._vn.Option,{value:c.zL.LINE,children:(0,C.FD)("div",{css:ue.chartTypeOption(D),children:[(0,C.Y)(p.h,{}),(0,C.Y)(l.A,{id:"CyTYL6",defaultMessage:"Line chart"})]})}),E(c.zL.PARALLEL)&&(0,C.Y)(o._vn.Option,{value:c.zL.PARALLEL,children:(0,C.FD)("div",{css:ue.chartTypeOption(D),children:[(0,C.Y)(h.h,{}),(0,C.Y)(l.A,{id:"FC9mcS",defaultMessage:"Parallel coordinates"})]})}),E(c.zL.CONTOUR)&&(0,C.Y)(o._vn.Option,{value:c.zL.CONTOUR,children:(0,C.FD)("div",{css:ue.chartTypeOption(D),children:[(0,C.Y)(u.h,{}),(0,C.Y)(l.A,{id:"6XfILf",defaultMessage:"Contour chart"})]})}),(0,x.uP)()&&E(c.zL.DIFFERENCE)&&(0,C.Y)(o._vn.Option,{value:c.zL.DIFFERENCE,children:(0,C.FD)("div",{css:ue.chartTypeOption(D),children:[(0,C.Y)(g.h,{}),(0,C.Y)(l.A,{id:"G5mMJI",defaultMessage:"Difference view"})]})}),(0,x.HW)()&&E(c.zL.IMAGE)&&(0,C.Y)(o._vn.Option,{value:c.zL.IMAGE,children:(0,C.FD)("div",{css:ue.chartTypeOption(D),children:[(0,C.Y)(f.h,{}),(0,C.Y)(l.A,{id:"5m2VPy",defaultMessage:"Image grid"})]})})]})}),(P=k.type,P===c.zL.BAR?(0,C.Y)(Y,{metricKeyList:M,state:k,onStateChange:T}):P===c.zL.CONTOUR?(0,C.Y)(X,{metricKeyList:M,paramKeyList:w,state:k,onStateChange:T}):P===c.zL.LINE?(0,C.Y)(L,{metricKeyList:M,state:k,onStateChange:T}):P===c.zL.PARALLEL?(0,C.Y)(R,{metricKeyList:M,paramKeyList:w,state:k,onStateChange:T}):P===c.zL.SCATTER?(0,C.Y)(J,{metricKeyList:M,paramKeyList:w,state:k,onStateChange:T}):(0,x.uP)()&&P===c.zL.DIFFERENCE?(0,C.Y)(ne,{metricKeyList:M,paramKeyList:w,state:k,onStateChange:T,groupBy:A}):(0,x.HW)()&&P===c.zL.IMAGE?(0,C.Y)(ie,{previewData:K,imageKeyList:H,state:k,onStateChange:T}):null)]}),(0,C.Y)(_.W,{contextData:{runs:y},component:Z.X,hoverOnly:!0,children:(0,C.Y)("div",{css:ue.chartWrapper,children:(e=>{if(!e)return null;const t=ae[e];return t?(0,C.Y)(t,{previewData:K,cardConfig:k,groupBy:A,setCardConfig:T}):null})(k.type)})})]})});var P},ue={chartTypeOption:e=>({display:"grid",gridTemplateColumns:`${e.general.iconSize+e.spacing.xs}px 1fr`,gap:e.spacing.xs,alignItems:"center"}),wrapper:{display:"grid",gridTemplateColumns:"300px 1fr",gap:32},field:{display:"grid",gridTemplateColumns:"80px 1fr",marginBottom:16},chartWrapper:{height:400,width:500}}},63617:function(e,t,n){"use strict";n.d(t,{_:function(){return d}});var r=n(89555),i=n(67727),o=n(91167),s=n(75627),a=n(76350),l=n(50111);var c={name:"1fttcpj",styles:"display:flex;flex-direction:column"};const d=e=>{let{chartData:t,isMetricHistoryLoading:n=!1,groupBy:d,fullScreenChart:u,onCancel:p,tooltipContextValue:h,tooltipComponent:m,autoRefreshEnabled:g}=e;const{theme:f,getPrefixedClassName:v}=(0,i.u)();return u?(0,l.Y)(o.M,{visible:!0,onCancel:p,title:(0,l.FD)("div",{css:c,children:[u.title,(0,l.Y)("span",{css:(0,r.AH)({color:f.colors.textSecondary,fontSize:f.typography.fontSizeSm,marginRight:f.spacing.xs},""),children:u.subtitle})]}),footer:null,verticalSizing:"maxed_out",dangerouslySetAntdProps:{width:"95%"},css:(0,r.AH)({[`.${v("modal-body")}`]:{flex:1}},""),children:(0,l.Y)(s.W,{contextData:h,component:m,children:(0,l.Y)(a.i,{cardConfig:u.config,chartRunData:t,groupBy:d,index:0,sectionIndex:0,fullScreen:!0,autoRefreshEnabled:g,onRemoveChart:()=>{},onReorderCharts:()=>{},onStartEditChart:()=>{},setFullScreenChart:()=>{},canMoveDown:!1,canMoveUp:!1,onMoveDown:()=>{},onMoveUp:()=>{},onReorderWith:()=>{}})})}):null}},73150:function(e,t,n){"use strict";n.d(t,{X:function(){return y}});var r=n(9133),i=n(67727),o=n(49409),s=n(88443),a=n(93215),l=n(58481),c=n(24947),d=n(7842),u=n(75627),p=n(30152),h=n(59397),m=n(91144),g=n(50111);const f=(e,t,n)=>{var i,o;const{metricKey:s,xAxisKey:a}=e,l=(null===n||void 0===n||null===(i=n.metricEntity)||void 0===i?void 0:i.key)||s,c=null!==(o=null===n||void 0===n?void 0:n.yValue)&&void 0!==o?o:null===t||void 0===t?void 0:t.metrics[l].value;if((0,r.isNil)(c))return null;const u=((e,t)=>{var n,r,i;return t===d.fj.METRIC?null!==(n=null===e||void 0===e?void 0:e.xValue)&&void 0!==n?n:"":(0,m.v$)()&&t===d.fj.TIME_RELATIVE?"number"===typeof(i=null!==(r=null===e||void 0===e?void 0:e.xValue)&&void 0!==r?r:"")?i:i.split(" ")[1]||"00:00:00":null===e||void 0===e?void 0:e.xValue})(n,a);return(0,g.FD)(g.FK,{children:[n&&(0,g.FD)("div",{css:x.value,children:[(0,g.FD)("strong",{children:[n.label,":"]})," ",u]}),(0,g.FD)("div",{css:x.value,children:[(0,g.FD)("strong",{children:[l,":"]})," ",c]})]})},v=e=>{let{activeRun:t,cardConfig:n,isHovering:r,hoverData:i}=e;return n.type===p.zL.BAR?((e,t)=>{const{metricKey:n}=e,r=null===t||void 0===t?void 0:t.metrics[n];return r?(0,g.FD)("div",{css:x.value,children:[(0,g.FD)("strong",{children:[r.key,":"]})," ",r.value]}):null})(n,t):n.type===p.zL.SCATTER?((e,t)=>{var n,r,i,o;const{xaxis:s,yaxis:a}=e,l=s.key,c=a.key,d="METRIC"===s.type?null===(n=t.metrics[l])||void 0===n?void 0:n.value:null===(r=t.params[l])||void 0===r?void 0:r.value,u="METRIC"===a.type?null===(i=t.metrics[c])||void 0===i?void 0:i.value:null===(o=t.params[c])||void 0===o?void 0:o.value;return(0,g.FD)(g.FK,{children:[d&&(0,g.FD)("div",{css:x.value,children:[(0,g.FD)("strong",{children:["X (",l,"):"]})," ",d]}),u&&(0,g.FD)("div",{css:x.value,children:[(0,g.FD)("strong",{children:["Y (",c,"):"]})," ",u]})]})})(n,t):n.type===p.zL.CONTOUR?((e,t)=>{var n,r,i,o,s,a;const{xaxis:l,yaxis:c,zaxis:d}=e,u=l.key,p=c.key,h=d.key,m="METRIC"===l.type?null===(n=t.metrics[u])||void 0===n?void 0:n.value:null===(r=t.params[u])||void 0===r?void 0:r.value,f="METRIC"===c.type?null===(i=t.metrics[p])||void 0===i?void 0:i.value:null===(o=t.params[p])||void 0===o?void 0:o.value,v="METRIC"===d.type?null===(s=t.metrics[h])||void 0===s?void 0:s.value:null===(a=t.params[h])||void 0===a?void 0:a.value;return(0,g.FD)(g.FK,{children:[m&&(0,g.FD)("div",{css:x.value,children:[(0,g.FD)("strong",{children:["X (",u,"):"]})," ",m]}),f&&(0,g.FD)("div",{css:x.value,children:[(0,g.FD)("strong",{children:["Y (",p,"):"]})," ",f]}),v&&(0,g.FD)("div",{css:x.value,children:[(0,g.FD)("strong",{children:["Z (",h,"):"]})," ",v]})]})})(n,t):n.type===p.zL.LINE?f(n,t,i):n.type===p.zL.PARALLEL?((e,t,n)=>{const{selectedParams:r,selectedMetrics:i}=e,o=r.map((e=>{const n=null===t||void 0===t?void 0:t.params[e];return!n||(0,g.FD)("div",{children:[(0,g.FD)("strong",{children:[n.key,":"]})," ",n.value]},e)})),s=i.map((e=>{const n=null===t||void 0===t?void 0:t.metrics[e];return!n||(0,g.FD)("div",{children:[(0,g.FD)("strong",{children:[n.key,":"]})," ",n.value]},e)}));return n?(0,g.FD)(g.FK,{children:[o.slice(0,3),(o.length>3||s.length>1)&&(0,g.Y)("div",{children:"..."}),s[s.length-1]]}):(0,g.FD)(g.FK,{children:[o,s]})})(n,t,r):null},y=e=>{let{closeContextMenu:t,contextData:n,hoverData:r,chartData:d,runUuid:p,isHovering:m,mode:f}=e;const{runs:y,onTogglePin:C,onHideRun:b}=n,[M]=(0,c.z)(),w=null===y||void 0===y?void 0:y.find((e=>e.uuid===p));if((0,u.bL)(r)&&f===u.QS.MultipleTracesWithScanline&&m)return(0,g.Y)(h.G,{hoverData:r});const A=(0,u.bL)(r)?r.hoveredDataPoint:r;if(!w)return null;const S=w.displayName||w.uuid,Y=null!==A&&void 0!==A&&A.metricEntity?` (${A.metricEntity.key})`:"";return(0,g.FD)("div",{children:[(0,g.FD)("div",{css:x.contentWrapper,children:[(0,g.FD)("div",{css:x.header,children:[(0,g.Y)("div",{css:x.colorPill,style:{backgroundColor:w.color}}),w.groupParentInfo?(0,g.Y)(i.T.Text,{children:S+Y}):(0,g.Y)(a.N_,{to:l.h.getRunPageRoute(M,p),target:"_blank",css:x.runLink,onClick:t,children:S+Y})]}),!m&&(0,g.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_runscomparetooltipbody.tsx_259",size:"small",onClick:t,icon:(0,g.Y)(i.C,{})})]}),(0,g.Y)(v,{isHovering:m,activeRun:w,cardConfig:d,hoverData:A}),(0,g.FD)("div",{css:x.actionsWrapper,children:[w.pinnable&&C&&(0,g.Y)(o.m_M,{title:w.pinned?(0,g.Y)(s.A,{id:"ugm2f6",defaultMessage:"Unpin run"}):(0,g.Y)(s.A,{id:"58xhem",defaultMessage:"Click to pin the run"}),placement:"bottom",children:(0,g.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_runscomparetooltipbody.tsx_282",size:"small",onClick:()=>{C(p),t()},icon:w.pinned?(0,g.Y)(o.aS3,{}):(0,g.Y)(o.tsw,{})})}),b&&(0,g.Y)(o.m_M,{title:(0,g.Y)(s.A,{id:"eE5VIF",defaultMessage:"Click to hide the run"}),placement:"bottom",children:(0,g.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_runscomparetooltipbody.tsx_302","data-testid":"experiment-view-compare-runs-tooltip-visibility-button",size:"small",onClick:()=>{b(p),t()},icon:(0,g.Y)(o.kFX,{})})})]})]})},x={runLink:e=>({color:e.colors.primary,"&:hover":{}}),actionsWrapper:{marginTop:8,display:"flex",gap:8,alignItems:"center"},header:{display:"flex",gap:8,alignItems:"center"},value:{maxWidth:300,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},contentWrapper:{display:"flex",gap:8,alignItems:"center",marginBottom:12,justifyContent:"space-between",height:24},colorPill:{width:12,height:12,borderRadius:"100%"}}},66117:function(e,t,n){"use strict";n.d(t,{a:function(){return m}});var r=n(67727),i=n(31014),o=n(79445),s=n(97604),a=n(25790),l=n(7842),c=n(23541),d=n(50684),u=n(50111);const p={displaylogo:!1,scrollZoom:!1,modeBarButtonsToRemove:["toImage"]},h=[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],m=i.memo((e=>{let{runsData:t,xAxis:n,yAxis:m,zAxis:g,markerSize:f=10,className:v,reverseScale:y,margin:x=l.AQ,colorScale:C=h,onUpdate:b,onHover:M,onUnhover:w,width:A,height:S,useDefaultHoverBox:Y=!0,selectedRunUuid:E,onSetDownloadHandler:R}=e;const{theme:D}=(0,r.u)(),{layoutHeight:k,layoutWidth:T,setContainerDiv:I,containerDiv:L,isDynamicSizeSupported:F}=(0,l.xN)(),K=(0,i.useMemo)((()=>{const e=[],r=[],i=[],o=[],s=[];for(const l of t){var a,c,d;const{metrics:t,params:u,color:p,uuid:h,displayName:f}=l,v="METRIC"===n.type?t:u,y="METRIC"===m.type?t:u,x="METRIC"===g.type?t:u,C=(null===v||void 0===v||null===(a=v[n.key])||void 0===a?void 0:a.value)||void 0,b=(null===y||void 0===y||null===(c=y[m.key])||void 0===c?void 0:c.value)||void 0,M=(null===x||void 0===x||null===(d=x[g.key])||void 0===d?void 0:d.value)||void 0;C&&b&&M&&(e.push(C),r.push(b),i.push(M),o.push(p||D.colors.primary),s.push([h,f||h,M]))}const u=[{x:e,y:r,customdata:s,text:t.map((e=>{let{displayName:t}=e;return t})),hovertemplate:Y?(p=g.key,`<b>%{customdata[1]}:</b><br><b>%{xaxis.title.text}:</b> %{x:.2f}<br><b>%{yaxis.title.text}:</b> %{y:.2f}<br><b>${p}:</b> %{customdata[2]:.2f}<extra></extra>`):void 0,hoverinfo:Y?void 0:"none",hoverlabel:Y?l.rv:void 0,type:"scatter",mode:"markers",textposition:"bottom center",marker:{size:f,color:o,line:{color:"black",width:1}}}];var p;return t.length>1&&u.unshift({x:e,y:r,z:i,type:"contour",connectgaps:!0,hoverinfo:"none",contours:{coloring:"heatmap"},colorscale:C,reversescale:y,colorbar:{tickfont:{size:11,color:D.colors.textSecondary,family:""}}}),u}),[C,y,f,t,n.type,n.key,m.type,m.key,g.type,g.key,D.colors.primary,D.colors.textSecondary,Y]),H=(0,i.useMemo)((()=>(0,l.y)(D)),[D]),[_,N]=(0,i.useState)({width:A||T,height:S||k,margin:x,xaxis:{title:n.key,tickfont:{size:11,color:D.colors.textSecondary}},yaxis:{ticks:"inside",title:{standoff:32,text:m.key},tickfont:{size:11,color:D.colors.textSecondary}},template:{layout:H}});(0,i.useEffect)((()=>{N((e=>{const t={...e,width:A||T,height:S||k,margin:x};return t.xaxis&&(t.xaxis.title=n.key),t.yaxis&&(t.yaxis.title={standoff:32,text:m.key}),t}))}),[T,k,x,n.key,m.key,A,S]);const{setHoveredPointIndex:O}=(0,a.ZY)(L,E,t,a.nD),z=(0,i.useCallback)((e=>{var t,n;let{points:r}=e;const i=r.find((e=>{let{curveNumber:t}=e;return 1===t}));if(O(null!==(t=null===i||void 0===i?void 0:i.pointIndex)&&void 0!==t?t:-1),!i)return;const o=null===i||void 0===i||null===(n=i.customdata)||void 0===n?void 0:n[0];o&&(null===M||void 0===M||M(o))}),[M,O]),P=(0,i.useCallback)((()=>{null===w||void 0===w||w(),O(-1)}),[w,O]),B=(0,s.l)(z),U=(0,i.useMemo)((()=>(0,l.eY)(t)),[t]);(0,i.useEffect)((()=>{const e=K.map((e=>({...e,mode:"text+markers"})));null===R||void 0===R||R((0,d.W)(e,_))}),[_,R,K]);const W=(0,u.Y)("div",{css:[l.gz.chartWrapper(D),l.gz.scatterChartHighlightStyles,""],className:v,ref:I,children:(0,u.Y)(o.W,{data:K,useResizeHandler:!F,css:l.gz.chart(D),onUpdate:b,layout:_,config:p,onHover:B,onUnhover:P})});return(0,u.Y)(c.A,{labelData:U,children:W})}))},65243:function(e,t,n){"use strict";n.d(t,{u:function(){return m}});var r=n(67727),i=n(31014),o=n(88464),s=n(79445),a=n(97604),l=n(25790),c=n(7842),d=n(23541),u=n(50684),p=n(50111);const h={displaylogo:!1,scrollZoom:!1,doubleClick:"autosize",showTips:!1,modeBarButtonsToRemove:["toImage"]},m=i.memo((e=>{let{runsData:t,metricKey:n,className:m,margin:f=c.am,onUpdate:v,onHover:y,onUnhover:x,barWidth:C=3/4,width:b,height:M,displayRunNames:w=!0,useDefaultHoverBox:A=!0,displayMetricKey:S=!0,selectedRunUuid:Y,onSetDownloadHandler:E}=e;const R=(0,i.useMemo)((()=>{const e=t.map((e=>e.uuid)),r=t.map((e=>{let{displayName:t}=e;return t})),i=t.map((e=>{var t;return(0,c.jn)(null===(t=e.metrics[n])||void 0===t?void 0:t.value)})),o=t.map((e=>{var t;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"number"===typeof e?e.toFixed(t):e}(null===(t=e.metrics[n])||void 0===t?void 0:t.value)})),s=t.map((e=>e.color));return[{y:e,x:i,names:r,text:o,textposition:i.map((e=>0===e?"outside":"auto")),textfont:{size:11},metrics:t.map((e=>e.metrics[n])),type:"bar",hovertemplate:A?"%{label}<extra></extra>":void 0,hoverinfo:A?"y":"none",hoverlabel:A?c.rv:void 0,width:C,orientation:"h",marker:{color:s}}]}),[t,n,C,A]),{layoutHeight:D,layoutWidth:k,setContainerDiv:T,containerDiv:I,isDynamicSizeSupported:L}=(0,c.xN)(),{formatMessage:F}=(0,o.A)(),{theme:K}=(0,r.u)(),H=(0,i.useMemo)((()=>(0,c.y)(K)),[K]),[_,N]=(0,i.useState)({width:b||k,height:M||D,margin:f,xaxis:{title:S?n:void 0,tickfont:{size:11,color:K.colors.textSecondary}},yaxis:{showticklabels:w,title:w?F({id:"+hQ+de",defaultMessage:"Run name"}):void 0,tickfont:{size:11,color:K.colors.textSecondary},fixedrange:!0},template:{layout:H}});(0,i.useEffect)((()=>{N((e=>({...e,width:b||k,height:M||D,margin:f,xaxis:{...e.xaxis,title:S?n:void 0}})))}),[k,D,f,n,b,M,S]);const{setHoveredPointIndex:O}=(0,l.ZY)(I,Y,t,l.Iq),z=(0,i.useCallback)((e=>{var t,n,r,i;let{points:o,event:s}=e;const a=null===(t=o[0].data)||void 0===t?void 0:t.metrics[o[0].pointIndex];O(null!==(n=null===(r=o[0])||void 0===r?void 0:r.pointIndex)&&void 0!==n?n:-1);const l={xValue:o[0].x,yValue:o[0].value,index:o[0].pointIndex,metricEntity:a},c=null===(i=o[0])||void 0===i?void 0:i.label;c&&(null===y||void 0===y||y(c,s,l))}),[y,O]),P=(0,i.useCallback)((()=>{null===x||void 0===x||x(),O(-1)}),[x,O]),B=(0,a.l)(z),U=(0,i.useMemo)((()=>(0,c.eY)(t)),[t]);(0,i.useEffect)((()=>{const e={..._,yaxis:{..._.yaxis,showticklabels:!0,automargin:!0}},t=R.map((e=>({...e,y:e.names})));null===E||void 0===E||E((0,u.W)(t,e))}),[_,E,R]);const W=(0,p.Y)("div",{css:[c.gz.chartWrapper(K),g.highlightStyles,""],className:m,ref:T,children:(0,p.Y)(s.W,{data:R,useResizeHandler:!L,css:c.gz.chart(K),onUpdate:v,layout:_,config:h,onHover:B,onUnhover:P})});return(0,p.Y)(d.A,{labelData:U,children:W})})),g={highlightStyles:{".trace.bars g.point path":{transition:"var(--trace-transition)"},".trace.bars.is-highlight g.point path":{opacity:"var(--trace-opacity-dimmed-high) !important"},".trace.bars g.point.is-hover-highlight path":{opacity:"var(--trace-opacity-highlighted) !important"},".trace.bars g.point.is-selection-highlight path":{opacity:"var(--trace-opacity-highlighted) !important",stroke:"var(--trace-stroke-color)",strokeWidth:"var(--trace-stroke-width) !important"}}}},16026:function(e,t,n){"use strict";n.d(t,{Y:function(){return l}});var r=n(89555),i=n(67727),o=(n(31014),n(50111));var s={name:"aj4kza",styles:"white-space:nowrap;text-overflow:ellipsis;overflow:hidden"};const a=e=>{let{label:t,color:n,dashStyle:a}=e;const{theme:c}=(0,i.u)();return(0,o.FD)("div",{css:(0,r.AH)({display:"flex",alignItems:"center",textOverflow:"ellipsis",flexShrink:0,marginRight:c.spacing.md,maxWidth:"100%"},""),children:[(0,o.Y)(l,{color:n,dashStyle:a}),(0,o.Y)(i.T.Text,{color:"secondary",size:"sm",css:s,children:t})]})},l=e=>{let{color:t,dashStyle:n}=e;const{theme:s}=(0,i.u)(),a=n?(e=>{switch(e){case"dot":return"3";case"dash":return"6, 3";case"longdash":return"9, 3";case"dashdot":return"6, 3, 3, 3";case"longdashdot":return"9, 3, 3, 3";default:return""}})(n):void 0,l=s.typography.fontSizeSm/2;return(0,o.Y)("svg",{css:(0,r.AH)({height:s.typography.fontSizeSm,width:24,marginRight:s.spacing.xs,flexShrink:0},""),children:(0,o.Y)("path",{d:`M0,${l}h24`,style:{strokeWidth:3,stroke:t,strokeDasharray:a}})})};t.A=e=>{let{labelData:t,height:n,fullScreen:s}=e;const{theme:l}=(0,i.u)();return(0,o.Y)("div",{css:(0,r.AH)({display:"flex",flexWrap:"wrap",height:n,alignContent:s?"flex-start":"normal",gap:s?l.spacing.sm:0,overflowY:"auto",overflowX:"hidden",marginTop:s?l.spacing.lg:l.spacing.sm},""),children:t.map((e=>(0,o.Y)(a,{...e},e.label)))})}},23541:function(e,t,n){"use strict";var r=n(89555),i=(n(31014),n(16026)),o=n(67727),s=n(50111);t.A=e=>{let{labelData:t,fullScreen:n,children:a}=e;const{theme:l}=(0,o.u)(),c=n?100:32,d=n?l.spacing.lg:l.spacing.md;return(0,s.FD)(s.FK,{children:[(0,s.Y)("div",{css:(0,r.AH)({height:`calc(100% - ${c+d}px)`},""),children:a}),(0,s.Y)(i.A,{labelData:t,height:c,fullScreen:n})]})}},65412:function(e,t,n){"use strict";n.d(t,{h:function(){return S}});var r=n(67727),i=n(9133),o=n(31014),s=n(88464),a=n(79445),l=n(97604),c=n(25790),d=n(7842),u=n(82645),p=n(23541),h=n(91144),m=n(89555),g=n(50111);const f=".main-svg .draglayer .nsewdrag",v=e=>{var t;const n=(0,i.isString)(e)&&(null===(t=e.match(/[0-9]{2}:[0-9]{2}:[0-9]{2}\.([0-9]+)/))||void 0===t?void 0:t[1]);return n?1e3*Number(`0.${n}`)%1:0};var y=n(50684),x=n(25866);const C=(e,t)=>{const n=t.reduce(((e,t,n)=>(e[t]=n,e)),{});return e.slice().sort(((e,t)=>n[e.step]-n[t.step]))},b={displaylogo:!1,doubleClick:"autosize",scrollZoom:!1,modeBarButtonsToRemove:["toImage"]},M=e=>`<b>${e}</b>:<br><b>%{xaxis.title.text}:</b> %{x}<br><b>%{yaxis.title.text}:</b> %{y:.2f}<br><extra></extra>`,w=(e,t)=>{if(!e)return[];if(t===d.fj.TIME_RELATIVE){const{timestamp:t}=(0,i.minBy)(e,"timestamp")||{};return t?(0,h.v$)()?e.map((e=>{let{timestamp:n}=e;return n-t+x.$V})):e.map((e=>{let{timestamp:n}=e;return(n-t)/1e3})):e.map((e=>{let{step:t}=e;return t}))}if((0,h.v$)()&&t===d.fj.TIME_RELATIVE_HOURS){const{timestamp:t}=(0,i.minBy)(e,"timestamp")||{};if(t)return e.map((e=>{let{timestamp:n}=e;return(n-t)/x.uv}))}else if(t===d.fj.TIME)return e.map((e=>{let{timestamp:t}=e;return t}));return e.map((e=>{let{step:t}=e;return t}))},A=e=>e?e.map((e=>({value:(0,d.jn)(e.value),step:e.step}))).sort(((e,t)=>Number(e.value)-Number(t.value))):[],S=o.memo((e=>{let{runsData:t,metricKey:n,selectedMetricKeys:S,scaleType:E="linear",xAxisScaleType:R="linear",xAxisKey:D=d.fj.STEP,selectedXAxisMetricKey:k="",lineSmoothness:T=70,className:I,margin:L=d.am,lineShape:F="linear",onUpdate:K,onHover:H,onUnhover:_,width:N,height:O,useDefaultHoverBox:z=!0,selectedRunUuid:P,xRange:B,yRange:U,lockXAxisZoom:W,fullScreen:j,displayPoints:V,onSetDownloadHandler:G}=e;const{theme:$}=(0,r.u)(),X=(0,h.dD)(),q=(0,o.useMemo)((()=>{let e=D;if((0,h.v$)()&&D===d.fj.TIME_RELATIVE){const r=S||[n];let o=0;t.forEach((e=>{const t=e.metricsHistory;t&&r.forEach((e=>{if(t[e]){const{timestamp:n}=(0,i.minBy)(t[e],"timestamp")||{},{timestamp:r}=(0,i.maxBy)(t[e],"timestamp")||{};if(r&&n){const e=r-n;o=Math.max(o,e)}}}))})),o>=x.B5&&(e=d.fj.TIME_RELATIVE_HOURS)}return e}),[t,S,n,D]),J=(0,o.useMemo)((()=>{const e=null!==S&&void 0!==S?S:[n];return t.map((t=>e.filter((e=>{var n;return!(0,i.isEmpty)(null===(n=t.metricsHistory)||void 0===n?void 0:n[e])})).map(((e,n)=>(e=>{var t,n,r,i,o,s;let{runEntry:a,metricKey:l,xAxisKey:c,selectedXAxisMetricKey:p,useDefaultHoverBox:h,lineSmoothness:m,lineShape:g,lineDash:f,displayPoints:v}=e;if(!a.metricsHistory)return{};const y=null===(t=a.metricsHistory[l])||void 0===t?void 0:t.sort(((e,t)=>c===d.fj.STEP?e.step-t.step:e.timestamp-t.timestamp));let x,b;if(c===d.fj.METRIC){const e=A(a.metricsHistory[p]),t=e.map((e=>{let{step:t}=e;return t})),n=C(null!==y&&void 0!==y?y:[],t);x=e.map((e=>{let{value:t}=e;return t})),b=C(n,t).map((e=>{let{value:t}=e;return(0,d.jn)(t)}))}else x=w(y,c),b=null===y||void 0===y?void 0:y.map((e=>{let{value:t}=e;return(0,d.jn)(t)}));const S=(0,d.fH)(x)?"linear":g,Y=null!==v&&void 0!==v?v:x.length<60,E=1===(null===(n=b)||void 0===n?void 0:n.length);return{uuid:a.uuid,name:(null===(r=a.runInfo)||void 0===r?void 0:r.runName)||"",x:x,y:(0,u.mV)(null!==(i=b)&&void 0!==i?i:[],m),metricHistory:y,metricKey:l,hovertext:(null===(o=a.runInfo)||void 0===o?void 0:o.runName)||"",text:"x",textposition:"outside",textfont:{size:11},mode:E||Y?"lines+markers":"lines",hovertemplate:h?M((null===(s=a.runInfo)||void 0===s?void 0:s.runName)||""):void 0,hoverinfo:h?void 0:"none",hoverlabel:h?d.rv:void 0,type:"scatter",line:{dash:f,shape:S},marker:{color:a.color}}})({runEntry:t,metricKey:e,xAxisKey:q,selectedXAxisMetricKey:k,useDefaultHoverBox:z,lineSmoothness:T,lineShape:F,lineDash:d.J2[n%d.J2.length],displayPoints:V}))))).flat()}),[t,F,q,T,n,z,S,k,V]),Z=(0,o.useMemo)((()=>{const e=null!==S&&void 0!==S?S:[n];return t.filter((e=>{let{groupParentInfo:t}=e;return t})).flatMap((t=>e.map((e=>(e=>{var t;let{runEntry:n,metricKey:r,lineShape:i,xAxisKey:o,selectedXAxisMetricKey:s}=e;if(!n.aggregatedMetricsHistory)return{};const{max:a,min:l}=n.aggregatedMetricsHistory[r];let c,u,p,h;if(o===d.fj.METRIC){if(!n.metricsHistory)return{};const e=A(n.metricsHistory[s]),t=e.map((e=>e.step)),r=e.map((e=>e.value));p=C(l,t).map((e=>{let{value:t}=e;return(0,d.jn)(t)})).reverse(),h=C(a,t).map((e=>{let{value:t}=e;return(0,d.jn)(t)})),c=r.slice().reverse(),u=r}else{const e=l.slice().reverse();c=w(e,o),u=w(a,o),p=e.map((e=>{let{value:t}=e;return(0,d.jn)(t)})),h=a.map((e=>{let{value:t}=e;return(0,d.jn)(t)}))}const m=[...c,null,...u],g=[...p,null,...h];return{name:(null===(t=n.runInfo)||void 0===t?void 0:t.runName)||"",x:m,y:g,fillcolor:(0,d.FI)(n.color,.2),hovertemplate:void 0,hoverlabel:void 0,hoverinfo:"skip",line:{color:"transparent",shape:i},fill:"tozeroy",type:"scatter"}})({runEntry:t,metricKey:e,lineShape:F,xAxisKey:q,selectedXAxisMetricKey:k})))))}),[F,n,t,S,q,k]),Q=(0,o.useMemo)((()=>[...Z,...J]),[J,Z]),{layoutHeight:ee,layoutWidth:te,setContainerDiv:ne,containerDiv:re,isDynamicSizeSupported:ie}=(0,d.xN)(),{formatMessage:oe}=(0,s.A)(),{setHoveredPointIndex:se}=(0,c.ZY)(re,P,Q,c.PQ,Z.length),ae=(0,o.useMemo)((()=>q===d.fj.METRIC?k:oe((0,d.fw)(q))),[oe,q,k]),le=(0,o.useMemo)((()=>({tickfont:{size:11,color:$.colors.textSecondary},type:"log"===E?"log":"linear",fixedrange:W})),[E,W,$]),[ce,de]=(0,o.useState)({width:N||te,height:O||ee,margin:L,xaxis:{title:ae,tickfont:{size:11,color:$.colors.textSecondary}},yaxis:le,showlegend:!1});(0,o.useEffect)((()=>{de((e=>{const t={...e,width:N||te,height:O||ee,margin:L,yaxis:le,showlegend:!1};return(0,i.isEqual)(t,e)?e:t}))}),[te,ee,L,le,N,O,ae]);const ue=(0,o.useMemo)((()=>((null===S||void 0===S?void 0:S.length)||0)>1),[S]),pe=(0,o.useCallback)((e=>{var t,n;let{points:r,event:i}=e;const o=r[0],s=null===o||void 0===o?void 0:o.data;if(se(null!==(t=null===o||void 0===o?void 0:o.curveNumber)&&void 0!==t?t:-1),!s)return;const a=s.uuid,l=null===(n=s.metricHistory)||void 0===n?void 0:n[o.pointIndex],c={xValue:o.x,yValue:o.y,metricEntity:l,index:o.pointIndex,label:ae};a&&(null===H||void 0===H||H(a,i,c))}),[H,se,ae]),he=(0,o.useCallback)((()=>{null===_||void 0===_||_(),se(-1)}),[_,se]),me=(0,o.useMemo)((()=>(0,d.y)($)),[$]),ge=ce;ge.xaxis&&(ge.xaxis.title=ae,ge.xaxis.type=((e,t)=>e===d.fj.TIME||(0,h.v$)()&&q===d.fj.TIME_RELATIVE?"date":e===d.fj.STEP&&"log"===t?"log":"linear")(D,R),B&&(ge.xaxis.range=((e,t,n)=>{if(e===d.fj.STEP&&"number"===typeof t[0]&&"number"===typeof t[1]&&"log"===n){if(t[0]<0&&t[1]<0)return;if(t[0]<0)return[0,t[1]]}return[...t]})(D,B,R)),ge.xaxis.tickformat=(0,h.v$)()&&q===d.fj.TIME_RELATIVE?"%H:%M:%S":void 0),ge.template={layout:me},U&&ge.yaxis&&(ge.yaxis.range=U,ge.yaxis.automargin=!0,ge.yaxis.tickformat="f");const fe=(0,o.useMemo)((()=>(0,d.Ct)(t,S,n)),[t,S,n]),{scanlineElement:ve,initHandler:ye,updateHandler:xe,onPointHover:Ce,onPointUnhover:be}=(e=>{let{onUnhover:t,onHover:n,runsData:r,plotData:s,legendLabelData:a,containsMultipleMetricKeys:l,xAxisKeyLabel:c,xAxisKey:d,disabled:u,setHoveredPointIndex:p,xAxisScaleType:h="linear"}=e;const y=(0,o.useRef)({containerLeftPixels:0,plotWidthPixels:0,plotOffsetPixels:0,lowerBoundValue:0,valueRange:0,mainContainer:null,dragLayer:null,initialized:!1}),x=(0,o.useRef)(null),C=(0,o.useRef)(void 0),b=(0,o.useMemo)((()=>(0,i.uniq)(s.map((e=>{let{x:t}=e;return t})).flat())),[s]),[M,w]=(0,o.useState)(null),A=(0,o.useRef)(void 0),S=(0,o.useRef)(a),Y=(0,o.useRef)(r),E=(0,o.useRef)(s),R=(0,o.useRef)(b);S.current=a,Y.current=r,E.current=s,R.current=b;const D=(0,o.useCallback)((e=>{var t,n,r,o,s,a;const l=null===(t=e.layout.xaxis)||void 0===t||null===(n=t.range)||void 0===n?void 0:n[0],c=null===(r=e.layout.xaxis)||void 0===r||null===(o=r.range)||void 0===o?void 0:o[1];let d=(0,i.isNumber)(l)?l:new Date(null!==l&&void 0!==l?l:0).getTime(),u=(0,i.isNumber)(c)?c:new Date(null!==c&&void 0!==c?c:0).getTime();d+=v(l),u+=v(c),y.current.lowerBoundValue=null!==(s=d)&&void 0!==s?s:0,y.current.valueRange=(null!==(a=u)&&void 0!==a?a:0)-y.current.lowerBoundValue}),[]),k=(0,o.useCallback)((()=>{const{mainContainer:e,dragLayer:t}=y.current;if(e&&t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();y.current.containerLeftPixels=n.x,y.current.plotWidthPixels=r.width,y.current.plotOffsetPixels=r.x-n.x,y.current.initialized=r.width>0}}),[]),T=(0,o.useCallback)(((e,t)=>{D(e);const n=t.querySelector(".main-svg"),r=t.querySelector(f);y.current.mainContainer=n,y.current.dragLayer=r,k()}),[D,k]),I=(0,o.useCallback)(((e,t)=>{w({figure:e,graphDiv:t}),T(e,t)}),[T]),L=(0,o.useCallback)((e=>{e.relatedTarget instanceof Element&&e.relatedTarget.classList.contains("dragcover")||(null===t||void 0===t||t(),x.current&&(x.current.style.display="none"))}),[t]),F=(0,o.useCallback)((e=>{var t,n;let{points:r}=e;const i=r[0],o=null===i||void 0===i?void 0:i.data;if(p(null!==(t=null===i||void 0===i?void 0:i.curveNumber)&&void 0!==t?t:-1),!o)return;const s=null===(n=o.metricHistory)||void 0===n?void 0:n[i.pointIndex],a={xValue:i.x,yValue:i.y,metricEntity:s,index:i.pointIndex,label:c,traceUuid:o.uuid};C.current=a}),[c,p]),K=(0,o.useCallback)((()=>{C.current=void 0,p(-1)}),[p]),H=(0,o.useCallback)((e=>{const t=y.current,n=(e-t.plotOffsetPixels-t.containerLeftPixels)/t.plotWidthPixels;let r=t.lowerBoundValue+t.valueRange*n;return"log"===h&&(r=10**r),R.current.reduce(((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e),R.current[0])}),[h]);(0,o.useEffect)((()=>{if(u)return;if(!M)return;D(M.figure);const e=M.graphDiv.querySelector(f),t=(0,i.throttle)((e=>{y.current.initialized||k();const t=H(e.clientX),n=S.current.map((e=>{var n,r;const o=Y.current.find((t=>{let{uuid:n}=t;return n===e.uuid})),s=E.current.find((t=>{let{uuid:n,metricKey:r}=t;return n===e.uuid&&e.metricKey===r}));if(!s)return;const a=l?e.label:null===o||void 0===o?void 0:o.displayName,c=null===(n=s.x)||void 0===n?void 0:n.indexOf(t);if((0,i.isUndefined)(c)||-1===c)return;const d=null===(r=s.y)||void 0===r?void 0:r[c];return{displayName:a||"",value:(0,i.isNumber)(d)?d:void 0,color:null===e||void 0===e?void 0:e.color,dashStyle:null===e||void 0===e?void 0:e.dashStyle,uuid:`${e.uuid}.${e.metricKey}`}}));A.current={tooltipLegendItems:(0,i.orderBy)((0,i.compact)(n),"value","desc"),hoveredDataPoint:null===C||void 0===C?void 0:C.current,xValue:t,xAxisKey:d,xAxisKeyLabel:c}}),50,{leading:!0}),r=(0,i.throttle)(k,50),o=e=>{var t,r;if(!A.current)return;const i=y.current,o=H(e.clientX),s=(("log"===h?Math.log10(o):o)-i.lowerBoundValue)/i.valueRange*i.plotWidthPixels;x.current&&(x.current.style.display="block",x.current.style.left=`${i.plotOffsetPixels+s}px`),null===n||void 0===n||n((null===(t=A.current)||void 0===t||null===(r=t.hoveredDataPoint)||void 0===r?void 0:r.traceUuid)||"",{x:i.containerLeftPixels+i.plotOffsetPixels+s,y:e.clientY,originalEvent:e},A.current)};return e?(e.addEventListener("pointermove",t),e.addEventListener("pointermove",o),window.addEventListener("resize",r),e.addEventListener("pointerleave",L),()=>{e.removeEventListener("pointermove",t),e.removeEventListener("pointermove",o),e.removeEventListener("pointerleave",L),window.removeEventListener("resize",r)}):()=>{}}),[L,M,D,n,l,C,u,d,c,h,H,k]);const _=u?null:(0,g.Y)("div",{css:(0,m.AH)({top:0,width:0,borderLeft:"1px dashed rgba(0,0,0,0.5)",height:"100%",position:"absolute",pointerEvents:"none"},""),ref:x,style:{display:"none"}});return{updateHandler:T,initHandler:I,scanlineElement:_,onPointHover:F,onPointUnhover:K}})({legendLabelData:fe,plotData:J,runsData:t,containsMultipleMetricKeys:ue,onHover:H,onUnhover:he,xAxisKeyLabel:ae,xAxisKey:q,xAxisScaleType:D===d.fj.STEP?R:"linear",setHoveredPointIndex:se,disabled:!X}),Me=(0,l.l)(X?Ce:pe);(0,o.useEffect)((()=>{const e=((null===S||void 0===S?void 0:S.length)||0)>1?Q.map((e=>e.metricKey?{...e,name:`${e.name} (${e.metricKey})`}:e)):Q,t={...ce,showlegend:!0,legend:{orientation:"h"}};null===G||void 0===G||G((0,y.W)(e,t))}),[ce,G,Q,null===S||void 0===S?void 0:S.length]);const we=(0,g.FD)("div",{css:[d.gz.chartWrapper($),Y.highlightStyles,""],className:I,ref:ne,children:[(0,g.Y)(a.W,{data:Q,useResizeHandler:!ie,css:d.gz.chart($),onUpdate:(e,t)=>{X&&xe(e,t),null===K||void 0===K||K(e,t)},layout:ge,config:b,onHover:Me,onUnhover:X?be:he,onInitialized:ye}),ve]});return(0,g.Y)(p.A,{labelData:fe,fullScreen:j,children:we})})),Y={highlightStyles:{".scatterlayer g.trace":{transition:"var(--trace-transition)"},".scatterlayer.is-highlight g.trace:not(.is-band)":{opacity:"var(--trace-opacity-dimmed-low) !important"},".scatterlayer g.trace.is-hover-highlight:not(.is-band)":{opacity:"var(--trace-opacity-highlighted) !important"},".scatterlayer g.trace.is-selection-highlight:not(.is-band)":{opacity:"var(--trace-opacity-highlighted) !important"},".scatterlayer g.trace.is-selection-highlight path.point":{stroke:"var(--trace-stroke-color)",strokeWidth:"var(--trace-stroke-width) !important"},".scatterlayer.is-highlight g.trace.is-band:not(.is-band-highlighted)":{opacity:"var(--trace-opacity-dimmed) !important"}}}},59397:function(e,t,n){"use strict";n.d(t,{G:function(){return f}});var r=n(89555),i=n(9133),o=n(31014),s=n(16026),a=n(69526),l=n(88464),c=n(7842),d=n(67727),u=n(91144),p=n(50111);const h=e=>{let{value:t}=e;return(0,p.FD)(p.FK,{children:[(0,p.Y)(a.XU,{value:t,year:"numeric"}),"-",(0,p.Y)(a.XU,{value:t,month:"2-digit"}),"-",(0,p.Y)(a.XU,{value:t,day:"2-digit"})," ",(0,p.Y)(a.ib,{value:t,hour:"numeric",hourCycle:"h24"}),":",(0,p.Y)(a.ib,{value:t,minute:"2-digit"}),":",(0,p.Y)(a.ib,{value:t,second:"2-digit",fractionalSecondDigits:3})]})},m=e=>{let{value:t}=e;return(0,p.FD)(p.FK,{children:[(0,p.Y)(a.ib,{value:t,hour:"2-digit",hourCycle:"h23"}),":",(0,p.Y)(a.ib,{value:t,minute:"2-digit"}),":",(0,p.Y)(a.ib,{value:t,second:"2-digit",fractionalSecondDigits:3})]})};var g={name:"1efi8gv",styles:"font-weight:bold"};const f=e=>{let{hoverData:t}=e;const{tooltipLegendItems:n,hoveredDataPoint:a,xValue:f,xAxisKeyLabel:v}=t,{traceUuid:y,metricEntity:x}=a||{},C=(0,l.A)(),{theme:b}=(0,d.u)(),M=`${y}.${null===x||void 0===x?void 0:x.key}`,w=t.xAxisKey===c.fj.METRIC?v:C.formatMessage((0,c.fw)(t.xAxisKey));return n?(0,p.FD)("div",{children:[!(0,i.isUndefined)(f)&&(0,p.FD)("div",{css:(0,r.AH)({marginBottom:b.spacing.xs},""),children:[(0,p.Y)("span",{css:g,children:w})," ",t.xAxisKey===c.fj.TIME?(0,p.Y)(h,{value:f}):(0,u.v$)()&&t.xAxisKey===c.fj.TIME_RELATIVE?(0,p.Y)(m,{value:f}):f]}),(0,p.Y)("div",{css:(0,r.AH)({display:"grid",gridTemplateColumns:`${b.general.iconSize}px auto auto`,columnGap:b.spacing.sm,rowGap:b.spacing.sm/4,alignItems:"center"},""),children:n.map((e=>{let{displayName:t,color:n,uuid:a,value:l,dashStyle:c}=e;return(0,p.FD)(o.Fragment,{children:[(0,p.Y)(s.Y,{color:n||"transparent",dashStyle:c}),(0,p.Y)("div",{css:(0,r.AH)({marginRight:b.spacing.md,fontSize:b.typography.fontSizeSm,color:M===a?"unset":b.colors.textPlaceholder},""),children:t}),(0,p.Y)("div",{children:!(0,i.isUndefined)(l)&&(0,p.Y)("span",{css:(0,r.AH)({fontWeight:M===a?"bold":"normal",color:M===a?"unset":b.colors.textPlaceholder},""),children:l})})]},a)}))})]}):null}},10661:function(e,t,n){"use strict";n.d(t,{i:function(){return h}});var r=n(67727),i=n(31014),o=n(79445),s=n(97604),a=n(25790),l=n(7842),c=n(23541),d=n(50684),u=n(50111);const p={displaylogo:!1,scrollZoom:!1,modeBarButtonsToRemove:["toImage"]},h=i.memo((e=>{let{runsData:t,xAxis:n,yAxis:h,markerSize:m=10,className:g,margin:f=l.am,onUpdate:v,onHover:y,onUnhover:x,width:C,height:b,useDefaultHoverBox:M=!0,selectedRunUuid:w,onSetDownloadHandler:A}=e;const{theme:S}=(0,r.u)(),{layoutHeight:Y,layoutWidth:E,setContainerDiv:R,containerDiv:D,isDynamicSizeSupported:k}=(0,l.xN)(),T=(0,i.useMemo)((()=>{const e=[],r=[],i=[],o=[];for(const l of t){var s,a;const{runInfo:t,metrics:c,params:d,color:u,uuid:p,displayName:m}=l,{runUuid:g,runName:f}=t||{},v="METRIC"===n.type?c:d,y="METRIC"===h.type?c:d,x=(null===v||void 0===v||null===(s=v[n.key])||void 0===s?void 0:s.value)||void 0,C=(null===y||void 0===y||null===(a=y[h.key])||void 0===a?void 0:a.value)||void 0;x&&C&&(e.push(x),r.push(C),i.push(u||S.colors.primary),g?o.push([g,f||g]):o.push([p,m]))}return[{x:e,y:r,customdata:o,text:t.map((e=>{let{displayName:t}=e;return t})),hovertemplate:M?"<b>%{customdata[1]}:</b><br><b>%{xaxis.title.text}:</b> %{x:.2f}<br><b>%{yaxis.title.text}:</b> %{y:.2f}<br><extra></extra>":void 0,hoverinfo:M?void 0:"none",hoverlabel:M?l.rv:void 0,type:"scatter",mode:"markers",textposition:"bottom center",marker:{size:m,color:i}}]}),[t,n,h,S,m,M]),I=(0,i.useMemo)((()=>(0,l.y)(S)),[S]),[L,F]=(0,i.useState)({width:C||E,height:b||Y,margin:f,xaxis:{title:n.key,tickfont:{size:11,color:S.colors.textSecondary}},yaxis:{title:h.key,tickfont:{size:11,color:S.colors.textSecondary}},template:{layout:I}});(0,i.useEffect)((()=>{F((e=>{const t={...e,width:C||E,height:b||Y,margin:f};return t.xaxis&&(t.xaxis.title=n.key),t.yaxis&&(t.yaxis.title=h.key),t}))}),[E,Y,f,n.key,h.key,C,b]);const{setHoveredPointIndex:K}=(0,a.ZY)(D,w,t,a.nD),H=(0,i.useCallback)((e=>{var t,n,r,i;let{points:o}=e;const s=null===(t=o[0])||void 0===t||null===(n=t.customdata)||void 0===n?void 0:n[0];K(null!==(r=null===(i=o[0])||void 0===i?void 0:i.pointIndex)&&void 0!==r?r:-1),s&&(null===y||void 0===y||y(s))}),[y,K]),_=(0,i.useCallback)((()=>{null===x||void 0===x||x(),K(-1)}),[x,K]),N=(0,s.l)(H),O=(0,i.useMemo)((()=>(0,l.eY)(t)),[t]);(0,i.useEffect)((()=>{const e=T.map((e=>({...e,mode:"text+markers"})));null===A||void 0===A||A((0,d.W)(e,L))}),[L,A,T]);const z=(0,u.Y)("div",{css:[l.gz.chartWrapper(S),l.gz.scatterChartHighlightStyles,""],className:g,ref:R,children:(0,u.Y)(o.W,{data:T,useResizeHandler:!k,css:l.gz.chart(S),layout:L,config:p,onUpdate:v,onHover:N,onUnhover:_})});return(0,u.Y)(c.A,{labelData:O,children:z})}))},6922:function(e,t,n){"use strict";n.d(t,{Ox:function(){return f},cN:function(){return d},xC:function(){return u}});var r=n(89555),i=n(67727),o=n(49409),s=n(90765),a=n(91144),l=n(88443),c=n(50111);let d=function(e){return e.PARALLEL_CHARTS_AREA="PARALLEL_CHARTS_AREA",e.GENERAL_AREA="GENERAL_AREA",e}({});const u=e=>{let{runsOrGroups:t}=e;const n=t.some((e=>{let{groupParentInfo:t}=e;return t})),r=t.some((e=>{let{runInfo:t}=e;return t}));return(0,a.M1)()?null:r&&n?(0,c.Y)(l.A,{id:"xr/C5c",defaultMessage:"Comparing first {count} groups and runs",values:{count:t.length}}):n?(0,c.Y)(l.A,{id:"TMJfZv",defaultMessage:"Comparing first {count} groups",values:{count:t.length}}):(0,c.Y)(l.A,{id:"gdjniH",defaultMessage:"Comparing first {count} runs",values:{count:t.length}})};var p={name:"andpxo",styles:"display:flex;overflow:hidden"},h={name:"19mhjsb",styles:"overflow:hidden;flex:1;flex-shrink:1"},m={name:"72wqca",styles:"margin-bottom:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis"},g={name:"1989ovb",styles:"vertical-align:middle"};const f=e=>{let{title:t,subtitle:n,onDelete:a,onEdit:d,children:u,uuid:f,dragGroupKey:y,tooltip:x="",onReorderWith:C=(()=>{}),canMoveDown:b,canMoveUp:M,onMoveDown:w,onMoveUp:A,additionalMenuContent:S,toggleFullScreenChart:Y,toggles:E,supportedDownloadFormats:R=[],onClickDownload:D,isRefreshing:k=!1}=e;const{theme:T}=(0,i.u)(),{dragHandleRef:I,dragPreviewRef:L,dropTargetRef:F,isDraggingOtherGroup:K,isOver:H}=(0,s.S)({dragGroupKey:y,dragKey:f||"",onDrop:C,disabled:!1});return(0,c.FD)("div",{css:(0,r.AH)({height:360,overflow:"hidden",display:"grid",gridTemplateRows:"auto 1fr",backgroundColor:T.colors.backgroundPrimary,padding:12,paddingBottom:T.spacing.sm,border:`1px solid ${T.colors.border}`,borderRadius:T.general.borderRadiusBase,transition:"opacity 0.12s",position:"relative"},""),style:{opacity:K?.1:H?.5:1},"data-testid":"experiment-view-compare-runs-card",ref:e=>{null===L||void 0===L||L(e),null===F||void 0===F||F(e)},children:[(0,c.FD)("div",{css:p,children:[(0,c.Y)("div",{ref:I,"data-testid":"experiment-view-compare-runs-card-drag-handle",css:(0,r.AH)({marginTop:T.spacing.xs,marginRight:T.spacing.sm,cursor:"grab"},""),children:(0,c.Y)(o.WP0,{})}),(0,c.FD)("div",{css:h,children:[(0,c.Y)(i.T.Title,{title:String(t),level:4,css:m,children:t}),n&&(0,c.Y)("span",{css:v.subtitle(T),children:n}),x&&(0,c.Y)(o.ID_,{css:g,title:x})]}),k&&(0,c.Y)("div",{css:(0,r.AH)({width:T.general.heightSm,height:T.general.heightSm,display:"flex",alignItems:"center",justifyContent:"center"},""),children:(0,c.Y)(i.S,{})}),E&&(0,c.Y)("div",{css:(0,r.AH)({display:"flex",padding:`0px ${T.spacing.lg}px`,gap:T.spacing.md,alignItems:"flex-start"},""),children:E.map((e=>(0,c.Y)(o.dOG,{checked:e.currentToggle,onChange:e.setToggle,label:e.toggleLabel},e.toggleLabel)))}),(0,c.Y)(i.B,{componentId:"fullscreen_button_chartcard",icon:(0,c.Y)(o.P7m,{}),onClick:Y,disabled:!Y}),(0,c.FD)(o.rId.Root,{modal:!1,children:[(0,c.Y)(o.rId.Trigger,{asChild:!0,children:(0,c.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_cards_chartcard.common.tsx_158",type:"tertiary",icon:(0,c.Y)(o.ssM,{}),"data-testid":"experiment-view-compare-runs-card-menu"})}),(0,c.FD)(o.rId.Content,{align:"end",minWidth:100,children:[(0,c.Y)(o.rId.Item,{onClick:d,"data-testid":"experiment-view-compare-runs-card-edit",children:"Configure"}),(0,c.Y)(o.rId.Item,{onClick:a,"data-testid":"experiment-view-compare-runs-card-delete",children:"Delete"}),R.length>0&&D&&(0,c.FD)(c.FK,{children:[(0,c.Y)(o.rId.Separator,{}),R.includes("csv")&&(0,c.Y)(o.rId.Item,{onClick:()=>D("csv"),children:(0,c.Y)(l.A,{id:"5YOBk/",defaultMessage:"Export as CSV"})}),R.includes("svg")&&(0,c.Y)(o.rId.Item,{onClick:()=>D("svg"),children:(0,c.Y)(l.A,{id:"LiW/yM",defaultMessage:"Download as SVG"})}),R.includes("png")&&(0,c.Y)(o.rId.Item,{onClick:()=>D("png"),children:(0,c.Y)(l.A,{id:"s5ygFF",defaultMessage:"Download as PNG"})})]}),(0,c.Y)(o.rId.Separator,{}),(0,c.Y)(o.rId.Item,{disabled:!M,onClick:A,"data-testid":"experiment-view-compare-runs-move-up",children:(0,c.Y)(l.A,{id:"IAyAgH",defaultMessage:"Move up"})}),(0,c.Y)(o.rId.Item,{disabled:!b,onClick:w,"data-testid":"experiment-view-compare-runs-move-down",children:(0,c.Y)(l.A,{id:"Z6kodo",defaultMessage:"Move down"})}),S]})]})]}),u]})},v={chartEntry:e=>({height:360,overflow:"hidden",display:"grid",gridTemplateRows:"auto 1fr",backgroundColor:e.colors.backgroundPrimary,padding:e.spacing.md,border:`1px solid ${e.colors.border}`,borderRadius:e.general.borderRadiusBase}),chartComponentWrapper:()=>({overflow:"hidden"}),subtitle:e=>({color:e.colors.textSecondary,fontSize:11,marginRight:4,verticalAlign:"middle"})}},59264:function(e,t,n){"use strict";n.d(t,{J:function(){return p},X:function(){return h}});var r=n(31014),i=n(65243),o=n(75627),s=n(92206),a=n(91144),l=n(6922),c=n(50684),d=n(21616),u=n(50111);const p={t:24,b:48,r:0,l:4,pad:0},h=e=>{let{config:t,chartRunData:n,onDelete:h,onEdit:g,onReorderWith:f,canMoveDown:v,canMoveUp:y,onMoveDown:x,onMoveUp:C,fullScreen:b,setFullScreenChart:M}=e;const w=(0,r.useMemo)((()=>(0,a.M1)()?n.filter((e=>{let{hidden:t}=e;return!t})).reverse():n.slice(0,t.runsCountToCompare||10).reverse()),[n,t]),{setTooltip:A,resetTooltip:S,selectedRunUuid:Y}=(0,o.uN)(t),{elementRef:E,isInViewport:R}=(0,s.v)(),[D,k]=(0,c.H)(),T=(0,u.Y)("div",{css:[m.barChartCardWrapper,{height:b?"100%":void 0},""],ref:E,children:R?(0,u.Y)(i.u,{runsData:w,metricKey:t.metricKey,displayRunNames:!1,displayMetricKey:!1,useDefaultHoverBox:!1,margin:p,onHover:A,onUnhover:S,selectedRunUuid:Y,onSetDownloadHandler:k}):null});return b?T:(0,u.Y)(l.Ox,{onEdit:g,onDelete:h,title:t.metricKey,subtitle:(0,u.Y)(l.xC,{runsOrGroups:w}),uuid:t.uuid,dragGroupKey:l.cN.GENERAL_AREA,onReorderWith:f,canMoveDown:v,canMoveUp:y,onMoveDown:x,onMoveUp:C,toggleFullScreenChart:()=>{null===M||void 0===M||M({config:t,title:t.metricKey,subtitle:(0,u.Y)(l.xC,{runsOrGroups:n})})},supportedDownloadFormats:["png","svg","csv"],onClickDownload:e=>{if("csv"!==e&&"csv-full"!==e)null===D||void 0===D||D(e,t.metricKey);else{const e=[...w].reverse();(0,d.LL)(e,[t.metricKey],[],t.metricKey)}},children:T})},m={barChartCardWrapper:{overflow:"hidden"}}},76350:function(e,t,n){"use strict";n.d(t,{i:function(){return ue}});var r=n(31014),i=n(30152),o=n(91144),s=n(59264),a=n(49409),l=n(7842),c=n(65412),d=n(75627),u=n(6922),p=n(13135),h=n(9133),m=n(92206),g=n(25121),f=n(10811);var v=n(81850),y=n(50684),x=n(21616),C=n(50111);const b=e=>e.selectedMetricKeys&&0!==e.selectedMetricKeys.length?e.selectedMetricKeys.join(" vs "):e.metricKey,M=e=>{let{config:t,chartRunData:n,onDelete:i,onEdit:s,onReorderWith:M,onDownloadFullMetricHistoryCsv:A,canMoveDown:S,canMoveUp:Y,onMoveDown:E,onMoveUp:R,groupBy:D,fullScreen:k,setFullScreenChart:T,autoRefreshEnabled:I}=e;const L=(0,o.dD)(),F=(0,r.useMemo)((()=>(0,o.M1)()?n.filter((e=>{let{hidden:t}=e;return!t})).reverse():n.slice(0,t.runsCountToCompare||10).reverse()),[n,t]),K=(0,r.useMemo)((()=>F.some((e=>e.groupParentInfo))),[F]),H=(0,r.useMemo)((()=>{if(K){return[...(0,h.compact)(F.map((e=>e.groupParentInfo))).flatMap((e=>e.runUuids)),...(0,h.compact)(F.filter((e=>!e.groupParentInfo&&!e.belongsToGroup)).map((e=>{var t;return null===(t=e.runInfo)||void 0===t?void 0:t.runUuid})))]}return(0,h.compact)(F.map((e=>{var t;return null===(t=e.runInfo)||void 0===t?void 0:t.runUuid})))}),[F,K]),_=(0,r.useMemo)((()=>{var e;const n=[t.metricKey],r=null!==(e=t.selectedMetricKeys)&&void 0!==e?e:n,i=t.selectedXAxisMetricKey?[t.selectedXAxisMetricKey]:[];return r.concat(i)}),[t.metricKey,t.selectedMetricKeys,t.selectedXAxisMetricKey]),{setTooltip:N,resetTooltip:O,destroyTooltip:z,selectedRunUuid:P}=(0,d.uN)(t,L?d.QS.MultipleTracesWithScanline:d.QS.Simple),{elementRef:B,isInViewport:U}=(0,m.v)(),{aggregateFunction:W}=D||{},j=(0,f.d4)((e=>(0,h.pick)(e.entities.sampledMetricsByRunUuid,H)),f.bN),{range:V,setRange:G,setOffsetTimestamp:$,stepRange:X}=function(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"linear";const[s,a]=(0,r.useState)(void 0),[c,d]=(0,r.useState)(void 0);return{setRange:a,setOffsetTimestamp:d,stepRange:(0,r.useMemo)((()=>{if(s){if(e===l.fj.TIME&&(0,h.isString)(s[0])&&(0,h.isString)(s[1]))return(0,g.p4)(n,i,t,s);if(e===l.fj.TIME_RELATIVE&&c&&(0,h.isNumber)(s[0])&&(0,h.isNumber)(s[1]))return(0,g.p4)(n,i,t,c);if(e===l.fj.STEP&&(0,h.isNumber)(s[0])&&(0,h.isNumber)(s[1])){const e=Math.floor("log"===o?10**s[0]:s[0]),t=Math.ceil("log"===o?10**s[1]:s[1]);return e&&t?[e-1,t+1]:void 0}}}),[e,t,s,n,i,c,o]),range:s}}(t.xAxisKey,t.metricKey,j,H,t.xAxisKey===l.fj.STEP?t.xAxisScaleType:"linear"),q=(0,r.useRef)(void 0),{resultsByRunUuid:J,isLoading:Z,isRefreshing:Q}=(0,p.S)({runUuids:H,metricKeys:_,enabled:U,maxResults:320,range:X,autoRefreshEnabled:I});(0,r.useEffect)((()=>{z()}),[z,Z]);const ee=(0,r.useMemo)((()=>F.map((e=>{const t=_.reduce(((t,n)=>{var r,i;const o=null===(r=J[e.uuid])||void 0===r||null===(i=r[n])||void 0===i?void 0:i.metricsHistory;return o&&(t[n]=o),t}),{});return{...e,metricsHistory:t}}))),[_,J,F]),te=(0,v.B)({enabled:K,ungroupedRunsData:ee,metricKeys:_,sampledDataResultsByRunUuid:J,aggregateFunction:W,selectedXAxisMetricKey:t.xAxisKey===l.fj.METRIC?t.selectedXAxisMetricKey:void 0}),ne=K?te:ee,[re,ie]=(0,y.H)(),oe=(0,C.Y)("div",{css:[w.lineChartCardWrapper,{height:k?"100%":void 0},""],ref:B,children:U?Z?(0,C.Y)(a.PLz,{}):(0,C.Y)(c.h,{runsData:ne,metricKey:t.metricKey,selectedMetricKeys:t.selectedMetricKeys,scaleType:t.scaleType,xAxisKey:t.xAxisKey,xAxisScaleType:t.xAxisScaleType,selectedXAxisMetricKey:t.selectedXAxisMetricKey,lineSmoothness:t.lineSmoothness,useDefaultHoverBox:!1,onHover:N,onUnhover:O,selectedRunUuid:P,onUpdate:e=>{let{layout:n}=e;const{range:r}=n.yaxis||{};if(!(0,h.isEqual)(r,q.current)&&z(),q.current=[...r],!n.xaxis)return;const{autorange:i,range:s}=n.xaxis;if(i)G(void 0);else if(!(0,h.isEqual)(s,V)&&!i&&s){const e=(0,h.compact)(F.map((e=>{let{runInfo:t}=e;return null===t||void 0===t?void 0:t.runUuid}))),n=F.flatMap((e=>{var t;let{groupParentInfo:n}=e;return null!==(t=null===n||void 0===n?void 0:n.runUuids)&&void 0!==t?t:[]}));if((0,o.v$)()||t.xAxisKey!==l.fj.TIME_RELATIVE)if(t.xAxisKey===l.fj.TIME_RELATIVE_HOURS){const t=(0,g.CZ)(J,[...e,...n],s,36e5);$([...t])}else $(void 0);else{const t=(0,g.CZ)(J,[...e,...n],s);$([...t])}G([...s])}},xRange:V,yRange:q.current,fullScreen:k,displayPoints:t.displayPoints,onSetDownloadHandler:ie}):null});return k?oe:(0,C.Y)(u.Ox,{onEdit:s,onDelete:i,title:b(t),subtitle:(0,C.Y)(u.xC,{runsOrGroups:F}),uuid:t.uuid,dragGroupKey:u.cN.GENERAL_AREA,onReorderWith:M,supportedDownloadFormats:["png","svg","csv","csv-full"],onClickDownload:e=>{var n,r;const i=null!==(n=null===(r=t.selectedMetricKeys)||void 0===r?void 0:r.join("-"))&&void 0!==n?n:t.metricKey;if("csv-full"!==e)"csv"!==e?null===re||void 0===re||re(e,i):(0,x.Fz)(ne,t.selectedMetricKeys||[t.metricKey],i);else{const e=(0,h.compact)(ne.map((e=>{var t;return null===(t=e.runInfo)||void 0===t?void 0:t.runUuid}))),n=(0,h.compact)(ne.filter((e=>{let{groupParentInfo:t}=e;return t})).flatMap((e=>{var t;return null===(t=e.groupParentInfo)||void 0===t?void 0:t.runUuids}))),r=[...e,...n];null===A||void 0===A||A(r,t.selectedMetricKeys||[t.metricKey])}},canMoveDown:S,canMoveUp:Y,onMoveDown:E,onMoveUp:R,toggleFullScreenChart:()=>{null===T||void 0===T||T({config:t,title:b(t),subtitle:(0,C.Y)(u.xC,{runsOrGroups:n})})},isRefreshing:Q,children:oe})},w={lineChartCardWrapper:{overflow:"hidden"}};var A=n(10661);const S=e=>{let{config:t,chartRunData:n,onDelete:i,onEdit:s,onReorderWith:a,canMoveDown:l,canMoveUp:c,onMoveDown:p,onMoveUp:h,fullScreen:g,setFullScreenChart:f}=e;const v=`${t.xaxis.key} vs. ${t.yaxis.key}`,b=(0,r.useMemo)((()=>(0,o.M1)()?n.filter((e=>{let{hidden:t}=e;return!t})).reverse():n.slice(0,t.runsCountToCompare||10).reverse()),[n,t]),{setTooltip:M,resetTooltip:w,selectedRunUuid:S}=(0,d.uN)(t),{elementRef:E,isInViewport:R}=(0,m.v)(),[D,k]=(0,y.H)(),T=(0,C.Y)("div",{css:[Y.scatterChartCardWrapper,{height:g?"100%":void 0},""],ref:E,children:R?(0,C.Y)(A.i,{runsData:b,xAxis:t.xaxis,yAxis:t.yaxis,onHover:M,onUnhover:w,useDefaultHoverBox:!1,selectedRunUuid:S,onSetDownloadHandler:k}):null});return g?T:(0,C.Y)(u.Ox,{onEdit:s,onDelete:i,title:v,subtitle:(0,C.Y)(u.xC,{runsOrGroups:b}),uuid:t.uuid,dragGroupKey:u.cN.GENERAL_AREA,onReorderWith:a,canMoveDown:l,canMoveUp:c,onMoveDown:p,onMoveUp:h,toggleFullScreenChart:()=>{null===f||void 0===f||f({config:t,title:v,subtitle:(0,C.Y)(u.xC,{runsOrGroups:n})})},supportedDownloadFormats:["png","svg","csv"],onClickDownload:e=>{const n=[t.xaxis.key,t.yaxis.key].join("-");if("csv"!==e&&"csv-full"!==e)null===D||void 0===D||D(e,n);else{const e=[],r=[];for(const n of["xaxis","yaxis"])"PARAM"===t[n].type?e.push(t[n].key):r.push(t[n].key);(0,x.LL)(b,r,e,n)}},children:T})},Y={scatterChartCardWrapper:{overflow:"hidden"}};var E=n(66117);const R=e=>{let{config:t,chartRunData:n,onDelete:i,onEdit:s,onReorderWith:a,canMoveDown:l,canMoveUp:c,onMoveDown:p,onMoveUp:h,fullScreen:m,setFullScreenChart:g}=e;const f=`${t.xaxis.key} vs. ${t.yaxis.key} vs. ${t.zaxis.key}`,v=(0,r.useMemo)((()=>(0,o.M1)()?n.filter((e=>{let{hidden:t}=e;return!t})).reverse():n.slice(0,t.runsCountToCompare||10).reverse()),[n,t]),{setTooltip:b,resetTooltip:M,selectedRunUuid:w}=(0,d.uN)(t),[A,S]=(0,y.H)(),Y=(0,C.Y)("div",{css:[D.contourChartCardWrapper,{height:m?"100%":void 0},""],children:(0,C.Y)(E.a,{runsData:v,xAxis:t.xaxis,yAxis:t.yaxis,zAxis:t.zaxis,useDefaultHoverBox:!1,onHover:b,onUnhover:M,selectedRunUuid:w,onSetDownloadHandler:S})});return m?Y:(0,C.Y)(u.Ox,{onEdit:s,onDelete:i,title:f,subtitle:(0,C.Y)(u.xC,{runsOrGroups:v}),uuid:t.uuid,dragGroupKey:u.cN.GENERAL_AREA,onReorderWith:a,canMoveDown:l,canMoveUp:c,onMoveDown:p,onMoveUp:h,toggleFullScreenChart:()=>{null===g||void 0===g||g({config:t,title:f,subtitle:(0,C.Y)(u.xC,{runsOrGroups:n})})},supportedDownloadFormats:["png","svg","csv"],onClickDownload:e=>{const n=[t.xaxis.key,t.yaxis.key,t.zaxis.key].join("-");if("csv"!==e&&"csv-full"!==e)null===A||void 0===A||A(e,n);else{const e=[],r=[];for(const n of["xaxis","yaxis","zaxis"])"PARAM"===t[n].type?e.push(t[n].key):r.push(t[n].key);(0,x.LL)(v,r,e,n)}},children:Y})},D={contourChartCardWrapper:{overflow:"hidden"}};var k,T,I,L,F=n(67727);function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function H(e,t){let{title:n,titleId:i,...o}=e;return r.createElement("svg",K({width:80,height:42,viewBox:"0 0 80 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,k||(k=r.createElement("path",{d:"M1.28418 2.34094L39.4998 17.0908L76.3746 7.87216",stroke:"#CF797B",strokeLinecap:"round"})),T||(T=r.createElement("path",{d:"M1.95459 20.443L40.1702 25.1361L77.045 21.1134M1.95459 36.5338L40.1702 35.1929L77.045 25.1361",stroke:"#A88E6F",strokeLinecap:"round"})),I||(I=r.createElement("g",{opacity:.8},r.createElement("path",{d:"M1.28418 1V40.3341",stroke:"#338ECC",strokeLinecap:"round"}),r.createElement("path",{d:"M40.6189 2.07251V39.9763",stroke:"#338ECC",strokeLinecap:"round"}),r.createElement("path",{d:"M77.7156 2.07251V39.9763",stroke:"url(#paint0_linear_2781_406689)",strokeWidth:4,strokeLinecap:"square"}))),L||(L=r.createElement("defs",null,r.createElement("linearGradient",{id:"paint0_linear_2781_406689",x1:78.2156,y1:2.07251,x2:78.2156,y2:39.9763,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#D04F5E"}),r.createElement("stop",{offset:1,stopColor:"#4D9734"})))))}const _=r.forwardRef(H);n.p;var N=n(21809),O=n(88443),z=n(21879);var P={name:"1neqb0a",styles:"display:flex;flex:1;justify-content:center;align-items:center"},B={name:"10zh1lj",styles:"display:flex;flex-direction:column;align-items:center;max-width:360px"},U={name:"yz1nei",styles:"margin-top:16px"},W={name:"18uqayh",styles:"margin-bottom:16px"};const j=e=>{let{onEdit:t}=e;return(0,C.Y)("div",{css:P,children:(0,C.FD)("div",{css:B,children:[(0,C.Y)(_,{}),(0,C.Y)(F.T.Title,{css:U,color:"secondary",level:3,children:"Compare parameter importance"}),(0,C.Y)(F.T.Text,{css:W,color:"secondary",children:"Use the parallel coordinates chart to compare how various parameters in model affect your model metrics."}),(0,C.Y)(F.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_cards_runscompareparallelchartcard.tsx_51",type:"primary",onClick:t,children:"Configure chart"})]})})};var V={name:"1neqb0a",styles:"display:flex;flex:1;justify-content:center;align-items:center"},G={name:"10zh1lj",styles:"display:flex;flex-direction:column;align-items:center;max-width:360px"},$={name:"1qxt18i",styles:"margin-top:16px;text-align:center"},X={name:"18uqayh",styles:"margin-bottom:16px"};const q=()=>(0,C.Y)("div",{css:V,children:(0,C.FD)("div",{css:G,children:[(0,C.Y)(_,{}),(0,C.Y)(F.T.Title,{css:$,color:"secondary",level:3,children:(0,C.Y)(O.A,{id:"glxGz2",defaultMessage:"Parallel coordinates chart does not support aggregated string values."})}),(0,C.Y)(F.T.Text,{css:X,color:"secondary",children:(0,C.Y)(O.A,{id:"QPC4hV",defaultMessage:"Use other parameters or disable run grouping to continue."})})]})}),J=e=>{let{config:t,chartRunData:n,onDelete:i,onEdit:s,onReorderWith:l,canMoveDown:c,canMoveUp:p,onMoveDown:h,onMoveUp:g,groupBy:f,fullScreen:v,setFullScreenChart:y}=e;const b=(0,z.e)(),M=(0,r.useMemo)((()=>!(0,o.M1)()||null!==t&&void 0!==t&&t.showAllRuns?n:null===n||void 0===n?void 0:n.filter((e=>{let{hidden:t}=e;return!t}))),[n,null===t||void 0===t?void 0:t.showAllRuns]),w=(0,r.useMemo)((()=>{var e;return null===(e=t.selectedParams)||void 0===e?void 0:e.some((e=>null===M||void 0===M?void 0:M.some((t=>{var n;return isNaN(Number(null===(n=t.params[e])||void 0===n?void 0:n.value))}))),[t.selectedParams,M])}),[t.selectedParams,M]),A=(0,r.useCallback)((e=>{b((n=>{var r;const i=null===(r=n.compareRunCharts)||void 0===r?void 0:r.map((n=>{if(n.uuid===t.uuid){return{...n,showAllRuns:e}}return n}));return{...n,compareRunCharts:i}}))}),[t.uuid,b]),[S,Y]=(0,r.useMemo)((()=>{var e,n;const r=((null===(e=t.selectedParams)||void 0===e?void 0:e.length)||0)+((null===(n=t.selectedMetrics)||void 0===n?void 0:n.length)||0)>=2;return[r,r?(0,N.fM)(M,t.selectedParams,t.selectedMetrics):[]]}),[t,M]),{elementRef:E,isInViewport:R}=(0,m.v)(),{setTooltip:D,resetTooltip:k,selectedRunUuid:T,closeContextMenu:I}=(0,d.uN)(t),L=w&&f,F=S&&!L,K=(0,o.M1)()?(0,C.Y)(C.FK,{children:t.showAllRuns?(0,C.Y)(O.A,{id:"oY+vPi",defaultMessage:"Showing all runs"}):(0,C.Y)(O.A,{id:"1hI96w",defaultMessage:"Showing only visible runs"})}):(0,C.FD)(C.FK,{children:["Comparing ",Y.length," runs"]}),H=(0,C.Y)(C.FK,{children:S?L?(0,C.Y)(q,{}):Y.length?(0,C.Y)("div",{css:[Z.parallelChartCardWrapper,{height:v?"100%":void 0},""],ref:E,children:R?(0,C.Y)(N.Ay,{data:Y,selectedParams:t.selectedParams,selectedMetrics:t.selectedMetrics,onHover:D,onUnhover:k,axesRotateThreshold:8,selectedRunUuid:T,closeContextMenu:I}):null}):null:(0,C.Y)(j,{onEdit:s})});return v?H:(0,C.Y)(u.Ox,{onEdit:s,onDelete:i,title:"Parallel Coordinates",subtitle:F?K:null,uuid:t.uuid,tooltip:"The Parallel Coordinates Chart now only shows runs with columns that are either numbers or strings. If a column has string entries, the runs corresponding to the 30 most recent unique values will be shown.",dragGroupKey:u.cN.PARALLEL_CHARTS_AREA,onReorderWith:l,canMoveDown:c,canMoveUp:p,onMoveDown:h,onMoveUp:g,toggleFullScreenChart:S&&!L?()=>{null===y||void 0===y||y({config:t,title:"Parallel Coordinates",subtitle:F?K:null})}:void 0,additionalMenuContent:(0,o.M1)()?(0,C.FD)(C.FK,{children:[(0,C.Y)(a.rId.Separator,{}),(0,C.FD)(a.rId.CheckboxItem,{checked:!t.showAllRuns,onClick:()=>A(!1),children:[(0,C.Y)(a.rId.ItemIndicator,{}),(0,C.Y)(O.A,{id:"d8I3cy",defaultMessage:"Show only visible"})]}),(0,C.FD)(a.rId.CheckboxItem,{checked:t.showAllRuns,onClick:()=>A(!0),children:[(0,C.Y)(a.rId.ItemIndicator,{}),(0,C.Y)(O.A,{id:"e7K2T3",defaultMessage:"Show all runs"})]})]}):null,supportedDownloadFormats:["csv"],onClickDownload:e=>{const n=[...t.selectedMetrics,...t.selectedParams].join("-");"csv"===e&&(0,x.LL)(M,t.selectedMetrics,t.selectedParams,n)},children:H})},Z={parallelChartCardWrapper:{display:"flex",overflow:"hidden",cursor:"pointer"}};var Q=n(89555),ee=n(2837),te=n(62758),ne=n(88464);var re={name:"1d3w5wq",styles:"width:100%"};const ie=e=>{let{config:t,chartRunData:n,onDelete:s,onEdit:a,onReorderWith:l,canMoveDown:c,canMoveUp:d,onMoveDown:p,onMoveUp:h,groupBy:m,fullScreen:g,setFullScreenChart:f}=e;const v=(0,r.useMemo)((()=>(0,o.M1)()?n.filter((e=>{let{hidden:t}=e;return!t})).reverse():n.slice(0,t.runsCountToCompare||10).reverse()),[n,t]),y=(0,te.Ez)(),x=(0,r.useCallback)((()=>{y({...t,showChangeFromBaseline:!t.showChangeFromBaseline})}),[t,y]),b=(0,r.useCallback)((()=>{y({...t,showDifferencesOnly:!t.showDifferencesOnly})}),[t,y]),{formatMessage:M}=(0,ne.A)(),w=(0,C.Y)("div",{css:(0,Q.AH)({display:"flex",overflow:"auto hidden",cursor:"pointer",height:g?"100%":void 0,width:"100%"},""),children:(0,C.Y)("div",{css:re,children:(0,C.Y)(ee.I,{previewData:v,groupBy:m,cardConfig:t,setCardConfig:e=>{y(e(t))}})})});let A;return m&&i.Nf.some((e=>t.compareGroups.includes(e)))&&(A=M({id:"csNr/8",defaultMessage:"Disable grouped runs to compare parameters, tag, or attributes"})),g?w:(0,C.Y)(u.Ox,{onEdit:a,onDelete:s,title:t.chartName,subtitle:(0,C.Y)(u.xC,{runsOrGroups:v}),uuid:t.uuid,dragGroupKey:u.cN.GENERAL_AREA,onReorderWith:l,canMoveDown:c,canMoveUp:d,onMoveDown:p,onMoveUp:h,toggleFullScreenChart:()=>{null===f||void 0===f||f({config:t,title:t.chartName,subtitle:(0,C.Y)(u.xC,{runsOrGroups:n})})},toggles:[{toggleLabel:M({id:"4tpkvx",defaultMessage:"Show change from baseline"}),currentToggle:t.showChangeFromBaseline,setToggle:x},{toggleLabel:M({id:"e7GTKi",defaultMessage:"Show differences only"}),currentToggle:t.showDifferencesOnly,setToggle:b}],tooltip:A,children:w})};var oe=n(34389),se=n(99061),ae=n(25866),le=n(20193);var ce={name:"lee4ct",styles:"width:350px"};const de=e=>{let{config:t,chartRunData:n,onDelete:i,onEdit:s,onReorderWith:a,canMoveDown:l,canMoveUp:c,onMoveDown:d,onMoveUp:p,groupBy:h,fullScreen:m,setFullScreenChart:g}=e;const{theme:f}=(0,F.u)(),v=(0,r.useRef)(null),[y,x]=(0,r.useState)(0);(0,r.useEffect)((()=>{const e=new ResizeObserver((e=>{x(e[0].contentRect.width)}));return v.current&&e.observe(v.current),()=>{e.disconnect()}}),[v]);const[b,M]=(0,r.useState)(t),w=(0,te.Ez)(),A=(0,r.useCallback)((e=>{w({...t,step:e})}),[t,w]),S=1===t.imageKeys.length?t.imageKeys[0]:ae._g,Y=(0,r.useMemo)((()=>(0,o.M1)()?n.filter((e=>{let{hidden:t}=e;return!t})).reverse():n.slice(0,t.runsCountToCompare||10).reverse()),[n,t]),{stepMarks:E,maxMark:R,minMark:D}=(0,se._)({data:Y,selectedImageKeys:t.imageKeys||[]}),k=Object.keys(E).length;(0,r.useEffect)((()=>{1===k&&b.step!==D&&A(D)}),[D,k,b.step,A]);const T=Y.filter((e=>e.tags[ae.Cr])).length>ae.Lf,I=(0,C.FD)("div",{css:(0,Q.AH)({display:"flex",flexDirection:"column",height:m?"100%":void 0,width:"100%",overflow:"auto"},""),children:[(0,C.Y)("div",{ref:v,css:(0,Q.AH)({cursor:"pointer",height:`calc(100% - ${2*f.spacing.md}px)`,overflow:"auto"},""),children:(0,C.Y)(oe.f,{previewData:Y,groupBy:h,cardConfig:b,setCardConfig:e=>{w(e(t))},containerWidth:y})}),(0,C.Y)("div",{css:(0,Q.AH)({justifyContent:"center",alignItems:"center",display:"inline-flex",gap:f.spacing.md},""),children:(0,C.Y)("div",{css:ce,children:(0,C.Y)(le.o,{defaultValue:b.step,onChange:e=>{M((t=>({...t,step:e})))},max:R,min:D,marks:E,step:null,disabled:Object.keys(E).length<=1,onAfterChange:A})})})]});return m?I:(0,C.Y)(u.Ox,{onEdit:s,onDelete:i,title:S,subtitle:T&&`Displaying images from first ${ae.Lf} runs`,uuid:t.uuid,dragGroupKey:u.cN.GENERAL_AREA,onReorderWith:a,canMoveDown:l,canMoveUp:c,onMoveDown:d,onMoveUp:p,toggleFullScreenChart:()=>{null===g||void 0===g||g({config:t,title:S,subtitle:(0,C.Y)(u.xC,{runsOrGroups:n})})},children:I})},ue=e=>{let{cardConfig:t,chartRunData:n,index:a,sectionIndex:l,onStartEditChart:c,onRemoveChart:d,setFullScreenChart:u,groupBy:p,fullScreen:h,canMoveDown:m,canMoveUp:g,onMoveDown:f,onMoveUp:v,onReorderWith:y,autoRefreshEnabled:x,onDownloadFullMetricHistoryCsv:b}=e;const w={fullScreen:h,key:`${t.uuid}-${a}-${l}`,autoRefreshEnabled:x,groupBy:p,...{onEdit:()=>c(t),onDelete:()=>d(t),setFullScreenChart:u},...{onReorderWith:y,canMoveDown:m,canMoveUp:g,onMoveDown:f,onMoveUp:v}},A=(0,r.useMemo)((()=>(0,o.M1)()?n.filter((e=>{let{hidden:t}=e;return!t})).reverse():n.slice(0,t.runsCountToCompare||10).reverse()),[n,t]);return t.type===i.zL.PARALLEL?(0,C.Y)(J,{config:t,chartRunData:n,...w}):(0,o.uP)()&&t.type===i.zL.DIFFERENCE?(0,C.Y)(ie,{config:t,chartRunData:n,...w}):(0,o.HW)()&&t.type===i.zL.IMAGE?(0,C.Y)(de,{config:t,chartRunData:n,...w}):t.type===i.zL.BAR?(0,C.Y)(s.X,{config:t,chartRunData:A,...w}):t.type===i.zL.LINE?(0,C.Y)(M,{config:t,chartRunData:A,onDownloadFullMetricHistoryCsv:b,...w}):t.type===i.zL.SCATTER?(0,C.Y)(S,{config:t,chartRunData:A,...w}):t.type===i.zL.CONTOUR?(0,C.Y)(R,{config:t,chartRunData:A,...w}):null}},2837:function(e,t,n){"use strict";n.d(t,{I:function(){return A}});var r=n(89555),i=n(30152),o=n(31014),s=n(70618),a=n(9856),l=n(67727),c=n(49409),d=n(79432),u=n(88464),p=n(88443),h=n(25866),m=n(76010);const g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"number"===typeof e?e.toFixed(t):e},f=(e,t)=>{if("string"!==typeof e&&"string"!==typeof t){const n=e-t;return n>=0?`+${g(n)}`:g(n).toString()}},v=(e,t)=>"-"!==e&&"-"!==t&&(typeof e!==typeof t||("number"===typeof e&&"number"===typeof t?Math.abs(e-t)>1e-6:"string"===typeof e&&"string"===typeof t&&e!==t));var y=n(50111);const x="headingColumn";var C={name:"4c6dm7",styles:"display:flex;flex-direction:row;justify-content:space-between"},b={name:"ti75j2",styles:"margin:0"},M={name:"4c6dm7",styles:"display:flex;flex-direction:row;justify-content:space-between"},w={name:"1iwgvlm",styles:"flex-shrink:1;flex-grow:1;overflow:hidden"};const A=e=>{let{previewData:t,cardConfig:n,groupBy:A,setCardConfig:S}=e;const{formatMessage:Y}=(0,u.A)(),{theme:E}=(0,l.u)(),{modelMetrics:R,systemMetrics:D,parameters:k,tags:T,attributes:I}=(0,o.useMemo)((()=>((e,t,n,r)=>{const o=(r,i,o)=>Array.from(new Set(e.flatMap((e=>i(e))))).filter((e=>r(e))).sort().flatMap((r=>{const i={};let s=!1;return e.forEach(((t,n)=>{if(i[t.uuid]=o(t)[r]?o(t)[r].value:"-",n>0){const r=e[n-1];v(i[r.uuid],i[t.uuid])&&(s=!0)}})),t.showDifferencesOnly&&!s?[]:[{[n]:r,...i}]})),s=o((e=>!e.startsWith(h.qt)),(e=>Object.keys(e.metrics)),(e=>e.metrics)),a=o((e=>e.startsWith(h.qt)),(e=>Object.keys(e.metrics)),(e=>e.metrics));return r?{modelMetrics:s,systemMetrics:a,parameters:[],tags:[],attributes:[]}:{modelMetrics:s,systemMetrics:a,parameters:o((()=>!0),(e=>Object.keys(e.params)),(e=>e.params)),tags:o((()=>!0),(e=>m.A.getVisibleTagValues(e.tags).map((e=>{let[t]=e;return t}))),(e=>e.tags)),attributes:[i.rJ.USER,i.rJ.SOURCE,i.rJ.VERSION,i.rJ.MODELS].flatMap((r=>{const o={};let s=!1;return e.forEach(((t,n)=>{if(r===i.rJ.USER){const e=m.A.getUser(t.runInfo,t.tags);o[t.uuid]=e}else if(r===i.rJ.SOURCE){const e=m.A.getSourceName(t.tags);o[t.uuid]=e}else if(r===i.rJ.VERSION){const e=m.A.getSourceVersion(t.tags);o[t.uuid]=e}else{const e=m.A.getLoggedModelsFromTags(t.tags);o[t.uuid]=e.join(",")}if(n>0){const r=e[n-1];v(o[r.uuid],o[t.uuid])&&(s=!0)}})),t.showDifferencesOnly&&!s?[]:[{[n]:r,...o}]}))}})(t,n,x,A)),[t,n,A]),L=[...n.compareGroups.includes(i.K8.MODEL_METRICS)?R:[],...n.compareGroups.includes(i.K8.SYSTEM_METRICS)?D:[],...n.compareGroups.includes(i.K8.PARAMETERS)?k:[],...n.compareGroups.includes(i.K8.ATTRIBUTES)?I:[],...n.compareGroups.includes(i.K8.TAGS)?T:[]],{baselineColumn:F,nonBaselineColumns:K}=(0,o.useMemo)((()=>{let e=t.find((e=>e.uuid===n.baselineColumnUuid));void 0===e&&t.length>0&&(e=t[0]);const r=t.filter((t=>void 0===e||t.uuid!==e.uuid));return{baselineColumn:e,nonBaselineColumns:r}}),[t,n.baselineColumnUuid]),H=(0,o.useMemo)((()=>{const e=(e,t)=>{const i=t=>t[e.uuid];return t?{id:e.uuid,header:()=>(0,y.Y)("span",{css:C,children:(0,y.FD)("span",{css:(0,r.AH)({display:"inline-flex",gap:E.spacing.sm,alignItems:"center"},""),children:[(0,y.Y)(d.E,{color:e.color}),e.displayName,(0,y.Y)(c.vwO,{css:b,children:(0,y.Y)(p.A,{id:"Mm7PVx",defaultMessage:"baseline"})})]})}),size:200,accessorFn:i,cell:e=>(0,y.Y)("span",{children:g(e.getValue())})}:{id:e.uuid,header:()=>(0,y.Y)("span",{css:M,children:(0,y.FD)("span",{css:(0,r.AH)({display:"inline-flex",gap:E.spacing.sm,alignItems:"center"},""),children:[(0,y.Y)(d.E,{color:e.color}),e.displayName]})}),size:200,accessorFn:t=>({text:t[e.uuid],difference:F?f(t[e.uuid],t[F.uuid]):null}),cell:e=>(0,y.FD)("span",{css:(0,r.AH)({display:"inline-flex",gap:E.spacing.md,verticalAlign:"middle"},""),children:[(0,y.Y)(l.T.Text,{children:g(e.getValue().text)}),F&&n.showChangeFromBaseline&&e.getValue().difference&&("-"===e.getValue().difference[0]?(0,y.FD)("div",{css:(0,r.AH)({display:"inline-flex",gap:E.spacing.xs},""),children:[(0,y.Y)(l.T.Paragraph,{color:"error",children:e.getValue().difference}),(0,y.Y)(c.ZLN,{color:"danger"})]}):(0,y.FD)("div",{css:(0,r.AH)({display:"inline-flex",gap:E.spacing.xs},""),children:[(0,y.Y)(l.T.Paragraph,{color:"success",children:e.getValue().difference}),(0,y.Y)(c.Kpk,{color:"success"})]}))]})}};return[{id:x,header:Y({id:"c5AQYh",defaultMessage:"Compare by"}),accessorKey:x,size:200},...F?[e(F,!0)]:[],...K.map((t=>e(t,!1)))]}),[E.spacing,Y,F,K,n.showChangeFromBaseline]),_=(0,s.N4)({data:L,columns:H,enableColumnResizing:!0,columnResizeMode:"onChange",getCoreRowModel:(0,a.HT)()}),N=(0,o.useCallback)((e=>{S&&S((t=>({...t,baselineColumnUuid:e})))}),[S]);return 0===t.length?null:(0,y.FD)(c.XIK,{style:{width:_.getTotalSize()},scrollable:!0,children:[_.getHeaderGroups().map((e=>(0,y.Y)(c.Hjg,{isHeader:!0,children:e.headers.map(((e,t)=>(0,y.Y)(c.A0N,{style:{maxWidth:e.column.getSize()},resizable:e.column.getCanResize(),resizeHandler:e.getResizeHandler(),children:(0,y.FD)("div",{css:(0,r.AH)({display:"flex",flexDirection:"row",gap:E.spacing.xs,alignItems:"center"},""),children:[(0,y.Y)("div",{css:w,children:(0,s.Kv)(e.column.columnDef.header,e.getContext())}),0!==t&&S&&(0,y.Y)("div",{children:(0,y.FD)(c.rId.Root,{children:[(0,y.Y)(c.rId.Trigger,{asChild:!0,children:(0,y.Y)(l.B,{componentId:"set_as_baseline_button",icon:(0,y.Y)(c.ssM,{})})}),(0,y.Y)(c.rId.Content,{children:(0,y.Y)(c.rId.Item,{onClick:()=>N(e.id),children:(0,y.Y)(p.A,{id:"s0233x",defaultMessage:"Set as baseline"})})})]})})]})},e.id)))},e.id))),_.getRowModel().rows.map((e=>(0,y.Y)(c.Hjg,{children:e.getAllCells().map((e=>(0,y.Y)(c.nA6,{style:{maxWidth:e.column.getSize()},multiline:!0,children:(0,s.Kv)(e.column.columnDef.cell,e.getContext())},e.id)))},e.id)))]})}},54421:function(e,t,n){"use strict";n.d(t,{Rn:function(){return m},TV:function(){return h},hZ:function(){return u},mQ:function(){return y},pG:function(){return p}});var r=n(89555),i=n(49409),o=n(67727),s=n(88443),a=n(77484),l=n(31014),c=n(8875),d=n(50111);const u=10,p=(e,t)=>{const n=Math.floor(t/120);return e<n?Math.min(t/e-u,225):t/n-u},h=e=>{let{imageUrl:t,compressedImageUrl:n,imageSize:s,maxImageSize:a}=e;const[u,p]=(0,l.useState)(!1),{theme:h}=(0,o.u)();return(0,d.Y)("div",{css:(0,r.AH)({width:s,height:s||"100%"},""),children:(0,d.Y)("div",{css:(0,r.AH)({height:s||"100%"},""),children:void 0===n?(0,d.Y)(i.xUE,{label:"Loading...",css:(0,r.AH)({height:s,width:s},"")}):(0,d.Y)("div",{css:(0,r.AH)({display:"flex",alignItems:"center",justifyContent:"center",width:s||"100%",height:s||"100%",maxWidth:a,maxHeight:a,backgroundColor:h.colors.backgroundSecondary,"& .ant-image":{height:"100%",display:"flex",alignItems:"center"}},""),children:(0,d.Y)(c.b,{visible:u,onVisibleChange:p,children:(0,d.Y)(c._,{src:n,preview:{src:t},style:{maxWidth:a||"100%",maxHeight:a||"100%"}})})})})})},m=e=>{let{metadataByStep:t,imageSize:n,step:l,runUuid:c}=e;const{theme:u}=(0,o.u)();return void 0===t[l]?(0,d.FD)("div",{css:(0,r.AH)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",width:n,height:n,backgroundColor:u.colors.backgroundSecondary,padding:u.spacing.md},""),children:[(0,d.Y)(i.xfq,{}),(0,d.Y)(s.A,{id:"0XZ2zu",defaultMessage:"No image logged at this step"})]}):(0,d.Y)(h,{imageUrl:(0,a.To)(t[l].filepath,c),compressedImageUrl:(0,a.To)(t[l].compressed_filepath,c),imageSize:n})};var g={name:"1pf7ok1",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;width:100%;font-size:16px"},f={name:"yz1nei",styles:"margin-top:16px"},v={name:"18uqayh",styles:"margin-bottom:16px"};const y=()=>(0,d.FD)("div",{css:g,children:[(0,d.Y)(o.T.Title,{css:f,color:"secondary",level:3,children:"Compare logged images"}),(0,d.Y)(o.T.Text,{css:v,color:"secondary",children:"Use the image grid chart to compare logged images across runs."})]})},34389:function(e,t,n){"use strict";n.d(t,{f:function(){return f}});var r=n(89555),i=n(67727),o=n(49409),s=n(79432),a=n(31014),l=n(54421),c=n(50111);var d={name:"cxqpnm",styles:"display:flex;justify-content:flex-start;flex-wrap:wrap"};const u=e=>{let{previewData:t,cardConfig:n,width:u}=e;const{theme:p}=(0,i.u)(),h=t.filter((e=>{const t=e.images[n.imageKeys[0]];return t&&Object.keys(t).length>0})),m=(0,a.useMemo)((()=>(0,l.pG)(h.length,u)),[h,u]);return 0===h.length?(0,c.Y)(l.mQ,{}):(0,c.Y)("div",{css:d,children:h.map((e=>{const t=Object.values(e.images[n.imageKeys[0]]).reduce(((e,t)=>(void 0!==t.step&&(e[t.step]=t),e)),{});return(0,c.FD)("div",{css:(0,r.AH)({padding:l.hZ/2+"px"},""),children:[(0,c.Y)(o.m_M,{title:e.displayName,children:(0,c.FD)("div",{css:(0,r.AH)({width:m,height:p.typography.lineHeightMd,overflow:"hidden",whiteSpace:"nowrap",display:"inline-flex",alignItems:"center",gap:p.spacing.sm},""),children:[(0,c.Y)(s.E,{color:e.color}),e.displayName]})}),(0,c.Y)(l.Rn,{step:n.step,metadataByStep:t,imageSize:m,runUuid:e.uuid},e.uuid)]},e.uuid)}))})};var p=n(88443);var h={name:"1kzq5ms",styles:"height:100%;width:100%"};const m=e=>{let{previewData:t,cardConfig:n,width:d}=e;const{theme:u}=(0,i.u)(),m=t.filter((e=>0!==Object.keys(e.images).length)),g=(0,a.useMemo)((()=>(0,l.pG)(m.length,d)),[m,d]);return 0===m.length?(0,c.Y)(l.mQ,{}):(0,c.Y)("div",{css:h,children:(0,c.FD)(o.XIK,{grid:!0,scrollable:!0,children:[(0,c.FD)(o.Hjg,{isHeader:!0,children:[(0,c.Y)(o.A0N,{css:(0,r.AH)({minWidth:g+u.spacing.md},""),children:(0,c.Y)(p.A,{id:"IdxSB8",defaultMessage:"images"})}),m.map((e=>(0,c.Y)(o.A0N,{css:(0,r.AH)({minWidth:g+u.spacing.md},""),children:(0,c.Y)(o.m_M,{title:e.displayName,children:(0,c.FD)("div",{css:(0,r.AH)({height:u.typography.lineHeightMd,whiteSpace:"nowrap",display:"inline-flex",alignItems:"center",margin:"auto",gap:u.spacing.sm},""),children:[(0,c.Y)(s.E,{color:e.color}),e.displayName]})})},e.uuid)))]}),n.imageKeys.map((e=>(0,c.FD)(o.Hjg,{children:[(0,c.Y)(o.nA6,{css:(0,r.AH)({minWidth:g+u.spacing.md},""),children:(0,c.Y)("div",{style:{whiteSpace:"normal"},children:e})}),m.map((t=>{if(t.images[e]&&Object.keys(t.images[e]).length>0){const i=Object.values(t.images[e]).reduce(((e,t)=>(void 0!==t.step&&(e[t.step]=t),e)),{});return(0,c.Y)(o.nA6,{css:(0,r.AH)({minWidth:g+u.spacing.md},""),children:(0,c.Y)(l.Rn,{metadataByStep:i,imageSize:g,step:n.step,runUuid:t.uuid})},t.uuid)}return(0,c.Y)(o.nA6,{css:(0,r.AH)({minWidth:g+u.spacing.md},"")},t.uuid)}))]},e)))]})})};var g=n(25866);const f=e=>{let{previewData:t,cardConfig:n,groupBy:r,setCardConfig:i,containerWidth:o}=e;const s=t.filter((e=>e.tags[g.Cr])).slice(-g.Lf);return 1===n.imageKeys.length?(0,c.Y)(u,{previewData:s,cardConfig:n,width:o}):n.imageKeys.length>1?(0,c.Y)(m,{previewData:s,cardConfig:n,width:o}):null}},21809:function(e,t,n){"use strict";n.d(t,{fM:function(){return l}});var r=n(49409),i=n(31014),o=n(50111);const s=i.lazy((()=>Promise.all([n.e(735),n.e(762)]).then(n.bind(n,70495)))),a=30;function l(e,t,n){return function(e){if(0===e.length)return e;const t=Object.keys(e[0]);t.shift();let n=e;return t.forEach((e=>{const t=n.filter((t=>!isNaN(Number(t[e]))&&null!==t[e]));if(t.length>=n.length/2)return void(n=t);const r=new Set,i=[];for(const o of n){const t=o[e];r.size===a&&r.has(String(t))?i.push(o):r.size<a&&isNaN(Number(t))&&(r.add(String(t)),i.push(o))}n=i})),n}(e.map((e=>{const r={uuid:e.uuid};function i(e,t){if(Array.isArray(e))for(const n of e)r[n]=n in t?t[n].value:null}return i(t,e.params),i(n,e.metrics),r})))}t.Ay=e=>(0,o.Y)(i.Suspense,{fallback:(0,o.Y)(r.PLz,{}),children:(0,o.Y)(s,{...e})})},83128:function(e,t,n){"use strict";n.d(t,{J:function(){return H}});var r=n(89555),i=n(49409),o=n(30152),s=n(67727),a=n(31014),l=n(50111);var c=e=>{let{activeKey:t,onActiveKeyChange:n,children:o,disableCollapse:c=!1}=e;const{theme:d,getPrefixedClassName:u}=(0,s.u)(),p=u("collapse"),h=(0,a.useMemo)((()=>{const e=`.${p}-item`,t=`${e}-active`,n=`.${p}-header`,r=`.${p}-content`,i=`.${p}-content-box`,o=`.${p}-arrow`;return{[r]:{padding:"0px !important",backgroundColor:"transparent !important"},[i]:{padding:"0 0 12px 0px !important",backgroundColor:"transparent !important"},[`& > ${e} > ${n} > ${o}`]:{fontSize:d.general.iconSize,left:12,verticalAlign:"-7px",transform:"rotate(-90deg)",display:c?"none":void 0},[`& > ${t} > ${n} > ${o}`]:{transform:"rotate(0deg)"},[n]:{display:"flex",color:d.colors.textPrimary,fontWeight:600,alignItems:"center","&:focus-visible":{outlineColor:`${d.colors.primary} !important`,outlineStyle:"auto !important"}},[`& > ${e}`]:{borderBottom:`1px solid ${d.colors.border}`,borderRadius:0},[`& > ${e} > ${n}`]:{padding:0,lineHeight:"20px",height:55}}}),[d,p,c]);return(0,l.Y)(i.nD3,{...t?{activeKey:t}:{},...n?{onChange:n}:{},dangerouslyAppendEmotionCSS:(0,r.AH)(h,""),dangerouslySetAntdProps:{expandIconPosition:"left"},children:o})},d=n(91167),u=n(59525),p=n(77198),h=n(6211),m=n(73549),g=n(43270),f=n(74035),v=n(32582),y=n(99790),x=n(91144),C=n(88443);const b=e=>{let{onAddChart:t,supportedChartTypes:n}=e;const r=e=>!n||n.includes(e);return(0,l.FD)(i.rId.Root,{modal:!1,children:[(0,l.Y)(i.rId.Trigger,{asChild:!0,children:(0,l.Y)(s.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_runscompareaddchartmenu.tsx_19",css:M.addChartButton,icon:(0,l.Y)(u.P,{}),"data-testid":"experiment-view-compare-runs-add-chart",children:(0,l.Y)(C.A,{id:"9vwPnB",defaultMessage:"Add chart"})})}),(0,l.FD)(i.rId.Content,{align:"end",children:[r(o.zL.BAR)&&(0,l.FD)(i.rId.Item,{onClick:()=>t(o.zL.BAR),"data-testid":"experiment-view-compare-runs-chart-type-bar",children:[(0,l.Y)(i.rId.IconWrapper,{css:M.iconWrapper,children:(0,l.Y)(p.h,{})}),(0,l.Y)(C.A,{id:"gdK07H",defaultMessage:"Bar chart"})]}),r(o.zL.LINE)&&(0,l.FD)(i.rId.Item,{onClick:()=>t(o.zL.LINE),"data-testid":"experiment-view-compare-runs-chart-type-line",children:[(0,l.Y)(i.rId.IconWrapper,{css:M.iconWrapper,children:(0,l.Y)(m.h,{})}),(0,l.Y)(C.A,{id:"CyTYL6",defaultMessage:"Line chart"})]}),r(o.zL.PARALLEL)&&(0,l.FD)(i.rId.Item,{onClick:()=>t(o.zL.PARALLEL),"data-testid":"experiment-view-compare-runs-chart-type-parallel",children:[(0,l.Y)(i.rId.IconWrapper,{css:M.iconWrapper,children:(0,l.Y)(g.h,{})}),(0,l.Y)(C.A,{id:"FC9mcS",defaultMessage:"Parallel coordinates"})]}),r(o.zL.SCATTER)&&(0,l.FD)(i.rId.Item,{onClick:()=>t(o.zL.SCATTER),"data-testid":"experiment-view-compare-runs-chart-type-scatter",children:[(0,l.Y)(i.rId.IconWrapper,{css:M.iconWrapper,children:(0,l.Y)(f.h,{})}),(0,l.Y)(C.A,{id:"Q0i5xG",defaultMessage:"Scatter chart"})]}),r(o.zL.CONTOUR)&&(0,l.FD)(i.rId.Item,{onClick:()=>t(o.zL.CONTOUR),"data-testid":"experiment-view-compare-runs-chart-type-contour",children:[(0,l.Y)(i.rId.IconWrapper,{css:M.iconWrapper,children:(0,l.Y)(h.h,{})}),(0,l.Y)(C.A,{id:"6XfILf",defaultMessage:"Contour chart"})]}),(0,x.uP)()&&r(o.zL.DIFFERENCE)&&(0,l.FD)(i.rId.Item,{onClick:()=>t(o.zL.DIFFERENCE),"data-testid":"experiment-view-compare-runs-chart-type-difference",children:[(0,l.Y)(i.rId.IconWrapper,{css:M.iconWrapper,children:(0,l.Y)(v.h,{})}),(0,l.Y)(C.A,{id:"G5mMJI",defaultMessage:"Difference view"})]}),(0,x.HW)()&&r(o.zL.IMAGE)&&(0,l.FD)(i.rId.Item,{onClick:()=>t(o.zL.IMAGE),"data-testid":"experiment-view-compare-runs-chart-type-image",children:[(0,l.Y)(i.rId.IconWrapper,{css:M.iconWrapper,children:(0,l.Y)(y.h,{})}),(0,l.Y)(C.A,{id:"5m2VPy",defaultMessage:"Image grid"})]})]})]})},M={addChartButton:e=>({backgroundColor:`${e.colors.backgroundPrimary} !important`}),iconWrapper:e=>({width:e.general.iconSize+e.spacing.xs})};var w=n(90765),A=n(45959),S=n.n(A);var Y={name:"5s5off",styles:"position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);cursor:grab"};const E=e=>{let{index:t,section:n,sectionChartsLength:o,addNewChartCard:c,onDeleteSection:u,onAddSection:p,editSection:h,onSetEditSection:m,onSetSectionName:g,onSectionReorder:f,isExpanded:v,supportedChartTypes:y}=e;const{theme:x}=(0,s.u)(),[M,A]=(0,a.useState)(n.name),[E,R]=(0,a.useState)(!1),D=(0,a.useRef)(null),k=(0,a.useRef)(null),[T,I]=(0,a.useState)(0),[L,F]=(0,a.useState)(!1),K=e=>{e.stopPropagation()},H=e=>{e.stopPropagation(),M.trim()?(m(-1),g(n.uuid,M)):e.preventDefault()};(0,a.useEffect)((()=>{if(!D.current)return;const e=new ResizeObserver((e=>{let[t]=e;I(t.contentRect.width)}));return e.observe(D.current),()=>e.disconnect()}),[]);const _=h===t,[N,O]=(0,a.useState)(!1),{dragHandleRef:z,dragPreviewRef:P,dropTargetRef:B,isOver:U,isDragging:W}=(0,w.S)({dragGroupKey:"sections",dragKey:n.uuid,onDrop:f});return(0,l.Y)(l.FK,{children:(0,l.FD)("div",{role:"figure",css:(0,r.AH)({display:"flex",alignItems:"center",width:"100%",padding:`${x.spacing.xs}px 0px`,height:"55px",".section-element-visibility-on-hover":{visibility:N?"visible":"hidden",opacity:N?1:0},".section-element-visibility-on-hover-and-not-drag":{visibility:N?"visible":"hidden",opacity:N?E?0:1:0},".section-element-hidden-on-edit":{display:_?"none":"inherit"}},""),onMouseMove:()=>O(!0),onMouseLeave:()=>O(!1),ref:e=>{null===B||void 0===B||B(e),null===P||void 0===P||P(e)},"data-testid":"experiment-view-compare-runs-section-header",children:[U&&(0,l.Y)("div",{css:(0,r.AH)({position:"absolute",inset:0,backgroundColor:x.isDarkMode?x.colors.blue800:x.colors.blue100,border:`2px dashed ${x.colors.blue400}`,opacity:.75},"")}),(0,l.FD)("div",{style:{maxWidth:"40%",display:"flex",alignItems:"center"},children:[(0,l.Y)("div",{ref:D,style:{position:_?"absolute":"relative",visibility:_?"hidden":"visible",textOverflow:_?void 0:"ellipsis",maxWidth:"100%",overflow:"clip",paddingLeft:7,whiteSpace:"pre"},children:M}),h===t&&(0,l.Y)(i.pde,{autoFocus:!0,onClick:K,onMouseDown:K,onMouseUp:K,onDoubleClick:K,onChange:e=>{A(e.target.value)},value:M,css:(0,r.AH)({color:x.colors.textPrimary,fontWeight:600,padding:"1px 6px 1px 6px",background:x.colors.backgroundSecondary,minWidth:"50px",width:T+14,position:"relative",lineHeight:x.typography.lineHeightBase,maxWidth:"100%"},""),onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),m(-1),A(n.name))},onPressEnter:H,dangerouslyAppendEmotionCSS:{"&&":{minHeight:"20px !important"}},onBlur:e=>{e.relatedTarget!==k.current&&(m(-1),g(n.uuid,M))}}),(0,l.Y)("div",{css:(0,r.AH)({padding:x.spacing.xs,position:"relative"},""),style:{visibility:_?"hidden":"visible",display:_?"none":"inherit"},children:`(${o})`}),(0,l.Y)("div",{className:"section-element-visibility-on-hover-and-not-drag section-element-hidden-on-edit",children:(0,l.Y)(s.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_sections_runscomparesectionheader.tsx_246",onClick:e=>{e.stopPropagation(),m(t)},"aria-label":"Icon label",icon:(0,l.Y)(i.R2l,{})})})]}),h===t&&(0,l.Y)("div",{style:{padding:`0 ${x.spacing.xs}px`},children:(0,l.Y)(s.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_sections_runscomparesectionheader.tsx_251",onClick:H,icon:(0,l.Y)(s.n,{}),ref:k})}),(0,l.Y)("div",{className:"section-element-visibility-on-hover section-element-hidden-on-edit",css:Y,children:(0,l.Y)(i.WP0,{rotate:90,style:{color:x.colors.textSecondary},ref:z,onMouseDown:()=>R(!0),onMouseLeave:()=>{R(!1)},"data-testid":"experiment-view-compare-runs-section-header-drag-handle"})}),(0,l.FD)("div",{style:{position:"absolute",top:"50%",right:"0",transform:"translate(0, -50%)",display:"flex",alignItems:"center"},children:[(0,l.FD)("div",{onClick:K,onMouseDown:K,onMouseUp:K,onDoubleClick:K,className:"section-element-visibility-on-hover-and-not-drag section-element-hidden-on-edit",children:[(0,l.FD)(i.rId.Root,{modal:!1,children:[(0,l.Y)(i.rId.Trigger,{asChild:!0,children:(0,l.Y)(s.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_sections_runscomparesectionheader.tsx_288",icon:(0,l.Y)(i.ssM,{})})}),(0,l.FD)(i.rId.Content,{children:[(0,l.Y)(i.rId.Item,{onClick:()=>{p(n.uuid,!0)},children:(0,l.Y)(C.A,{id:"CevPsF",defaultMessage:"Add section above"})}),(0,l.Y)(i.rId.Item,{onClick:()=>{p(n.uuid,!1)},children:(0,l.Y)(C.A,{id:"aaKoNq",defaultMessage:"Add section below"})}),(0,l.Y)(i.rId.Item,{onClick:()=>{F(!0)},children:(0,l.Y)(C.A,{id:"8XrJnT",defaultMessage:"Delete section"})})]})]}),(0,l.Y)(d.D,{visible:L,onOk:()=>{u(n.uuid)},onCancel:()=>{F(!1)},title:"Delete section",children:(0,l.Y)(C.A,{id:"TPspzA",defaultMessage:"Deleting the section will permanently remove it and the charts it contains. This cannot be undone."})})]}),(0,l.Y)("div",{onClick:K,onMouseDown:K,onMouseUp:K,onDoubleClick:K,className:S()({"section-element-visibility-on-hover-and-not-drag":!v},"section-element-hidden-on-edit"),css:(0,r.AH)({alignSelf:"flex-end",marginLeft:x.spacing.xs},""),children:(0,l.Y)(b,{onAddChart:c(n.uuid),supportedChartTypes:y})})]})]})})};var R=n(915),D=n(6922),k=n(76350);const T=e=>{let{sectionId:t,chartRunData:n,cardsConfig:c,isMetricHistoryLoading:d,onRemoveChart:u,onStartEditChart:p,onReorderCharts:h,onInsertCharts:m,groupBy:g,sectionIndex:f,setFullScreenChart:v,autoRefreshEnabled:y}=e;const{theme:x}=(0,s.u)(),[b,M,A,S]=(0,a.useMemo)((()=>Array.isArray(c)?[c.filter((e=>e.type===o.zL.PARALLEL)),c.filter((e=>e.type===o.zL.DIFFERENCE)),c.filter((e=>e.type===o.zL.IMAGE)),c.filter((e=>e.type!==o.zL.PARALLEL&&e.type!==o.zL.DIFFERENCE&&e.type!==o.zL.IMAGE))]:[[],[],[],[]]),[c]),Y=(0,a.useMemo)((()=>(0,R.A)({maxColumns:3,gap:x.spacing.md,additionalBreakpoints:[{breakpointWidth:2160,minColumnWidthForBreakpoint:600}]})),[x]),{dropTargetRef:E,isOver:T}=(0,w.S)({dragGroupKey:D.cN.GENERAL_AREA,dragKey:t,onDrop:m}),{dropTargetRef:I,isOver:L}=(0,w.S)({dragGroupKey:D.cN.PARALLEL_CHARTS_AREA,dragKey:t,onDrop:m}),F=!b.length&&!M.length&&!A.length&&!S.length;return(0,l.FD)("div",{role:"figure",ref:e=>{null===E||void 0===E||E(e),null===I||void 0===I||I(e)},css:(0,r.AH)({padding:0===c.length?x.spacing.lg:0,position:"relative",overflow:"hidden"},""),children:[(T||L)&&0===c.length&&(0,l.Y)("div",{css:(0,r.AH)({position:"absolute",inset:0,backgroundColor:x.isDarkMode?x.colors.blue800:x.colors.blue100,border:`2px dashed ${x.colors.blue400}`,opacity:.75},"")}),F&&(0,l.Y)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,l.Y)(i.SvL,{title:(0,l.Y)(C.A,{id:"9TOU1G",defaultMessage:"No charts in this section"}),description:(0,l.Y)(C.A,{id:"9wWapn",defaultMessage:"Click 'Add chart' or drag and drop to add charts here."})})}),[M,b,A].map(((e,t)=>e.length?(0,l.Y)("div",{css:(0,r.AH)({display:"flex",flexDirection:"column",gap:x.spacing.md,marginBottom:x.spacing.md},""),children:e.map(((t,r)=>{const i={onReorderWith:h,canMoveDown:r<e.length-1,canMoveUp:r>0,onMoveDown:()=>{var n;return h(t.uuid||"",(null===(n=e[r+1])||void 0===n?void 0:n.uuid)||"")},onMoveUp:()=>{var n;return h(t.uuid||"",(null===(n=e[r-1])||void 0===n?void 0:n.uuid)||"")}};return(0,l.Y)(k.i,{cardConfig:t,chartRunData:n,onStartEditChart:p,onRemoveChart:u,setFullScreenChart:v,onReorderCharts:h,index:r,sectionIndex:f,groupBy:g,autoRefreshEnabled:y,...i},`${t.uuid}-${r}-${f}`)}))},`chart-cards-${t}`):null)),(0,l.Y)("div",{css:Y,children:S.map(((e,t)=>{const r={onReorderWith:h,canMoveDown:t<S.length-1,canMoveUp:t>0,onMoveDown:()=>{var n;return h(e.uuid||"",(null===(n=S[t+1])||void 0===n?void 0:n.uuid)||"")},onMoveUp:()=>{var n;return h(e.uuid||"",(null===(n=S[t-1])||void 0===n?void 0:n.uuid)||"")}};return(0,l.Y)(k.i,{cardConfig:e,chartRunData:n,onStartEditChart:p,onRemoveChart:u,setFullScreenChart:v,onReorderCharts:h,index:t,sectionIndex:f,groupBy:g,autoRefreshEnabled:y,...r},`${e.uuid}-${t}-${f}`)}))})]})},I=e=>{let{sectionId:t,sectionCharts:n,reorderCharts:r,insertCharts:i,isMetricHistoryLoading:o,chartData:s,startEditChart:a,removeChart:c,groupBy:d,sectionIndex:u,setFullScreenChart:p,autoRefreshEnabled:h}=e;return(0,l.Y)(T,{sectionId:t,chartRunData:s,cardsConfig:n,isMetricHistoryLoading:o,onRemoveChart:c,onStartEditChart:a,onReorderCharts:r,onInsertCharts:i,groupBy:d,sectionIndex:u,setFullScreenChart:p,autoRefreshEnabled:h})};var L=n(7204),F=n(62758),K=n(9133);const H=e=>{let{compareRunSections:t,compareRunCharts:n,reorderCharts:p,insertCharts:h,chartData:m,isMetricHistoryLoading:g=!1,autoRefreshEnabled:f=!1,startEditChart:v,removeChart:y,addNewChartCard:x,search:b,groupBy:M,supportedChartTypes:w,setFullScreenChart:A=(()=>{})}=e;const S=(0,F.g_)(),[Y,R]=(0,a.useState)(-1),{theme:D}=(0,s.u)(),k=(0,a.useMemo)((()=>(t||[]).flatMap((e=>e.display?[e.uuid]:[]))),[t]),T=e=>{S((t=>{const n=(t.compareRunCharts||[]).filter((t=>t.isGenerated||t.metricSectionId!==e)).map((t=>t.isGenerated&&t.metricSectionId===e?{...t,deleted:!0}:t)),r=(t.compareRunSections||[]).slice().filter((t=>t.uuid!==e));return{...t,compareRunCharts:n,compareRunSections:r,isAccordionReordered:!0}}))},H=(e,t)=>{let n=-1;return S((r=>{const i=[...r.compareRunSections||[]];n=i.findIndex((t=>t.uuid===e));const o={name:"",uuid:(0,L.yk)(),display:!1,isReordered:!1};return n<0?i.push(o):(t||(n+=1),i.splice(n,0,o)),{...r,compareRunSections:i,isAccordionReordered:!0}})),n},_=(e,t)=>{S((n=>{const r=(n.compareRunSections||[]).map((n=>n.uuid===e?{...n,name:t}:n));return{...n,compareRunSections:r,isAccordionReordered:!0}}))},N=(e,t)=>{S((n=>{const r=(n.compareRunSections||[]).slice(),i=r.findIndex((t=>t.uuid===e)),o=r.findIndex((e=>e.uuid===t)),s=r.splice(i,1)[0];return r.splice(o,0,s),{...n,compareRunSections:r,isAccordionReordered:!0}}))};if(!t||!n)return null;if(""!==b){const e=n.filter((e=>!e.deleted&&((e,t)=>{const n=e.toLowerCase();if(t.type===o.zL.BAR)return t.metricKey.toLowerCase().includes(n);if(t.type===o.zL.LINE){const e=t;return(0,K.isArray)(e.selectedMetricKeys)?e.selectedMetricKeys.some((e=>e.toLowerCase().includes(n))):e.metricKey.toLowerCase().includes(n)}if(t.type===o.zL.SCATTER){const e=t;return e.xaxis.key.toLowerCase().includes(n)||e.yaxis.key.toLowerCase().includes(n)}if(t.type===o.zL.PARALLEL)return"Parallel Coordinates".toLowerCase().includes(n);{const e=t;return e.xaxis.key.toLowerCase().includes(n)||e.yaxis.key.toLowerCase().includes(n)||e.zaxis.key.toLowerCase().includes(n)}})(b,e))),s=new Set;e.forEach((e=>{e.metricSectionId&&s.add(e.metricSectionId)}));const a=t.filter((e=>s.has(e.uuid)));return 0===e.length?(0,l.FD)(l.FK,{children:[(0,l.Y)(d.S,{size:"lg"}),(0,l.Y)(i.SvL,{title:(0,l.Y)(C.A,{id:"D+UN8o",defaultMessage:"No metric charts"}),description:(0,l.Y)(C.A,{id:"gZSJbg",defaultMessage:"All charts are filtered. Clear the search filter to see hidden metric charts."})})]}):(0,l.Y)(l.FK,{children:(0,l.Y)(c,{activeKey:a.map((e=>{let{uuid:t}=e;return t})),disableCollapse:!0,children:a.map(((t,n)=>{const o=e.filter((e=>e.metricSectionId===t.uuid)),s=(0,l.FD)("div",{role:"figure",css:(0,r.AH)({display:"flex",alignItems:"center",width:"100%",padding:"4px 0px",height:"55px"},""),children:[(0,l.Y)("div",{css:(0,r.AH)({paddingLeft:7,whiteSpace:"pre-wrap"},""),"data-testid":"on-search-runs-compare-section-header",children:t.name}),(0,l.Y)("div",{css:(0,r.AH)({padding:D.spacing.xs,position:"relative"},""),children:`(${o.length})`})]});return(0,l.Y)(i.nD3.Panel,{header:s,collapsible:"disabled",children:(0,l.Y)(I,{sectionId:t.uuid,sectionCharts:o,reorderCharts:p,insertCharts:h,isMetricHistoryLoading:g,chartData:m,startEditChart:v,removeChart:y,groupBy:M,sectionIndex:n,setFullScreenChart:A,autoRefreshEnabled:f})},t.uuid)}))})})}return(0,l.FD)("div",{children:[(0,l.Y)(c,{activeKey:k,onActiveKeyChange:e=>{S((t=>{const n=(t.compareRunSections||[]).map((t=>{const n=t.uuid,r="string"===typeof e&&n===e||Array.isArray(e)&&e.includes(n);return{...t,display:r}}));return{...t,compareRunSections:n}}))},children:(t||[]).map(((e,t)=>{const r=(n||[]).filter((t=>{const n=t.metricSectionId;return!t.deleted&&n===e.uuid}));return(0,l.Y)(i.nD3.Panel,{header:(0,l.Y)(E,{index:t,section:e,onDeleteSection:T,onAddSection:H,editSection:Y,onSetEditSection:R,onSetSectionName:_,sectionChartsLength:r.length,addNewChartCard:x,onSectionReorder:N,isExpanded:k.includes(e.uuid),supportedChartTypes:w}),children:(0,l.Y)(I,{sectionId:e.uuid,sectionCharts:r,reorderCharts:p,insertCharts:h,isMetricHistoryLoading:g,chartData:m,startEditChart:v,removeChart:y,groupBy:M,sectionIndex:t,setFullScreenChart:A,autoRefreshEnabled:f})},e.uuid)}))}),(0,l.Y)("div",{children:(0,l.Y)(s.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_sections_runscomparesectionaccordion.tsx_405",block:!0,onClick:()=>{S((e=>{const t=[...e.compareRunSections||[],{name:"",uuid:(0,L.yk)(),display:!1,isReordered:!1}];return{...e,compareRunSections:t,isAccordionReordered:!0}})),R((null===t||void 0===t?void 0:t.length)||-1)},icon:(0,l.Y)(u.P,{}),style:{border:"none",marginTop:"6px"},children:(0,l.Y)(C.A,{id:"YlavFP",defaultMessage:"Add section"})})})]})}},50684:function(e,t,n){"use strict";n.d(t,{H:function(){return c},W:function(){return l}});var r=n(31014),i=n(64596);const o={paper_bgcolor:"white",plot_bgcolor:"white"},s={width:1200,height:600},a={displaylogo:!1,modeBarButtonsToRemove:["toImage"]},l=(e,t)=>(n,r)=>(0,i.downloadImage)({data:e,layout:{...t,...o},config:a},{...s,format:n,filename:r}),c=()=>{const e=(0,r.useRef)(null),[t,n]=(0,r.useState)(null),i=(0,r.useCallback)((t=>{e.current=t,n((t=>t||((t,n)=>{var r;return null===(r=e.current)||void 0===r?void 0:r.call(e,t,n)})))}),[]);return[t,i]}},99061:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});const r=e=>{let{data:t,selectedImageKeys:n}=e;const r=t.reduce(((e,t)=>{for(const r of Object.keys(t.images))if(null!==n&&void 0!==n&&n.includes(r)){const n=t.images[r];for(const t of Object.values(n))void 0!==t.step&&(e[t.step]={style:{display:"none"},label:""})}return e}),{});return{stepMarks:r,maxMark:Math.max(...Object.keys(r).map(Number)),minMark:Math.min(...Object.keys(r).map(Number))}}},92206:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var r=n(31014);const i=function(){let{enabled:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,r.useRef)(),[n,i]=(0,r.useState)(!e);return(0,r.useEffect)((()=>{if(!e||!t.current||!window.IntersectionObserver)return i(!0),()=>{};const n=new IntersectionObserver((e=>{let[t]=e;i(t.isIntersecting)}));return setTimeout((()=>{t.current&&n.observe(t.current)})),()=>n.disconnect()}),[e]),{isInViewport:n,elementRef:e=>{t.current=e}}}},97604:function(e,t,n){"use strict";n.d(t,{l:function(){return i}});var r=n(31014);const i=e=>{const t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{t.current=e}),[e]),e=>{t.current(e)}}},25790:function(e,t,n){"use strict";n.d(t,{Iq:function(){return o},PQ:function(){return s},ZY:function(){return l},nD:function(){return a}});var r=n(31014);const i=(e,t)=>function(n,r,i){var o,s;let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const l=-1===r&&-1===i;var c,d,u,p;(null===(o=n.querySelector(".is-hover-highlight"))||void 0===o||o.classList.remove("is-hover-highlight"),r>-1)&&(null===(c=n.querySelectorAll(e)[r])||void 0===c||c.classList.add("is-hover-highlight"));(null===(s=n.querySelector(".is-selection-highlight"))||void 0===s||s.classList.remove("is-selection-highlight"),i>-1)&&(null===(d=n.querySelectorAll(e)[i])||void 0===d||d.classList.add("is-selection-highlight"));if(a>0){const t=i>-1?i-a:r>-1?r-a:-1;n.querySelectorAll(e).forEach(((e,n)=>{e.classList.toggle("is-band",n>=0&&n<a),e.classList.toggle("is-band-highlighted",n===t)}))}else n.querySelectorAll(e).forEach((e=>e.classList.remove("is-band")));l?null===(u=n.querySelector(t))||void 0===u||u.classList.remove("is-highlight"):null===(p=n.querySelector(t))||void 0===p||p.classList.add("is-highlight")},o=i("svg .trace.bars g.point",".trace.bars"),s=i("svg .scatterlayer g.trace",".scatterlayer"),a=i("svg .scatterlayer path.point",".trace.scatter"),l=function(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const s=(0,r.useMemo)((()=>e&&t?n.findIndex((e=>{let{uuid:n}=e;return n===t})):-1),[n,e,t]),[a,l]=(0,r.useState)(-1);return(0,r.useEffect)((()=>{e&&i(e,a,s,o)}),[i,e,s,a,o]),{selectedTraceIndex:s,hoveredPointIndex:a,setHoveredPointIndex:l}}},75627:function(e,t,n){"use strict";n.d(t,{QS:function(){return s},W:function(){return p},bL:function(){return c},uN:function(){return h}});var r=n(31014),i=n(91144),o=n(50111);let s=function(e){return e[e.Simple=1]="Simple",e[e.MultipleTracesWithScanline=2]="MultipleTracesWithScanline",e}({});const a=r.createContext(null);let l=function(e){return e[e.HIDDEN=0]="HIDDEN",e[e.HOVER=1]="HOVER",e[e.VISIBLE=2]="VISIBLE",e}({});const c=e=>e&&"tooltipLegendItems"in e,d=e=>{if(null===e||!(e instanceof Element))return null;if(e instanceof HTMLElement)return e;let t=e;for(;t&&!(t instanceof HTMLElement);)t=t.parentElement;return t};var u={name:"13udsys",styles:"height:100%"};const p=e=>{let{className:t,children:n,contextData:c,component:p,hoverOnly:h=!1}=e;const g=(0,r.useRef)(null),f=(0,r.useRef)(null),v=(0,r.useRef)({x:0,y:0}),y=(0,i.dD)(),x=(0,r.useRef)({x:0,y:0}),[C,b]=(0,r.useState)(s.Simple),[M,w]=(0,r.useState)(l.HIDDEN),[A,S]=(0,r.useState)(null),[Y,E]=(0,r.useState)(""),[R,D]=(0,r.useState)(null),k=(0,r.useRef)(null),T=(0,r.useRef)(M),I=(0,r.useRef)(Y),L=(0,r.useRef)(A),F=(0,r.useRef)(R),K=(0,r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!f.current||!g.current)return;let t=C===s.MultipleTracesWithScanline?x.current.x:v.current.x,n=v.current.y;const r=f.current,i=g.current.getBoundingClientRect();C===s.MultipleTracesWithScanline&&(t-=i.x,n-=i.y),f.current.style.left="0px",f.current.style.top="0px",f.current.style.transform=`translate3d(${t+1}px, ${n+1}px, 0)`;const o=()=>{const e=r.getBoundingClientRect();t+e.width>=i.width&&(t-=e.width),n+e.height>=i.height&&(n-=e.height),r.style.transform=`translate3d(${t+1}px, ${n+1}px, 0)`};e?requestAnimationFrame(o):o()}),[C]);(0,r.useEffect)((()=>{T.current=M}),[M]);const H=(0,r.useCallback)(((e,t)=>{var n;const r=e.getBoundingClientRect(),i=(null===(n=g.current)||void 0===n?void 0:n.getBoundingClientRect())||{left:0,top:0};return{x:t.offsetX+(r.left-i.left),y:t.offsetY+(r.top-i.top)}}),[]),_=(0,r.useCallback)((e=>{if(T.current===l.HOVER&&f.current&&g.current){k.current=null;const t=d(e.target);t&&(v.current=H(t,e.nativeEvent),K())}}),[K,H]),N=(0,r.useCallback)(((e,t,n,r,i)=>{var o;I.current=e,L.current=n,F.current=i,T.current!==l.VISIBLE&&(S(n),!e&&null!==(o=k.current)&&void 0!==o&&o.runUuid||(t===s.MultipleTracesWithScanline&&(x.current.x=(null===r||void 0===r?void 0:r.x)||0),b(t),E((t=>(i&&D(i),T.current===l.HIDDEN||T.current===l.HOVER&&e!==t?(w(l.HOVER),e):t)))))}),[]),O=(0,r.useCallback)((e=>{h||0===e.button&&I.current&&(k.current={x:e.pageX,y:e.pageY,runUuid:I.current})}),[h]),z=(0,r.useCallback)((e=>{if(h)return;if(k.current&&(()=>{var t,n;if(!y)return(null===(n=k.current)||void 0===n?void 0:n.runUuid)&&e.pageX===k.current.x&&e.pageY===k.current.y;return(null===(t=k.current)||void 0===t?void 0:t.runUuid)&&Math.abs(e.pageX-k.current.x)<5&&Math.abs(e.pageY-k.current.y)<5})()){if(T.current===l.VISIBLE){E(k.current.runUuid),D(F.current);const t=d(e.nativeEvent.target);t&&(v.current=H(t,e.nativeEvent),K(!0))}else w(l.VISIBLE),K(!0);e.stopPropagation()}k.current=null}),[K,h,H,y]),P=(0,r.useCallback)((()=>w(l.HIDDEN)),[]);(0,r.useLayoutEffect)((()=>{if(!g.current)return;const e=g.current.getRootNode(),t=e=>{var t;if(T.current!==l.VISIBLE)return;const n=d(e.target);if(!n)return;n instanceof HTMLElement&&(null===f||void 0===f?void 0:f.current)instanceof HTMLElement&&f.current.contains(n)||null!==(t=k.current)&&void 0!==t&&t.runUuid||w(l.HIDDEN)};return e.addEventListener("click",t,{capture:!0}),()=>{e.removeEventListener("click",t,{capture:!0})}}),[H,K]);const B=(0,r.useCallback)((()=>{var e;I.current="",null!==(e=k.current)&&void 0!==e&&e.runUuid||T.current===l.VISIBLE||(E(""),w(l.HIDDEN))}),[]),U=(0,r.useCallback)((function(){I.current="",E(""),w(l.HIDDEN)}),[]),W=(0,r.useMemo)((()=>M!==l.VISIBLE?null:Y),[M,Y]),j=(0,r.useMemo)((()=>({updateTooltip:N,resetTooltip:B,destroyTooltip:U,selectedRunUuid:W,closeContextMenu:P})),[N,B,U,W,P]),V=M!==l.HIDDEN&&(C===s.MultipleTracesWithScanline||""!==Y);return(0,o.FD)(a.Provider,{value:j,children:[(0,o.Y)("div",{onMouseMove:_,onMouseDownCapture:O,onClickCapture:z,css:u,children:n}),(0,o.Y)("div",{css:m.contextMenuContainer,className:t,ref:g,children:V&&(0,o.Y)("div",{ref:f,css:m.contextMenuWrapper,"data-testid":"tooltip-container",style:{userSelect:M===l.HOVER?"none":"unset",pointerEvents:M===l.HOVER?"none":"all"},children:(0,o.Y)(p,{runUuid:Y,hoverData:R,chartData:A,contextData:c,isHovering:M===l.HOVER,closeContextMenu:P,mode:C})})})]})},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.Simple;const n=(0,r.useContext)(a);if(!n)throw new Error("You must invoke useRunsChartsTooltip() in a component being ancestor of <RunsChartsTooltipWrapper />!");const{updateTooltip:i,resetTooltip:o,selectedRunUuid:l,closeContextMenu:c,destroyTooltip:d}=n,u=(0,r.useCallback)((function(){i(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t,e,arguments.length>1?arguments[1]:void 0,arguments.length>2?arguments[2]:void 0)}),[i,e,t]);return{setTooltip:u,resetTooltip:o,selectedRunUuid:l,closeContextMenu:c,destroyTooltip:d}},m={contextMenuContainer:{overflow:"hidden",top:0,left:0,width:"100%",height:"100%",position:"fixed",pointerEvents:"none"},contextMenuWrapper:e=>({zIndex:1,position:"absolute",padding:e.spacing.sm,backgroundColor:e.colors.backgroundPrimary,border:`1px solid ${e.colors.border}`,left:-999,top:-999,borderRadius:e.general.borderRadiusBase,boxShadow:e.general.shadowLow}),overlayElement:()=>({"&::after":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"transparent"}})}},62758:function(e,t,n){"use strict";n.d(t,{Ez:function(){return u},KP:function(){return h},cA:function(){return p},g_:function(){return c},iO:function(){return d},oB:function(){return l}});var r=n(31014),i=n(30152),o=n(7204),s=n(50111);const a=r.createContext((()=>{})),l=e=>{let{children:t,updateChartsUIState:n}=e;return(0,s.Y)(a.Provider,{value:n,children:t})},c=()=>r.useContext(a),d=()=>{const e=c();return(t,n)=>{e((e=>{var r,i;const o=null===(r=e.compareRunCharts)||void 0===r?void 0:r.slice(),s=null===(i=e.compareRunSections)||void 0===i?void 0:i.slice();if(!o||!s)return e;const a=o.findIndex((e=>e.uuid===t)),l=o.findIndex((e=>e.uuid===n));if(a<0||l<0)return e;const c=o[a],d=o[l],u=d.metricSectionId===c.metricSectionId,p=s.findIndex((e=>e.uuid===c.metricSectionId)),h=s.findIndex((e=>e.uuid===d.metricSectionId));s.splice(p,1,{...s[p],isReordered:!0}),s.splice(h,1,{...s[h],isReordered:!0});const m={...c};return m.metricSectionId=d.metricSectionId,o.splice(a,1),u?o.splice(l,0,m):o.splice(o.findIndex((e=>e.uuid===n)),0,m),{...e,compareRunCharts:o,compareRunSections:s}}))}},u=()=>{const e=c();return t=>{const n=i.i$.serialize({...t,uuid:(0,o.yk)()});t.uuid?e((e=>{var r;return{...e,compareRunCharts:null===(r=e.compareRunCharts)||void 0===r?void 0:r.map((e=>e.uuid===t.uuid?n:e))}})):e((e=>({...e,compareRunCharts:e.compareRunCharts&&[...e.compareRunCharts,n]})))}},p=()=>{const e=c();return(t,n)=>{e((e=>{var r,i;const o=null===(r=e.compareRunCharts)||void 0===r?void 0:r.slice(),s=null===(i=e.compareRunSections)||void 0===i?void 0:i.slice();if(!o||!s)return e;const a=o.findIndex((e=>e.uuid===t));if(a<0)return e;const l=o[a],c={...l};c.metricSectionId=n;const d=s.findIndex((e=>e.uuid===l.metricSectionId)),u=s.findIndex((e=>e.uuid===n));return s.splice(d,1,{...s[d],isReordered:!0}),s.splice(u,1,{...s[u],isReordered:!0}),o.splice(a,1),o.push(c),{...e,compareRunCharts:o,compareRunSections:s}}))}},h=()=>{const e=c();return t=>{e((e=>{var n,r;return{...e,compareRunCharts:t.isGenerated?null===(n=e.compareRunCharts)||void 0===n?void 0:n.map((e=>e.uuid===t.uuid?{...e,deleted:!0}:e)):null===(r=e.compareRunCharts)||void 0===r?void 0:r.filter((e=>e.uuid!==t.uuid))}}))}}},13135:function(e,t,n){"use strict";n.d(t,{S:function(){return d}});var r=n(9133),i=n(31014),o=n(10811),s=n(7842),a=n(16297),l=n(32039),c=n(76010);const d=e=>{const{metricKeys:t,runUuids:n,enabled:d,maxResults:u,range:p,autoRefreshEnabled:h}=e,m=(0,o.wA)(),{resultsByRunUuid:g,isLoading:f,isRefreshing:v}=(0,o.d4)((e=>{const i=(0,s.Cx)(p);let o=!1,a=!1;const l=n.map((n=>{const r=t.reduce(((t,r)=>{var s,l;const c=null===(s=e.entities.sampledMetricsByRunUuid[n])||void 0===s||null===(l=s[r])||void 0===l?void 0:l[i];return c?(a=a||Boolean(c.loading),o=o||Boolean(c.refreshing),t[r]=c,t):t}),{});return{runUuid:n,...r}}));return{isLoading:a,isRefreshing:o,resultsByRunUuid:(0,r.keyBy)(l,"runUuid")}})),y=(0,i.useCallback)((()=>{t.forEach((e=>{(0,r.chunk)(n,100).forEach((t=>{const n=(0,a.H)(t,e,u,p,"all");m(n)}))}))}),[m,u,n,t,p]),x=(0,i.useRef)(void 0),C=(0,i.useRef)(h&&e.enabled);C.current=h&&e.enabled;const b=(0,i.useMemo)((()=>n.join(",")),[n]);return(0,i.useEffect)((()=>{d&&!h&&t.forEach((e=>{(0,r.chunk)(n,100).forEach((t=>{const n=(0,a.H)(t,e,u,p);m(n)}))}))}),[m,u,n,t,p,d,h]),(0,i.useEffect)((()=>{let e=!1;if(!d||!h)return;const n=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=b.split(",").filter((e=>""!==e));await Promise.all(t.map((async t=>Promise.all((0,r.chunk)(n,100).map((async n=>m((0,a.H)(n,t,u,p,e?"auto":void 0))))))))},i=async()=>{if(C.current&&!e){try{await n(!0)}catch(t){c.A.logErrorAndNotifyUser(t)}clearTimeout(x.current),C.current&&!e&&(x.current=window.setTimeout(i,l.QB))}};return n().then(i),()=>{e=!0,clearTimeout(x.current)}}),[m,u,b,t,p,d,h]),{isLoading:f,isRefreshing:v,resultsByRunUuid:g,refresh:y}}},30152:function(e,t,n){"use strict";n.d(t,{K8:function(){return g},Nf:function(){return f},i$:function(){return c},rJ:function(){return v},zL:function(){return a}});var r=n(7842),i=n(7204),o=n(25866),s=n(9133);let a=function(e){return e.BAR="BAR",e.LINE="LINE",e.SCATTER="SCATTER",e.CONTOUR="CONTOUR",e.PARALLEL="PARALLEL",e.DIFFERENCE="DIFFERENCE",e.IMAGE="IMAGE",e}({});const l=(e,t)=>{var n,r;return Boolean((null===(n=e.metrics)||void 0===n||null===(r=n[t])||void 0===r?void 0:r.step)>=1)};class c{constructor(e,t,n){this.uuid=void 0,this.type=a.BAR,this.runsCountToCompare=10,this.metricSectionId="",this.deleted=!1,this.isGenerated=!1,this.isGenerated=e,this.uuid=t,this.metricSectionId=n}static serialize(e){return Object.keys(e).reduce(((t,n)=>({...t,[n]:e[n]})),{})}static getEmptyChartCardByType(e,t,n,r){return e===a.BAR?new p(t,n,r):e===a.SCATTER?new d(t,n,r):e===a.PARALLEL?new m(t,n,r):e===a.LINE?new u(t,n,r):e===a.DIFFERENCE?new y(t,n,r):e===a.IMAGE?new x(t,n,r):new h(t,n,r)}static getBaseChartConfigs(e,t){const n=[],r=(0,s.uniq)(t.flatMap((e=>Object.keys(e.metrics)))),o=new Set;e&&o.add(e);for(const i of r)o.add(i);return[...o].slice(0,30).forEach((e=>{const r=t.some((t=>l(t,e)))?a.LINE:a.BAR;n.push({...c.getEmptyChartCardByType(r,!0,(0,i.yk)()),metricKey:e})})),0===n.length&&n.push(c.getEmptyChartCardByType(a.PARALLEL,!1,(0,i.yk)())),n}static getBaseChartAndSectionConfigs(e){let{primaryMetricKey:t,runsData:n,useParallelCoordinatesChart:r=!1,enabledSectionNames:d=[o.NN,o.rx],filterMetricNames:u}=e;const p=[],h=(0,s.uniq)(n.flatMap((e=>Object.keys(e.metrics)))).filter((e=>!u||u(e))),m=new Set;t&&m.add(t);const g=(0,s.uniq)(n.flatMap((e=>Object.keys(e.images))));for(const i of h)m.add(i);const f={};if(d.forEach((e=>{f[e]=(0,i.yk)()})),[...m,...g].forEach((e=>{f[c.extractChartSectionName(e)]||(f[c.extractChartSectionName(e)]=(0,i.yk)())})),Array.from(m).sort().forEach((e=>{const t=n.some((t=>l(t,e)))?a.LINE:a.BAR,r=f[c.extractChartSectionName(e)];p.push({...c.getEmptyChartCardByType(t,!0,(0,i.yk)(),r),metricKey:e})})),Array.from(g).sort().forEach((e=>{const t=a.IMAGE,n=f[c.extractChartSectionName(e)];p.push({...c.getEmptyChartCardByType(t,!0,(0,i.yk)(),n),imageKeys:[e]})})),0===p.length&&r){const e=f[o.NN];p.push(c.getEmptyChartCardByType(a.PARALLEL,!1,(0,i.yk)(),e))}const v=[...Object.keys(f).filter((e=>e!==o.NN&&e!==o.rx)).sort(),...[o.NN,o.rx].filter((e=>d.includes(e)))].map((e=>({uuid:f[e],name:e,display:!0,isReordered:!1,deleted:!1,isGenerated:!0})));return{resultChartSet:p,resultSectionSet:v}}static updateChartAndSectionConfigs(e){let{compareRunCharts:t,compareRunSections:n,isAccordionReordered:r,runsData:d,filterMetricNames:u}=e;const p=t.slice();let h=n.slice(),m=!1;const g=(0,s.uniq)(d.flatMap((e=>Object.keys(e.metrics)))).filter((e=>!u||u(e))),f=(0,s.uniq)(d.flatMap((e=>Object.keys(e.images)))),v=new Set;for(const i of g)v.add(i);const y={};if(n.forEach((e=>y[e.name]=e.uuid)),f.forEach((e=>{const t=p.findIndex((t=>{const n=t.imageKeys;return!!n&&(1===n.length&&n.includes(e))}))>=0,n=a.IMAGE;if(!t){m=!0;const t=c.extractChartSectionName(e);y[t]||(y[t]=(0,i.yk)());const r=y[t],o=h.find((e=>e.uuid===r)),s=!!o&&o.isReordered,a={...c.getEmptyChartCardByType(n,!0,(0,i.yk)(),r),imageKeys:[e]};if(s)p.push(a);else{const t=p.findIndex((t=>{const n=t.imageKeys;return!!n&&n[0].localeCompare(e)>=0}));p.splice(t,0,a)}}})),v.forEach((e=>{const t=p.findIndex((t=>{const n=t.metricKey;return!!n&&n===e}))>=0,n=p.findIndex((t=>{const n=t.metricKey;return n&&n===e&&t.isGenerated})),r=d.some((t=>l(t,e)))?a.LINE:a.BAR;if(t){if(n>=0&&p[n].type===a.BAR&&r===a.LINE){m=!0;const t=p[n];p[n]={...c.getEmptyChartCardByType(r,t.isGenerated,t.uuid,t.metricSectionId),metricKey:e,deleted:t.deleted}}}else{m=!0;const t=c.extractChartSectionName(e);y[t]||(y[t]=(0,i.yk)());const n=y[t],o=h.find((e=>e.uuid===n)),s=!!o&&o.isReordered,a={...c.getEmptyChartCardByType(r,!0,(0,i.yk)(),n),metricKey:e};if(s)p.push(a);else{const t=p.findIndex((t=>{const n=t.metricKey;return!!n&&n.localeCompare(e)>=0}));p.splice(t,0,a)}}})),Object.keys(y).forEach((e=>{h.findIndex((t=>t.name===e))>=0||h.push({uuid:y[e],name:e,display:!0,isReordered:!1})})),!r){const e=h.filter((e=>e.name!==o.NN&&e.name!==o.rx));e.sort(((e,t)=>e.name.localeCompare(t.name))),h=[...e,n[n.length-2],n[n.length-1]].filter((e=>!(0,s.isNil)(e)))}return{resultChartSet:p,resultSectionSet:h,isResultUpdated:m}}}c.extractChartSectionName=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";const n=e.split(t).slice(0,-1).join(t);return n===o.QB?o.NN:n+t===o.qt?o.rx:n};class d extends c{constructor(){super(...arguments),this.type=a.SCATTER,this.xaxis={key:"",type:"METRIC"},this.yaxis={key:"",type:"METRIC"},this.runsCountToCompare=100}}class u extends c{constructor(){super(...arguments),this.type=a.LINE,this.metricKey="",this.selectedMetricKeys=void 0,this.lineSmoothness=0,this.xAxisScaleType="linear",this.scaleType="linear",this.xAxisKey=r.fj.STEP,this.selectedXAxisMetricKey="",this.displayPoints=void 0}}class p extends c{constructor(){super(...arguments),this.type=a.BAR,this.metricKey=""}}class h extends c{constructor(){super(...arguments),this.type=a.CONTOUR,this.xaxis={key:"",type:"METRIC"},this.yaxis={key:"",type:"METRIC"},this.zaxis={key:"",type:"METRIC"}}}class m extends c{constructor(){super(...arguments),this.type=a.PARALLEL,this.selectedParams=[],this.selectedMetrics=[],this.showAllRuns=!1}}let g=function(e){return e.MODEL_METRICS="Model metrics",e.SYSTEM_METRICS="System metrics",e.PARAMETERS="Parameters",e.ATTRIBUTES="Attributes",e.TAGS="Tags",e}({});const f=[g.PARAMETERS,g.TAGS,g.ATTRIBUTES];let v=function(e){return e.USER="User",e.SOURCE="Source",e.VERSION="Version",e.MODELS="Models",e}({});class y extends c{constructor(){super(...arguments),this.type=a.DIFFERENCE,this.compareGroups=[],this.chartName="Runs difference view",this.showChangeFromBaseline=!0,this.showDifferencesOnly=!0,this.baselineColumnUuid=""}}class x extends c{constructor(){super(...arguments),this.type=a.IMAGE,this.imageKeys=[],this.step=0}}},25121:function(e,t,n){"use strict";n.d(t,{CZ:function(){return s},_:function(){return i},p4:function(){return o}});var r=n(9133);const i=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=(0,r.orderBy)((0,r.compact)((0,r.values)(e).map((e=>{let{metricsHistory:t}=e;return t})).flat()),"timestamp");if(i.length<2)return;const o=new Date(t[0]).valueOf(),s=new Date(t[1]).valueOf();let a=n?(0,r.first)(i):void 0;for(let r=0;r<i.length;r++){const e=i[r];if(e.timestamp>o){a=i[r-1]||e;break}}let l=n?(0,r.last)(i):void 0;for(let r=i.length-1;r>=0;r--){const e=i[r];if(e.timestamp<s){l=i[r+1]||e;break}}return(0,r.isUndefined)(a)||(0,r.isUndefined)(l)?void 0:[a.step,l.step]},o=(e,t,n,o)=>{const s=(0,r.compact)(t.map((t=>{var r;const s=null===(r=e[t])||void 0===r?void 0:r[n];return s?i(s,o,!1):void 0}))),a=(0,r.min)(s.map((e=>{let[t]=e;return t}))),l=(0,r.max)(s.map((e=>{let[,t]=e;return t})));if(!(0,r.isUndefined)(a)&&!(0,r.isUndefined)(l))return[a,l]},s=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;const o=(0,r.compact)(t.map((t=>{var o;const s=e[t];if(!s)return null;const{runUuid:a,...l}=s,c=(0,r.values)(l).flatMap((e=>{var t;return null!==(t=e.metricsHistory)&&void 0!==t?t:[]})),d=(null===(o=(0,r.minBy)(c,"timestamp"))||void 0===o?void 0:o.timestamp)||0;return[n[0]*i+d,n[1]*i+d]}))),s=(0,r.min)(o.map((e=>{let[t]=e;return t}))),a=(0,r.max)(o.map((e=>{let[,t]=e;return t})));if(!(0,r.isUndefined)(s)&&!(0,r.isUndefined)(a))return[s,a]}},81850:function(e,t,n){"use strict";n.d(t,{B:function(){return l}});var r=n(31014),i=n(4877),o=n.n(i),s=n(62862),a=n(9133);const l=e=>{let{ungroupedRunsData:t,enabled:n,aggregateFunction:i,metricKeys:l,sampledDataResultsByRunUuid:c,selectedXAxisMetricKey:d}=e;return(0,r.useMemo)((()=>{if(!n||!i)return t;return[...t.filter((e=>{let{groupParentInfo:t}=e;return t})).map((e=>{const t={};l.forEach((n=>{var r;o()(e.groupParentInfo,"groupParentInfo should be defined");const i=null!==(r=e.groupParentInfo.runUuidsForAggregation)&&void 0!==r?r:e.groupParentInfo.runUuids;let l;if((0,a.isNil)(d)){const e=(0,a.compact)(i.flatMap((e=>{var t,r;return null===(t=c[e])||void 0===t||null===(r=t[n])||void 0===r?void 0:r.metricsHistory}))),t=(0,a.uniq)(e.map((e=>e.step)));l=(0,s.yu)(t,n,e)}else l=(0,s.nN)((0,a.pick)(c,i),n,d);t[n]=l}));const n=l.reduce(((e,n)=>{const r=t[n][i];return r&&r.length>0&&(e[n]=r),e}),{});return{...e,metricsHistory:n,aggregatedMetricsHistory:t}})),...t.filter((e=>{let{belongsToGroup:t}=e;return!1===t}))]}),[l,c,t,n,i,d])}},18476:function(e,t,n){"use strict";n.d(t,{R:function(){return i},V:function(){return o}});var r=n(32378);const i=(e,t)=>e.digest===t.digest&&e.name===t.name&&e.context===t.context,o=e=>{const{dataset:t}=e,n=t.sourceType;try{if(n===r.Fv.HTTP){const{url:e}=JSON.parse(t.source);return e}if(n===r.Fv.S3){const{uri:e}=JSON.parse(t.source);return e}if(n===r.Fv.HUGGING_FACE){const{path:e}=JSON.parse(t.source);return`https://huggingface.co/datasets/${e}`}}catch{return null}return null}},56412:function(e,t,n){"use strict";n.d(t,{i:function(){return c}});var r=n(31014),i=n(88443),o=n(49409),s=n(67727),a=n(50111);var l={name:"1739oy8",styles:"z-index:1"};const c=e=>{let{copyText:t,showLabel:n=!0,...c}=e;const[d,u]=(0,r.useState)(!1);return(0,a.Y)(o.m_M,{title:(0,a.Y)(i.A,{id:"X+boXI",defaultMessage:"Copied"}),dangerouslySetAntdProps:{visible:d},children:(0,a.Y)(s.B,{componentId:"codegen_mlflow_app_src_shared_building_blocks_copybutton.tsx_35",type:"primary",onClick:()=>{navigator.clipboard.writeText(t),u(!0),setTimeout((()=>{u(!1)}),3e3)},onMouseLeave:()=>{u(!1)},css:l,children:n?(0,a.Y)(i.A,{id:"1Iq+NW",defaultMessage:"Copy"}):void 0,...c})})}},8875:function(e,t,n){"use strict";n.d(t,{_:function(){return s.A},b:function(){return c}});var r=n(49409),i=n(67727),o=n(31014),s=n(10298),a=n(50111);const l={rotateLeft:(0,a.Y)(r.ejX,{}),rotateRight:(0,a.Y)(r.UfX,{}),zoomIn:(0,a.Y)(r.ADv,{}),zoomOut:(0,a.Y)(r.LoD,{}),close:(0,a.Y)(i.C,{}),left:(0,a.Y)(r.A60,{}),right:(0,a.Y)(r.flY,{})},c=e=>{let{children:t,visible:n,onVisibleChange:r}=e;const{getPopupContainer:c}=(0,o.useContext)(i.N);return(0,a.Y)(s.A.PreviewGroup,{icons:l,preview:{visible:n,getContainer:c,onVisibleChange:e=>r(e)},children:t})}},53606:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(31014),i=n(18930);function o(e){return function(e){return(0,i.useSyncExternalStore)(r.useCallback((t=>(e.addEventListener("change",t),()=>{e.removeEventListener("change",t)})),[e]),(()=>e.matches))}(r.useMemo((()=>window.matchMedia(e)),[e]))}},37616:function(e,t,n){"use strict";n.d(t,{z7:function(){return p}});var r=n(17729),i=n(74702),o=n(42346);var s={'code[class*="language-"]':{fontFamily:'Consolas, Menlo, Monaco, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", "Courier New", Courier, monospace',fontSize:"14px",lineHeight:"1.375",direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",background:"#2a2734",color:"#5DFAFC"},'pre[class*="language-"]':{fontFamily:'Consolas, Menlo, Monaco, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", "Courier New", Courier, monospace',fontSize:"14px",lineHeight:"1.375",direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",background:"#2a2734",color:"#5DFAFC",padding:"1em",margin:".5em 0",overflow:"auto"},'pre > code[class*="language-"]':{fontSize:"1em"},'pre[class*="language-"]::-moz-selection':{textShadow:"none",background:"#6a51e6"},'pre[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"]::-moz-selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#6a51e6"},'pre[class*="language-"]::selection':{textShadow:"none",background:"#6a51e6"},'pre[class*="language-"] ::selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"]::selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"] ::selection':{textShadow:"none",background:"#6a51e6"},':not(pre) > code[class*="language-"]':{padding:".1em",borderRadius:".3em"},comment:{color:"#6c6783"},prolog:{color:"#6c6783"},doctype:{color:"#6c6783"},cdata:{color:"#6c6783"},punctuation:{color:"#6c6783"},namespace:{Opacity:".7"},tag:{color:"#3AACE2"},operator:{color:"#3AACE2"},number:{color:"#3AACE2"},property:{color:"#5DFAFC"},function:{color:"#5DFAFC"},"tag-id":{color:"#eeebff"},selector:{color:"#eeebff"},"atrule-id":{color:"#eeebff"},"code.language-javascript":{color:"#c4b9fe"},"attr-name":{color:"#c4b9fe"},"code.language-css":{color:"#ffffff"},"code.language-scss":{color:"#ffffff"},boolean:{color:"#ffffff"},string:{color:"#ffffff"},entity:{color:"#ffffff",cursor:"help"},url:{color:"#ffffff"},".language-css .token.string":{color:"#ffffff"},".language-scss .token.string":{color:"#ffffff"},".style .token.string":{color:"#ffffff"},"attr-value":{color:"#ffffff"},keyword:{color:"#ffffff"},control:{color:"#ffffff"},directive:{color:"#ffffff"},unit:{color:"#ffffff"},statement:{color:"#ffffff"},regex:{color:"#ffffff"},atrule:{color:"#ffffff"},placeholder:{color:"#ffffff"},variable:{color:"#ffffff"},deleted:{textDecoration:"line-through"},inserted:{borderBottom:"1px dotted #eeebff",textDecoration:"none"},italic:{fontStyle:"italic"},important:{fontWeight:"bold",color:"#c4b9fe"},bold:{fontWeight:"bold"},"pre > code.highlight":{Outline:".4em solid #8a75f5",OutlineOffset:".4em"},".line-numbers.line-numbers .line-numbers-rows":{borderRightColor:"#2c2937"},".line-numbers .line-numbers-rows > span:before":{color:"#3c3949"},".line-highlight.line-highlight":{background:"linear-gradient(to right, rgba(224, 145, 66, 0.2) 70%, rgba(224, 145, 66, 0))"}};var a={'code[class*="language-"]':{textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",color:"rgb(77, 77, 76)",background:"#fafafa",fontFamily:"Monaco, Menlo, Ubuntu Mono, Consolas, source-code-pro, monospace",fontSize:"12px",lineHeight:"1.5em",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",color:"rgb(77, 77, 76)",background:"#fafafa",fontFamily:"Monaco, Menlo, Ubuntu Mono, Consolas, source-code-pro, monospace",fontSize:"12px",lineHeight:"1.5em",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",overflow:"auto",position:"relative",margin:"0.5em 0",padding:"1.25em 1em"},'code[class*="language-"]::-moz-selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"]::-moz-selection':{background:"#cceae7",color:"#263238"},'code[class*="language-"] ::-moz-selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"] ::-moz-selection':{background:"#cceae7",color:"#263238"},'code[class*="language-"]::selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"]::selection':{background:"#cceae7",color:"#263238"},'code[class*="language-"] ::selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"] ::selection':{background:"#cceae7",color:"#263238"},':not(pre) > code[class*="language-"]':{whiteSpace:"normal",borderRadius:"0.2em",padding:"0.1em"},".language-css > code":{color:"#f5871f"},".language-sass > code":{color:"#f5871f"},".language-scss > code":{color:"#f5871f"},'[class*="language-"] .namespace':{Opacity:"0.7"},atrule:{color:"#7c4dff"},"attr-name":{color:"#39adb5"},"attr-value":{color:"#f6a434"},attribute:{color:"#f6a434"},boolean:{color:"#7c4dff"},builtin:{color:"#39adb5"},cdata:{color:"#39adb5"},char:{color:"#39adb5"},class:{color:"#39adb5"},"class-name":{color:"#6182b8"},comment:{color:"#8e908c"},constant:{color:"#7c4dff"},deleted:{color:"#e53935"},doctype:{color:"#aabfc9"},entity:{color:"#e53935"},function:{color:"#4271ae"},hexcode:{color:"#f5871f"},id:{color:"#7c4dff",fontWeight:"bold"},important:{color:"#7c4dff",fontWeight:"bold"},inserted:{color:"#39adb5"},keyword:{color:"#8959a8"},number:{color:"#f5871f"},operator:{color:"#3e999f"},prolog:{color:"#aabfc9"},property:{color:"#39adb5"},"pseudo-class":{color:"#f6a434"},"pseudo-element":{color:"#f6a434"},punctuation:{color:"rgb(77, 77, 76)"},regex:{color:"#6182b8"},selector:{color:"#e53935"},string:{color:"#3ba85f"},symbol:{color:"#7c4dff"},tag:{color:"#e53935"},unit:{color:"#f5871f"},url:{color:"#e53935"},variable:{color:"#c72d4c"}},l=n(9133),c=n(50111);r.A.registerLanguage("python",i.A),r.A.registerLanguage("json",o.A);const d="24px",u={light:a,duotoneDark:s};function p(e){let{theme:t="light",language:n,actions:i,style:o,children:s,showLineNumbers:a,lineNumberStyle:p,wrapLongLines:h}=e;const m={border:"none",borderRadius:0,margin:0,padding:d,...o};return(0,c.Y)(c.FK,{children:(0,c.Y)(r.A,{showLineNumbers:a,lineNumberStyle:p,language:n,style:u[t],customStyle:m,codeTagProps:{style:(0,l.pick)(o,"backgroundColor")},wrapLongLines:h,children:s})})}},47790:function(){},63779:function(){},77199:function(){}}]);
//# sourceMappingURL=156.61e30459.chunk.js.map